 Network daniel-goncalves_rinha-network  Creating
 Network daniel-goncalves_rinha-network  Created
 Container daniel-goncalves-postgres-1  Creating
 Container daniel-goncalves-postgres-1  Created
 Container rinha-backend-api-01  Creating
 Container rinha-backend-api-02  Creating
 Container rinha-backend-api-01  Created
 Container rinha-backend-api-02  Created
 Container daniel-goncalves-nginx-1  Creating
 Container daniel-goncalves-nginx-1  Created
Attaching to nginx-1, postgres-1, rinha-backend-api-01, rinha-backend-api-02
postgres-1            | The files belonging to this database system will be owned by user "postgres".
postgres-1            | This user must also own the server process.
postgres-1            | 
postgres-1            | The database cluster will be initialized with locale "en_US.utf8".
postgres-1            | The default database encoding has accordingly been set to "UTF8".
postgres-1            | The default text search configuration will be set to "english".
postgres-1            | 
postgres-1            | Data page checksums are disabled.
postgres-1            | 
postgres-1            | fixing permissions on existing directory /var/lib/postgresql/data/pgdata ... ok
postgres-1            | creating subdirectories ... ok
postgres-1            | selecting dynamic shared memory implementation ... posix
postgres-1            | selecting default max_connections ... 100
postgres-1            | selecting default shared_buffers ... 128MB
postgres-1            | selecting default time zone ... Etc/UTC
postgres-1            | creating configuration files ... ok
postgres-1            | running bootstrap script ... ok
postgres-1            | performing post-bootstrap initialization ... ok
nginx-1               | /docker-entrypoint.sh: /docker-entrypoint.d/ is not empty, will attempt to perform configuration
nginx-1               | /docker-entrypoint.sh: Looking for shell scripts in /docker-entrypoint.d/
nginx-1               | /docker-entrypoint.sh: Launching /docker-entrypoint.d/10-listen-on-ipv6-by-default.sh
nginx-1               | 10-listen-on-ipv6-by-default.sh: info: Getting the checksum of /etc/nginx/conf.d/default.conf
nginx-1               | 10-listen-on-ipv6-by-default.sh: info: Enabled listen on IPv6 in /etc/nginx/conf.d/default.conf
nginx-1               | /docker-entrypoint.sh: Sourcing /docker-entrypoint.d/15-local-resolvers.envsh
nginx-1               | /docker-entrypoint.sh: Launching /docker-entrypoint.d/20-envsubst-on-templates.sh
nginx-1               | /docker-entrypoint.sh: Launching /docker-entrypoint.d/30-tune-worker-processes.sh
nginx-1               | /docker-entrypoint.sh: Configuration complete; ready for start up
postgres-1            | initdb: warning: enabling "trust" authentication for local connections
postgres-1            | initdb: hint: You can change this by editing pg_hba.conf or using the option -A, or --auth-local and --auth-host, the next time you run initdb.
postgres-1            | syncing data to disk ... ok
postgres-1            | 
postgres-1            | 
postgres-1            | Success. You can now start the database server using:
postgres-1            | 
postgres-1            |     pg_ctl -D /var/lib/postgresql/data/pgdata -l logfile start
postgres-1            | 
postgres-1            | waiting for server to start.... done
postgres-1            | server started
postgres-1            | 
postgres-1            | /usr/local/bin/docker-entrypoint.sh: running /docker-entrypoint-initdb.d/create_db.sql
postgres-1            | CREATE TABLE
postgres-1            | CREATE TABLE
postgres-1            | DO
postgres-1            | 
postgres-1            | 
postgres-1            | waiting for server to shut down.... done
postgres-1            | server stopped
postgres-1            | 
postgres-1            | PostgreSQL init process complete; ready for start up.
postgres-1            | 
nginx-1               | 2024/02/22 00:38:22 [error] 30#30: *1 connect() failed (111: Connection refused) while connecting to upstream, client: 172.25.0.1, server: , request: "GET /clientes/1/extrato HTTP/1.1", upstream: "http://172.25.0.4:8080/clientes/1/extrato", host: "localhost:9999"
nginx-1               | 2024/02/22 00:38:22 [error] 30#30: *1 connect() failed (111: Connection refused) while connecting to upstream, client: 172.25.0.1, server: , request: "GET /clientes/1/extrato HTTP/1.1", upstream: "http://172.25.0.3:8080/clientes/1/extrato", host: "localhost:9999"
nginx-1               | 2024/02/22 00:38:24 [error] 31#31: *4 connect() failed (111: Connection refused) while connecting to upstream, client: 172.25.0.1, server: , request: "GET /clientes/1/extrato HTTP/1.1", upstream: "http://172.25.0.4:8080/clientes/1/extrato", host: "localhost:9999"
nginx-1               | 2024/02/22 00:38:24 [error] 31#31: *4 connect() failed (111: Connection refused) while connecting to upstream, client: 172.25.0.1, server: , request: "GET /clientes/1/extrato HTTP/1.1", upstream: "http://172.25.0.3:8080/clientes/1/extrato", host: "localhost:9999"
rinha-backend-api-01  | 
rinha-backend-api-01  |   .   ____          _            __ _ _
rinha-backend-api-01  |  /\\ / ___'_ __ _ _(_)_ __  __ _ \ \ \ \
rinha-backend-api-01  | ( ( )\___ | '_ | '_| | '_ \/ _` | \ \ \ \
rinha-backend-api-01  |  \\/  ___)| |_)| | | | | || (_| |  ) ) ) )
rinha-backend-api-01  |   '  |____| .__|_| |_|_| |_\__, | / / / /
rinha-backend-api-01  |  =========|_|==============|___/=/_/_/_/
rinha-backend-api-01  |  :: Spring Boot ::                (v3.2.2)
rinha-backend-api-01  | 
rinha-backend-api-02  | 
rinha-backend-api-02  |   .   ____          _            __ _ _
rinha-backend-api-02  |  /\\ / ___'_ __ _ _(_)_ __  __ _ \ \ \ \
rinha-backend-api-02  | ( ( )\___ | '_ | '_| | '_ \/ _` | \ \ \ \
rinha-backend-api-02  |  \\/  ___)| |_)| | | | | || (_| |  ) ) ) )
rinha-backend-api-02  |   '  |____| .__|_| |_|_| |_\__, | / / / /
rinha-backend-api-02  |  =========|_|==============|___/=/_/_/_/
rinha-backend-api-02  |  :: Spring Boot ::                (v3.2.2)
rinha-backend-api-02  | 
rinha-backend-api-01  | 2024-02-22T00:38:25.829Z  INFO 1 --- [           main] c.g.r.RinhaDeBackend2024Q1Application    : Starting RinhaDeBackend2024Q1Application v0.0.1-SNAPSHOT using Java 21 with PID 1 (/rinhabackend.jar started by root in /)
rinha-backend-api-01  | 2024-02-22T00:38:25.919Z  INFO 1 --- [           main] c.g.r.RinhaDeBackend2024Q1Application    : No active profile set, falling back to 1 default profile: "default"
rinha-backend-api-02  | 2024-02-22T00:38:26.119Z  INFO 1 --- [           main] c.g.r.RinhaDeBackend2024Q1Application    : Starting RinhaDeBackend2024Q1Application v0.0.1-SNAPSHOT using Java 21 with PID 1 (/rinhabackend.jar started by root in /)
rinha-backend-api-02  | 2024-02-22T00:38:26.123Z  INFO 1 --- [           main] c.g.r.RinhaDeBackend2024Q1Application    : No active profile set, falling back to 1 default profile: "default"
nginx-1               | 2024/02/22 00:38:26 [error] 29#29: *7 connect() failed (111: Connection refused) while connecting to upstream, client: 172.25.0.1, server: , request: "GET /clientes/1/extrato HTTP/1.1", upstream: "http://172.25.0.4:8080/clientes/1/extrato", host: "localhost:9999"
nginx-1               | 2024/02/22 00:38:26 [error] 29#29: *7 connect() failed (111: Connection refused) while connecting to upstream, client: 172.25.0.1, server: , request: "GET /clientes/1/extrato HTTP/1.1", upstream: "http://172.25.0.3:8080/clientes/1/extrato", host: "localhost:9999"
nginx-1               | 2024/02/22 00:38:28 [error] 32#32: *10 connect() failed (111: Connection refused) while connecting to upstream, client: 172.25.0.1, server: , request: "GET /clientes/1/extrato HTTP/1.1", upstream: "http://172.25.0.4:8080/clientes/1/extrato", host: "localhost:9999"
nginx-1               | 2024/02/22 00:38:28 [error] 32#32: *10 connect() failed (111: Connection refused) while connecting to upstream, client: 172.25.0.1, server: , request: "GET /clientes/1/extrato HTTP/1.1", upstream: "http://172.25.0.3:8080/clientes/1/extrato", host: "localhost:9999"
nginx-1               | 2024/02/22 00:38:30 [error] 30#30: *13 no live upstreams while connecting to upstream, client: 172.25.0.1, server: , request: "GET /clientes/1/extrato HTTP/1.1", upstream: "http://api/clientes/1/extrato", host: "localhost:9999"
rinha-backend-api-01  | 2024-02-22T00:38:30.633Z  INFO 1 --- [           main] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data JPA repositories in DEFAULT mode.
rinha-backend-api-02  | 2024-02-22T00:38:31.114Z  INFO 1 --- [           main] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data JPA repositories in DEFAULT mode.
rinha-backend-api-01  | 2024-02-22T00:38:31.216Z  INFO 1 --- [           main] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 492 ms. Found 2 JPA repository interfaces.
rinha-backend-api-02  | 2024-02-22T00:38:31.418Z  INFO 1 --- [           main] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 294 ms. Found 2 JPA repository interfaces.
nginx-1               | 2024/02/22 00:38:32 [error] 30#30: *14 no live upstreams while connecting to upstream, client: 172.25.0.1, server: , request: "GET /clientes/1/extrato HTTP/1.1", upstream: "http://api/clientes/1/extrato", host: "localhost:9999"
nginx-1               | 2024/02/22 00:38:34 [error] 30#30: *15 connect() failed (111: Connection refused) while connecting to upstream, client: 172.25.0.1, server: , request: "GET /clientes/1/extrato HTTP/1.1", upstream: "http://172.25.0.3:8080/clientes/1/extrato", host: "localhost:9999"
nginx-1               | 2024/02/22 00:38:34 [error] 30#30: *15 connect() failed (111: Connection refused) while connecting to upstream, client: 172.25.0.1, server: , request: "GET /clientes/1/extrato HTTP/1.1", upstream: "http://172.25.0.4:8080/clientes/1/extrato", host: "localhost:9999"
rinha-backend-api-01  | 2024-02-22T00:38:35.625Z  INFO 1 --- [           main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat initialized with port 8080 (http)
rinha-backend-api-01  | 2024-02-22T00:38:35.727Z  INFO 1 --- [           main] o.apache.catalina.core.StandardService   : Starting service [Tomcat]
rinha-backend-api-01  | 2024-02-22T00:38:35.728Z  INFO 1 --- [           main] o.apache.catalina.core.StandardEngine    : Starting Servlet engine: [Apache Tomcat/10.1.18]
rinha-backend-api-02  | 2024-02-22T00:38:35.825Z  INFO 1 --- [           main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat initialized with port 8080 (http)
rinha-backend-api-02  | 2024-02-22T00:38:35.919Z  INFO 1 --- [           main] o.apache.catalina.core.StandardService   : Starting service [Tomcat]
rinha-backend-api-02  | 2024-02-22T00:38:35.919Z  INFO 1 --- [           main] o.apache.catalina.core.StandardEngine    : Starting Servlet engine: [Apache Tomcat/10.1.18]
nginx-1               | 2024/02/22 00:38:36 [error] 30#30: *18 no live upstreams while connecting to upstream, client: 172.25.0.1, server: , request: "GET /clientes/1/extrato HTTP/1.1", upstream: "http://api/clientes/1/extrato", host: "localhost:9999"
rinha-backend-api-01  | 2024-02-22T00:38:36.526Z  INFO 1 --- [           main] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring embedded WebApplicationContext
rinha-backend-api-01  | 2024-02-22T00:38:36.527Z  INFO 1 --- [           main] w.s.c.ServletWebServerApplicationContext : Root WebApplicationContext: initialization completed in 10302 ms
rinha-backend-api-02  | 2024-02-22T00:38:36.621Z  INFO 1 --- [           main] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring embedded WebApplicationContext
rinha-backend-api-02  | 2024-02-22T00:38:36.623Z  INFO 1 --- [           main] w.s.c.ServletWebServerApplicationContext : Root WebApplicationContext: initialization completed in 10094 ms
nginx-1               | 2024/02/22 00:38:38 [error] 30#30: *19 no live upstreams while connecting to upstream, client: 172.25.0.1, server: , request: "GET /clientes/1/extrato HTTP/1.1", upstream: "http://api/clientes/1/extrato", host: "localhost:9999"
nginx-1               | 2024/02/22 00:38:40 [error] 30#30: *20 no live upstreams while connecting to upstream, client: 172.25.0.1, server: , request: "GET /clientes/1/extrato HTTP/1.1", upstream: "http://api/clientes/1/extrato", host: "localhost:9999"
rinha-backend-api-02  | 2024-02-22T00:38:40.615Z  INFO 1 --- [           main] o.hibernate.jpa.internal.util.LogHelper  : HHH000204: Processing PersistenceUnitInfo [name: default]
rinha-backend-api-02  | 2024-02-22T00:38:41.029Z  INFO 1 --- [           main] org.hibernate.Version                    : HHH000412: Hibernate ORM core version 6.4.1.Final
rinha-backend-api-02  | 2024-02-22T00:38:41.229Z  INFO 1 --- [           main] o.h.c.internal.RegionFactoryInitiator    : HHH000026: Second-level cache disabled
rinha-backend-api-01  | 2024-02-22T00:38:41.427Z  INFO 1 --- [           main] o.hibernate.jpa.internal.util.LogHelper  : HHH000204: Processing PersistenceUnitInfo [name: default]
rinha-backend-api-01  | 2024-02-22T00:38:41.920Z  INFO 1 --- [           main] org.hibernate.Version                    : HHH000412: Hibernate ORM core version 6.4.1.Final
rinha-backend-api-01  | 2024-02-22T00:38:42.129Z  INFO 1 --- [           main] o.h.c.internal.RegionFactoryInitiator    : HHH000026: Second-level cache disabled
nginx-1               | 2024/02/22 00:38:42 [error] 30#30: *21 no live upstreams while connecting to upstream, client: 172.25.0.1, server: , request: "GET /clientes/1/extrato HTTP/1.1", upstream: "http://api/clientes/1/extrato", host: "localhost:9999"
rinha-backend-api-02  | 2024-02-22T00:38:42.929Z  INFO 1 --- [           main] o.s.o.j.p.SpringPersistenceUnitInfo      : No LoadTimeWeaver setup: ignoring JPA class transformer
rinha-backend-api-01  | 2024-02-22T00:38:43.717Z  INFO 1 --- [           main] o.s.o.j.p.SpringPersistenceUnitInfo      : No LoadTimeWeaver setup: ignoring JPA class transformer
nginx-1               | 2024/02/22 00:38:44 [error] 30#30: *22 no live upstreams while connecting to upstream, client: 172.25.0.1, server: , request: "GET /clientes/1/extrato HTTP/1.1", upstream: "http://api/clientes/1/extrato", host: "localhost:9999"
nginx-1               | 2024/02/22 00:38:46 [error] 30#30: *23 connect() failed (111: Connection refused) while connecting to upstream, client: 172.25.0.1, server: , request: "GET /clientes/1/extrato HTTP/1.1", upstream: "http://172.25.0.3:8080/clientes/1/extrato", host: "localhost:9999"
nginx-1               | 2024/02/22 00:38:46 [error] 30#30: *23 connect() failed (111: Connection refused) while connecting to upstream, client: 172.25.0.1, server: , request: "GET /clientes/1/extrato HTTP/1.1", upstream: "http://172.25.0.4:8080/clientes/1/extrato", host: "localhost:9999"
rinha-backend-api-02 exited with code 137
rinha-backend-api-01 exited with code 137
nginx-1               | 2024/02/22 00:38:48 [error] 30#30: *26 no live upstreams while connecting to upstream, client: 172.25.0.1, server: , request: "GET /clientes/1/extrato HTTP/1.1", upstream: "http://api/clientes/1/extrato", host: "localhost:9999"
nginx-1               | 2024/02/22 00:38:50 [error] 30#30: *27 no live upstreams while connecting to upstream, client: 172.25.0.1, server: , request: "GET /clientes/1/extrato HTTP/1.1", upstream: "http://api/clientes/1/extrato", host: "localhost:9999"
nginx-1               | 2024/02/22 00:38:52 [error] 30#30: *28 no live upstreams while connecting to upstream, client: 172.25.0.1, server: , request: "GET /clientes/1/extrato HTTP/1.1", upstream: "http://api/clientes/1/extrato", host: "localhost:9999"
nginx-1               | 2024/02/22 00:38:54 [error] 30#30: *29 no live upstreams while connecting to upstream, client: 172.25.0.1, server: , request: "GET /clientes/1/extrato HTTP/1.1", upstream: "http://api/clientes/1/extrato", host: "localhost:9999"
nginx-1               | 2024/02/22 00:38:56 [error] 30#30: *30 no live upstreams while connecting to upstream, client: 172.25.0.1, server: , request: "GET /clientes/1/extrato HTTP/1.1", upstream: "http://api/clientes/1/extrato", host: "localhost:9999"
nginx-1               | 2024/02/22 00:39:16 [error] 30#30: *31 connect() failed (113: No route to host) while connecting to upstream, client: 172.25.0.1, server: , request: "GET /clientes/1/extrato HTTP/1.1", upstream: "http://172.25.0.3:8080/clientes/1/extrato", host: "localhost:9999"
nginx-1               | 2024/02/22 00:39:35 [error] 30#30: *31 connect() failed (113: No route to host) while connecting to upstream, client: 172.25.0.1, server: , request: "GET /clientes/1/extrato HTTP/1.1", upstream: "http://172.25.0.4:8080/clientes/1/extrato", host: "localhost:9999"
nginx-1               | 2024/02/22 00:39:40 [error] 30#30: *34 connect() failed (113: No route to host) while connecting to upstream, client: 172.25.0.1, server: , request: "GET /clientes/1/extrato HTTP/1.1", upstream: "http://172.25.0.3:8080/clientes/1/extrato", host: "localhost:9999"
nginx-1               | 2024/02/22 00:39:40 [error] 30#30: *34 no live upstreams while connecting to upstream, client: 172.25.0.1, server: , request: "GET /clientes/1/extrato HTTP/1.1", upstream: "http://api/clientes/1/extrato", host: "localhost:9999"
nginx-1 exited with code 0
nginx-1 exited with code 0
postgres-1 exited with code 0
