 Network rinha_network  Creating
 Network rinha_network  Created
 Container andersonfernandes-ruby-db-1  Creating
 Container andersonfernandes-ruby-db-1  Created
 Container andersonfernandes-ruby-api_2-1  Creating
 Container andersonfernandes-ruby-api_1-1  Creating
 Container andersonfernandes-ruby-api_2-1  Created
 Container andersonfernandes-ruby-api_1-1  Created
 Container andersonfernandes-ruby-load_balancer-1  Creating
 Container andersonfernandes-ruby-load_balancer-1  Created
Attaching to api_1-1, api_2-1, db-1, load_balancer-1
db-1             | The files belonging to this database system will be owned by user "postgres".
db-1             | This user must also own the server process.
db-1             | 
db-1             | The database cluster will be initialized with locale "en_US.utf8".
db-1             | The default database encoding has accordingly been set to "UTF8".
db-1             | The default text search configuration will be set to "english".
db-1             | 
db-1             | Data page checksums are disabled.
db-1             | 
db-1             | fixing permissions on existing directory /var/lib/postgresql/data ... ok
db-1             | creating subdirectories ... ok
db-1             | selecting dynamic shared memory implementation ... posix
db-1             | selecting default max_connections ... 100
db-1             | selecting default shared_buffers ... 128MB
db-1             | selecting default time zone ... UTC
db-1             | creating configuration files ... ok
db-1             | running bootstrap script ... ok
db-1             | sh: locale: not found
db-1             | 2024-02-24 04:13:44.230 UTC [30] WARNING:  no usable system locales were found
db-1             | performing post-bootstrap initialization ... ok
db-1             | syncing data to disk ... ok
db-1             | 
db-1             | 
db-1             | Success. You can now start the database server using:
db-1             | 
db-1             |     pg_ctl -D /var/lib/postgresql/data -l logfile start
db-1             | 
db-1             | initdb: warning: enabling "trust" authentication for local connections
db-1             | initdb: hint: You can change this by editing pg_hba.conf or using the option -A, or --auth-local and --auth-host, the next time you run initdb.
db-1             | waiting for server to start....2024-02-24 04:13:46.084 UTC [36] LOG:  starting PostgreSQL 15.3 on x86_64-pc-linux-musl, compiled by gcc (Alpine 12.2.1_git20220924-r10) 12.2.1 20220924, 64-bit
db-1             | 2024-02-24 04:13:46.088 UTC [36] LOG:  listening on Unix socket "/var/run/postgresql/.s.PGSQL.5432"
db-1             | 2024-02-24 04:13:46.100 UTC [39] LOG:  database system was shut down at 2024-02-24 04:13:45 UTC
db-1             | 2024-02-24 04:13:46.106 UTC [36] LOG:  database system is ready to accept connections
db-1             |  done
db-1             | server started
db-1             | CREATE DATABASE
db-1             | 
db-1             | 
db-1             | /usr/local/bin/docker-entrypoint.sh: running /docker-entrypoint-initdb.d/init.sql
db-1             | SET
db-1             | SET
db-1             | SET
db-1             | SET
db-1             | SET
db-1             |  set_config 
db-1             | ------------
db-1             |  
db-1             | (1 row)
db-1             | 
db-1             | SET
db-1             | SET
db-1             | SET
db-1             | SET
db-1             | SET
db-1             | SET
db-1             | CREATE TABLE
db-1             | ALTER TABLE
db-1             | ALTER TABLE
db-1             | CREATE TABLE
db-1             | ALTER TABLE
db-1             | ALTER TABLE
db-1             | COPY 5
db-1             | COPY 0
db-1             |  setval 
db-1             | --------
db-1             |       5
db-1             | (1 row)
db-1             | 
db-1             |  setval 
db-1             | --------
db-1             |       1
db-1             | (1 row)
db-1             | 
db-1             | ALTER TABLE
db-1             | ALTER TABLE
db-1             | CREATE INDEX
db-1             | ALTER TABLE
db-1             | 
db-1             | 
db-1             | waiting for server to shut down...2024-02-24 04:13:46.370 UTC [36] LOG:  received fast shutdown request
db-1             | .2024-02-24 04:13:46.372 UTC [36] LOG:  aborting any active transactions
db-1             | 2024-02-24 04:13:46.374 UTC [36] LOG:  background worker "logical replication launcher" (PID 42) exited with exit code 1
db-1             | 2024-02-24 04:13:46.375 UTC [37] LOG:  shutting down
db-1             | 2024-02-24 04:13:46.377 UTC [37] LOG:  checkpoint starting: shutdown immediate
db-1             | 2024-02-24 04:13:46.898 UTC [37] LOG:  checkpoint complete: wrote 931 buffers (5.7%); 0 WAL file(s) added, 0 removed, 0 recycled; write=0.380 s, sync=0.130 s, total=0.524 s; sync files=256, longest=0.104 s, average=0.001 s; distance=4264 kB, estimate=4264 kB
db-1             | 2024-02-24 04:13:46.904 UTC [36] LOG:  database system is shut down
db-1             |  done
db-1             | server stopped
db-1             | 
db-1             | PostgreSQL init process complete; ready for start up.
db-1             | 
db-1             | 2024-02-24 04:13:46.996 UTC [1] LOG:  starting PostgreSQL 15.3 on x86_64-pc-linux-musl, compiled by gcc (Alpine 12.2.1_git20220924-r10) 12.2.1 20220924, 64-bit
db-1             | 2024-02-24 04:13:46.996 UTC [1] LOG:  listening on IPv4 address "0.0.0.0", port 5432
db-1             | 2024-02-24 04:13:46.996 UTC [1] LOG:  listening on IPv6 address "::", port 5432
db-1             | 2024-02-24 04:13:47.002 UTC [1] LOG:  listening on Unix socket "/var/run/postgresql/.s.PGSQL.5432"
db-1             | 2024-02-24 04:13:47.009 UTC [60] LOG:  database system was shut down at 2024-02-24 04:13:46 UTC
db-1             | 2024-02-24 04:13:47.016 UTC [1] LOG:  database system is ready to accept connections
load_balancer-1  | /docker-entrypoint.sh: /docker-entrypoint.d/ is not empty, will attempt to perform configuration
load_balancer-1  | /docker-entrypoint.sh: Looking for shell scripts in /docker-entrypoint.d/
load_balancer-1  | /docker-entrypoint.sh: Launching /docker-entrypoint.d/10-listen-on-ipv6-by-default.sh
load_balancer-1  | 10-listen-on-ipv6-by-default.sh: info: Getting the checksum of /etc/nginx/conf.d/default.conf
load_balancer-1  | 10-listen-on-ipv6-by-default.sh: info: Enabled listen on IPv6 in /etc/nginx/conf.d/default.conf
load_balancer-1  | /docker-entrypoint.sh: Sourcing /docker-entrypoint.d/15-local-resolvers.envsh
load_balancer-1  | /docker-entrypoint.sh: Launching /docker-entrypoint.d/20-envsubst-on-templates.sh
load_balancer-1  | /docker-entrypoint.sh: Launching /docker-entrypoint.d/30-tune-worker-processes.sh
load_balancer-1  | /docker-entrypoint.sh: Configuration complete; ready for start up
load_balancer-1  | 2024/02/24 04:13:51 [error] 29#29: *1 connect() failed (111: Connection refused) while connecting to upstream, client: 172.19.0.1, server: , request: "GET /clientes/1/extrato HTTP/1.1", upstream: "http://172.19.0.3:5000/clientes/1/extrato", host: "localhost:9999"
load_balancer-1  | 172.19.0.1 - - [24/Feb/2024:04:13:51 +0000] "GET /clientes/1/extrato HTTP/1.1" 502 157 "-" "curl/7.81.0"
load_balancer-1  | 2024/02/24 04:13:51 [error] 29#29: *1 connect() failed (111: Connection refused) while connecting to upstream, client: 172.19.0.1, server: , request: "GET /clientes/1/extrato HTTP/1.1", upstream: "http://172.19.0.4:5000/clientes/1/extrato", host: "localhost:9999"
load_balancer-1  | 172.19.0.1 - - [24/Feb/2024:04:13:53 +0000] "GET /clientes/1/extrato HTTP/1.1" 200 104 "-" "curl/7.81.0"
load_balancer-1  | 172.19.0.1 - - [24/Feb/2024:04:13:53 +0000] "GET /clientes/1/extrato HTTP/1.1" 200 104 "-" "curl/7.81.0"
load_balancer-1  | 172.19.0.1 - - [24/Feb/2024:04:13:57 +0000] "POST /clientes/1/transacoes HTTP/1.1" 502 157 "-" "Agente do Caos - 2024/Q1"
load_balancer-1  | 172.19.0.1 - - [24/Feb/2024:04:13:57 +0000] "POST /clientes/1/transacoes HTTP/1.1" 502 157 "-" "Agente do Caos - 2024/Q1"
load_balancer-1  | 2024/02/24 04:13:57 [error] 29#29: *14 no live upstreams while connecting to upstream, client: 172.19.0.1, server: , request: "POST /clientes/1/transacoes HTTP/1.1", upstream: "http://backend/clientes/1/transacoes", host: "localhost:9999"
load_balancer-1  | 2024/02/24 04:13:57 [error] 29#29: *15 no live upstreams while connecting to upstream, client: 172.19.0.1, server: , request: "POST /clientes/1/transacoes HTTP/1.1", upstream: "http://backend/clientes/1/transacoes", host: "localhost:9999"
load_balancer-1  | 2024/02/24 04:13:57 [error] 29#29: *16 no live upstreams while connecting to upstream, client: 172.19.0.1, server: , request: "POST /clientes/1/transacoes HTTP/1.1", upstream: "http://backend/clientes/1/transacoes", host: "localhost:9999"
load_balancer-1  | 172.19.0.1 - - [24/Feb/2024:04:13:57 +0000] "POST /clientes/1/transacoes HTTP/1.1" 502 157 "-" "Agente do Caos - 2024/Q1"
load_balancer-1  | 172.19.0.1 - - [24/Feb/2024:04:13:57 +0000] "POST /clientes/1/transacoes HTTP/1.1" 200 28 "-" "Agente do Caos - 2024/Q1"
load_balancer-1  | 172.19.0.1 - - [24/Feb/2024:04:13:57 +0000] "POST /clientes/1/transacoes HTTP/1.1" 502 157 "-" "Agente do Caos - 2024/Q1"
load_balancer-1  | 172.19.0.1 - - [24/Feb/2024:04:13:57 +0000] "POST /clientes/1/transacoes HTTP/1.1" 502 157 "-" "Agente do Caos - 2024/Q1"
load_balancer-1  | 172.19.0.1 - - [24/Feb/2024:04:13:57 +0000] "POST /clientes/1/transacoes HTTP/1.1" 502 157 "-" "Agente do Caos - 2024/Q1"
load_balancer-1  | 2024/02/24 04:13:57 [error] 29#29: *12 no live upstreams while connecting to upstream, client: 172.19.0.1, server: , request: "POST /clientes/1/transacoes HTTP/1.1", upstream: "http://backend/clientes/1/transacoes", host: "localhost:9999"
load_balancer-1  | 2024/02/24 04:13:57 [error] 29#29: *11 no live upstreams while connecting to upstream, client: 172.19.0.1, server: , request: "POST /clientes/1/transacoes HTTP/1.1", upstream: "http://backend/clientes/1/transacoes", host: "localhost:9999"
load_balancer-1  | 2024/02/24 04:13:57 [error] 29#29: *13 no live upstreams while connecting to upstream, client: 172.19.0.1, server: , request: "POST /clientes/1/transacoes HTTP/1.1", upstream: "http://backend/clientes/1/transacoes", host: "localhost:9999"
load_balancer-1  | 172.19.0.1 - - [24/Feb/2024:04:13:57 +0000] "POST /clientes/1/transacoes HTTP/1.1" 502 157 "-" "Agente do Caos - 2024/Q1"
load_balancer-1  | 2024/02/24 04:13:57 [error] 29#29: *42 no live upstreams while connecting to upstream, client: 172.19.0.1, server: , request: "POST /clientes/1/transacoes HTTP/1.1", upstream: "http://backend/clientes/1/transacoes", host: "localhost:9999"
load_balancer-1  | 172.19.0.1 - - [24/Feb/2024:04:13:57 +0000] "POST /clientes/1/transacoes HTTP/1.1" 200 28 "-" "Agente do Caos - 2024/Q1"
load_balancer-1  | 172.19.0.1 - - [24/Feb/2024:04:13:57 +0000] "POST /clientes/1/transacoes HTTP/1.1" 200 28 "-" "Agente do Caos - 2024/Q1"
load_balancer-1  | 172.19.0.1 - - [24/Feb/2024:04:13:57 +0000] "POST /clientes/1/transacoes HTTP/1.1" 200 28 "-" "Agente do Caos - 2024/Q1"
load_balancer-1  | 172.19.0.1 - - [24/Feb/2024:04:13:57 +0000] "POST /clientes/1/transacoes HTTP/1.1" 200 28 "-" "Agente do Caos - 2024/Q1"
load_balancer-1  | 172.19.0.1 - - [24/Feb/2024:04:13:57 +0000] "POST /clientes/1/transacoes HTTP/1.1" 200 28 "-" "Agente do Caos - 2024/Q1"
load_balancer-1  | 172.19.0.1 - - [24/Feb/2024:04:13:57 +0000] "POST /clientes/1/transacoes HTTP/1.1" 200 28 "-" "Agente do Caos - 2024/Q1"
load_balancer-1  | 172.19.0.1 - - [24/Feb/2024:04:13:57 +0000] "POST /clientes/1/transacoes HTTP/1.1" 200 28 "-" "Agente do Caos - 2024/Q1"
load_balancer-1  | 172.19.0.1 - - [24/Feb/2024:04:13:57 +0000] "POST /clientes/1/transacoes HTTP/1.1" 200 29 "-" "Agente do Caos - 2024/Q1"
load_balancer-1  | 172.19.0.1 - - [24/Feb/2024:04:13:57 +0000] "POST /clientes/1/transacoes HTTP/1.1" 200 29 "-" "Agente do Caos - 2024/Q1"
load_balancer-1  | 172.19.0.1 - - [24/Feb/2024:04:13:58 +0000] "POST /clientes/1/transacoes HTTP/1.1" 200 28 "-" "Agente do Caos - 2024/Q1"
load_balancer-1  | 172.19.0.1 - - [24/Feb/2024:04:13:58 +0000] "POST /clientes/1/transacoes HTTP/1.1" 200 29 "-" "Agente do Caos - 2024/Q1"
load_balancer-1  | 172.19.0.1 - - [24/Feb/2024:04:13:58 +0000] "POST /clientes/1/transacoes HTTP/1.1" 200 29 "-" "Agente do Caos - 2024/Q1"
load_balancer-1  | 172.19.0.1 - - [24/Feb/2024:04:13:58 +0000] "POST /clientes/1/transacoes HTTP/1.1" 200 29 "-" "Agente do Caos - 2024/Q1"
load_balancer-1  | 172.19.0.1 - - [24/Feb/2024:04:13:58 +0000] "POST /clientes/1/transacoes HTTP/1.1" 200 29 "-" "Agente do Caos - 2024/Q1"
load_balancer-1  | 172.19.0.1 - - [24/Feb/2024:04:13:58 +0000] "POST /clientes/1/transacoes HTTP/1.1" 200 29 "-" "Agente do Caos - 2024/Q1"
load_balancer-1  | 172.19.0.1 - - [24/Feb/2024:04:13:58 +0000] "POST /clientes/1/transacoes HTTP/1.1" 200 29 "-" "Agente do Caos - 2024/Q1"
load_balancer-1  | 172.19.0.1 - - [24/Feb/2024:04:13:58 +0000] "POST /clientes/1/transacoes HTTP/1.1" 200 29 "-" "Agente do Caos - 2024/Q1"
load_balancer-1  | 172.19.0.1 - - [24/Feb/2024:04:13:58 +0000] "GET /clientes/1/extrato HTTP/1.1" 502 157 "-" "Agente do Caos - 2024/Q1"
load_balancer-1  | 2024/02/24 04:13:58 [error] 29#29: *51 no live upstreams while connecting to upstream, client: 172.19.0.1, server: , request: "GET /clientes/1/extrato HTTP/1.1", upstream: "http://backend/clientes/1/extrato", host: "localhost:9999"
load_balancer-1  | 172.19.0.1 - - [24/Feb/2024:04:13:59 +0000] "POST /clientes/1/transacoes HTTP/1.1" 502 157 "-" "Agente do Caos - 2024/Q1"
load_balancer-1  | 2024/02/24 04:13:59 [error] 29#29: *52 no live upstreams while connecting to upstream, client: 172.19.0.1, server: , request: "POST /clientes/1/transacoes HTTP/1.1", upstream: "http://backend/clientes/1/transacoes", host: "localhost:9999"
load_balancer-1  | 2024/02/24 04:13:59 [error] 29#29: *57 no live upstreams while connecting to upstream, client: 172.19.0.1, server: , request: "POST /clientes/1/transacoes HTTP/1.1", upstream: "http://backend/clientes/1/transacoes", host: "localhost:9999"
load_balancer-1  | 172.19.0.1 - - [24/Feb/2024:04:13:59 +0000] "POST /clientes/1/transacoes HTTP/1.1" 502 157 "-" "Agente do Caos - 2024/Q1"
load_balancer-1  | 172.19.0.1 - - [24/Feb/2024:04:13:59 +0000] "POST /clientes/1/transacoes HTTP/1.1" 200 29 "-" "Agente do Caos - 2024/Q1"
api_1-1          | 2024-02-24 04:13:51 +0000 Thin web server (v1.8.2 codename Ruby Razor)
api_1-1          | 2024-02-24 04:13:51 +0000 Maximum connections set to 1024
api_1-1          | 2024-02-24 04:13:51 +0000 Listening on 0.0.0.0:5000, CTRL+C to stop
api_1-1          | I, [2024-02-24T04:13:53.166244 #7]  INFO -- : (0.000131s) SET standard_conforming_strings = ON
api_1-1          | I, [2024-02-24T04:13:53.166353 #7]  INFO -- : (0.000060s) SET client_min_messages = 'WARNING'
api_1-1          | I, [2024-02-24T04:13:53.166420 #7]  INFO -- : (0.000052s) SET DateStyle = 'ISO'
api_1-1          | I, [2024-02-24T04:13:53.213073 #7]  INFO -- : (0.046466s) SELECT * FROM clients WHERE id=1 FOR UPDATE
api_1-1          | I, [2024-02-24T04:13:53.215111 #7]  INFO -- : (0.001813s) SELECT * FROM transactions WHERE client_id=1 ORDER BY at desc LIMIT 10
api_1-1          | 172.19.0.5 - - [24/Feb/2024:04:13:53 +0000] "GET /clientes/1/extrato HTTP/1.1" 200 104 0.0840
api_1-1          | I, [2024-02-24T04:13:53.260269 #7]  INFO -- : (0.037162s) SELECT * FROM clients WHERE id=1 FOR UPDATE
api_1-1          | I, [2024-02-24T04:13:53.260712 #7]  INFO -- : (0.000283s) SELECT * FROM transactions WHERE client_id=1 ORDER BY at desc LIMIT 10
api_1-1          | 172.19.0.5 - - [24/Feb/2024:04:13:53 +0000] "GET /clientes/1/extrato HTTP/1.1" 200 104 0.0389
api_1-1          | I, [2024-02-24T04:13:57.899579 #7]  INFO -- : (0.000156s) BEGIN
api_1-1          | I, [2024-02-24T04:13:57.900270 #7]  INFO -- : (0.000305s) SELECT * FROM clients WHERE id=1 FOR UPDATE
api_1-1          | I, [2024-02-24T04:13:57.901715 #7]  INFO -- : (0.001241s) INSERT INTO transactions (value, type, description, client_id) VALUES(1, 'd', 'validacao', 1)
api_1-1          | I, [2024-02-24T04:13:57.902183 #7]  INFO -- : (0.000339s) UPDATE clients SET current_balance=-1 WHERE id=1 RETURNING "limit", "current_balance"
api_1-1          | I, [2024-02-24T04:13:57.904282 #7]  INFO -- : (0.002010s) COMMIT
api_1-1          | 172.19.0.5 - - [24/Feb/2024:04:13:57 +0000] "POST /clientes/1/transacoes HTTP/1.1" 200 28 0.0091
api_1-1          | I, [2024-02-24T04:13:57.905412 #7]  INFO -- : (0.000089s) BEGIN
api_1-1          | I, [2024-02-24T04:13:57.906177 #7]  INFO -- : (0.000232s) SELECT * FROM clients WHERE id=1 FOR UPDATE
api_1-1          | I, [2024-02-24T04:13:57.907306 #7]  INFO -- : (0.000499s) INSERT INTO transactions (value, type, description, client_id) VALUES(1, 'd', 'validacao', 1)
api_1-1          | I, [2024-02-24T04:13:57.907645 #7]  INFO -- : (0.000219s) UPDATE clients SET current_balance=-2 WHERE id=1 RETURNING "limit", "current_balance"
api_1-1          | I, [2024-02-24T04:13:57.910056 #7]  INFO -- : (0.002250s) COMMIT
api_1-1          | 172.19.0.5 - - [24/Feb/2024:04:13:57 +0000] "POST /clientes/1/transacoes HTTP/1.1" 200 28 0.0064
api_1-1          | I, [2024-02-24T04:13:57.912496 #7]  INFO -- : (0.000086s) BEGIN
api_1-1          | I, [2024-02-24T04:13:57.914011 #7]  INFO -- : (0.000206s) SELECT * FROM clients WHERE id=1 FOR UPDATE
api_1-1          | I, [2024-02-24T04:13:57.925399 #7]  INFO -- : (0.000402s) INSERT INTO transactions (value, type, description, client_id) VALUES(1, 'd', 'validacao', 1)
api_1-1          | I, [2024-02-24T04:13:57.925765 #7]  INFO -- : (0.000235s) UPDATE clients SET current_balance=-3 WHERE id=1 RETURNING "limit", "current_balance"
api_1-1          | I, [2024-02-24T04:13:57.927663 #7]  INFO -- : (0.001817s) COMMIT
api_1-1          | 172.19.0.5 - - [24/Feb/2024:04:13:57 +0000] "POST /clientes/1/transacoes HTTP/1.1" 200 28 0.0174
api_1-1          | I, [2024-02-24T04:13:57.930138 #7]  INFO -- : (0.000096s) BEGIN
api_1-1          | I, [2024-02-24T04:13:57.930436 #7]  INFO -- : (0.000200s) SELECT * FROM clients WHERE id=1 FOR UPDATE
api_1-1          | I, [2024-02-24T04:13:57.931275 #7]  INFO -- : (0.000304s) INSERT INTO transactions (value, type, description, client_id) VALUES(1, 'd', 'validacao', 1)
api_1-1          | I, [2024-02-24T04:13:57.932582 #7]  INFO -- : (0.000217s) UPDATE clients SET current_balance=-4 WHERE id=1 RETURNING "limit", "current_balance"
api_1-1          | I, [2024-02-24T04:13:57.937701 #7]  INFO -- : (0.003923s) COMMIT
api_1-1          | 172.19.0.5 - - [24/Feb/2024:04:13:57 +0000] "POST /clientes/1/transacoes HTTP/1.1" 200 28 0.0095
api_1-1          | I, [2024-02-24T04:13:57.939827 #7]  INFO -- : (0.000089s) BEGIN
api_1-1          | I, [2024-02-24T04:13:57.940300 #7]  INFO -- : (0.000169s) SELECT * FROM clients WHERE id=1 FOR UPDATE
api_1-1          | I, [2024-02-24T04:13:57.942500 #7]  INFO -- : (0.000533s) INSERT INTO transactions (value, type, description, client_id) VALUES(1, 'd', 'validacao', 1)
api_1-1          | I, [2024-02-24T04:13:57.944294 #7]  INFO -- : (0.000183s) UPDATE clients SET current_balance=-5 WHERE id=1 RETURNING "limit", "current_balance"
api_1-1          | I, [2024-02-24T04:13:57.946754 #7]  INFO -- : (0.001371s) COMMIT
api_1-1          | 172.19.0.5 - - [24/Feb/2024:04:13:57 +0000] "POST /clientes/1/transacoes HTTP/1.1" 200 28 0.0077
api_1-1          | I, [2024-02-24T04:13:57.949883 #7]  INFO -- : (0.000080s) BEGIN
api_1-1          | I, [2024-02-24T04:13:57.950953 #7]  INFO -- : (0.000172s) SELECT * FROM clients WHERE id=1 FOR UPDATE
api_1-1          | I, [2024-02-24T04:13:57.951305 #7]  INFO -- : (0.000230s) INSERT INTO transactions (value, type, description, client_id) VALUES(1, 'd', 'validacao', 1)
api_1-1          | I, [2024-02-24T04:13:57.951650 #7]  INFO -- : (0.000174s) UPDATE clients SET current_balance=-6 WHERE id=1 RETURNING "limit", "current_balance"
api_1-1          | I, [2024-02-24T04:13:57.953101 #7]  INFO -- : (0.001408s) COMMIT
api_1-1          | 172.19.0.5 - - [24/Feb/2024:04:13:57 +0000] "POST /clientes/1/transacoes HTTP/1.1" 200 28 0.0058
api_1-1          | I, [2024-02-24T04:13:57.955841 #7]  INFO -- : (0.001652s) BEGIN
api_1-1          | I, [2024-02-24T04:13:57.958769 #7]  INFO -- : (0.002498s) SELECT * FROM clients WHERE id=1 FOR UPDATE
api_1-1          | I, [2024-02-24T04:13:57.959086 #7]  INFO -- : (0.000200s) INSERT INTO transactions (value, type, description, client_id) VALUES(1, 'd', 'validacao', 1)
api_1-1          | I, [2024-02-24T04:13:57.959326 #7]  INFO -- : (0.000169s) UPDATE clients SET current_balance=-8 WHERE id=1 RETURNING "limit", "current_balance"
api_1-1          | I, [2024-02-24T04:13:57.960899 #7]  INFO -- : (0.001526s) COMMIT
api_1-1          | 172.19.0.5 - - [24/Feb/2024:04:13:57 +0000] "POST /clientes/1/transacoes HTTP/1.1" 200 28 0.0077
api_1-1          | I, [2024-02-24T04:13:57.962903 #7]  INFO -- : (0.000063s) BEGIN
api_1-1          | I, [2024-02-24T04:13:57.964398 #7]  INFO -- : (0.001431s) SELECT * FROM clients WHERE id=1 FOR UPDATE
api_1-1          | I, [2024-02-24T04:13:57.964667 #7]  INFO -- : (0.000179s) INSERT INTO transactions (value, type, description, client_id) VALUES(1, 'd', 'validacao', 1)
api_1-1          | I, [2024-02-24T04:13:57.964897 #7]  INFO -- : (0.000163s) UPDATE clients SET current_balance=-10 WHERE id=1 RETURNING "limit", "current_balance"
api_1-1          | I, [2024-02-24T04:13:57.966468 #7]  INFO -- : (0.001215s) COMMIT
api_1-1          | 172.19.0.5 - - [24/Feb/2024:04:13:57 +0000] "POST /clientes/1/transacoes HTTP/1.1" 200 29 0.0073
api_1-1          | I, [2024-02-24T04:13:57.969252 #7]  INFO -- : (0.000095s) BEGIN
api_1-1          | I, [2024-02-24T04:13:57.969459 #7]  INFO -- : (0.000142s) SELECT * FROM clients WHERE id=1 FOR UPDATE
api_1-1          | I, [2024-02-24T04:13:57.973060 #7]  INFO -- : (0.000200s) INSERT INTO transactions (value, type, description, client_id) VALUES(1, 'd', 'validacao', 1)
api_1-1          | I, [2024-02-24T04:13:57.973399 #7]  INFO -- : (0.000176s) UPDATE clients SET current_balance=-12 WHERE id=1 RETURNING "limit", "current_balance"
api_1-1          | I, [2024-02-24T04:13:57.974790 #7]  INFO -- : (0.001331s) COMMIT
api_1-1          | 172.19.0.5 - - [24/Feb/2024:04:13:57 +0000] "POST /clientes/1/transacoes HTTP/1.1" 200 29 0.0079
api_1-1          | I, [2024-02-24T04:13:59.868192 #7]  INFO -- : (0.000114s) BEGIN
api_1-1          | I, [2024-02-24T04:13:59.870999 #7]  INFO -- : (0.000649s) SELECT * FROM clients WHERE id=1 FOR UPDATE
api_1-1          | I, [2024-02-24T04:13:59.871423 #7]  INFO -- : (0.000276s) INSERT INTO transactions (value, type, description, client_id) VALUES(1, 'c', 'validacao', 1)
api_1-1          | I, [2024-02-24T04:13:59.871747 #7]  INFO -- : (0.000246s) UPDATE clients SET current_balance=-17 WHERE id=1 RETURNING "limit", "current_balance"
api_1-1          | I, [2024-02-24T04:13:59.873765 #7]  INFO -- : (0.001944s) COMMIT
api_1-1          | 172.19.0.5 - - [24/Feb/2024:04:13:59 +0000] "POST /clientes/1/transacoes HTTP/1.1" 200 29 0.0074
api_1-1          | I, [2024-02-24T04:13:59.874926 #7]  INFO -- : (0.000093s) BEGIN
api_1-1          | I, [2024-02-24T04:13:59.880157 #7]  INFO -- : (0.005166s) SELECT * FROM clients WHERE id=1 FOR UPDATE
api_1-1          | I, [2024-02-24T04:13:59.880472 #7]  INFO -- : (0.000227s) INSERT INTO transactions (value, type, description, client_id) VALUES(1, 'c', 'validacao', 1)
api_1-1          | I, [2024-02-24T04:13:59.880710 #7]  INFO -- : (0.000190s) UPDATE clients SET current_balance=-15 WHERE id=1 RETURNING "limit", "current_balance"
api_1-1          | I, [2024-02-24T04:13:59.882088 #7]  INFO -- : (0.001342s) COMMIT
api_1-1          | 172.19.0.5 - - [24/Feb/2024:04:13:59 +0000] "POST /clientes/1/transacoes HTTP/1.1" 200 29 0.0076
api_1-1          | I, [2024-02-24T04:13:59.882787 #7]  INFO -- : (0.000096s) BEGIN
api_1-1          | I, [2024-02-24T04:13:59.883047 #7]  INFO -- : (0.000181s) SELECT * FROM clients WHERE id=1 FOR UPDATE
api_1-1          | I, [2024-02-24T04:13:59.883364 #7]  INFO -- : (0.000232s) INSERT INTO transactions (value, type, description, client_id) VALUES(1, 'c', 'validacao', 1)
api_2-1          | 2024-02-24 04:13:51 +0000 Thin web server (v1.8.2 codename Ruby Razor)
api_2-1          | 2024-02-24 04:13:51 +0000 Maximum connections set to 1024
api_2-1          | 2024-02-24 04:13:51 +0000 Listening on 0.0.0.0:5000, CTRL+C to stop
api_2-1          | I, [2024-02-24T04:13:57.951493 #7]  INFO -- : (0.000155s) SET standard_conforming_strings = ON
api_2-1          | I, [2024-02-24T04:13:57.951618 #7]  INFO -- : (0.000080s) SET client_min_messages = 'WARNING'
api_2-1          | I, [2024-02-24T04:13:57.951712 #7]  INFO -- : (0.000071s) SET DateStyle = 'ISO'
api_2-1          | I, [2024-02-24T04:13:57.951852 #7]  INFO -- : (0.000064s) BEGIN
api_2-1          | I, [2024-02-24T04:13:57.953175 #7]  INFO -- : (0.001170s) SELECT * FROM clients WHERE id=1 FOR UPDATE
api_2-1          | I, [2024-02-24T04:13:57.956746 #7]  INFO -- : (0.002875s) INSERT INTO transactions (value, type, description, client_id) VALUES(1, 'd', 'validacao', 1)
api_2-1          | I, [2024-02-24T04:13:57.957394 #7]  INFO -- : (0.000231s) UPDATE clients SET current_balance=-7 WHERE id=1 RETURNING "limit", "current_balance"
api_2-1          | I, [2024-02-24T04:13:57.958697 #7]  INFO -- : (0.001229s) COMMIT
api_2-1          | 172.19.0.5 - - [24/Feb/2024:04:13:57 +0000] "POST /clientes/1/transacoes HTTP/1.1" 200 28 0.0581
api_2-1          | I, [2024-02-24T04:13:57.961868 #7]  INFO -- : (0.000089s) BEGIN
api_2-1          | I, [2024-02-24T04:13:57.962136 #7]  INFO -- : (0.000157s) SELECT * FROM clients WHERE id=1 FOR UPDATE
api_2-1          | I, [2024-02-24T04:13:57.962460 #7]  INFO -- : (0.000204s) INSERT INTO transactions (value, type, description, client_id) VALUES(1, 'd', 'validacao', 1)
api_2-1          | I, [2024-02-24T04:13:57.963146 #7]  INFO -- : (0.000169s) UPDATE clients SET current_balance=-9 WHERE id=1 RETURNING "limit", "current_balance"
api_2-1          | I, [2024-02-24T04:13:57.964352 #7]  INFO -- : (0.001145s) COMMIT
api_2-1          | 172.19.0.5 - - [24/Feb/2024:04:13:57 +0000] "POST /clientes/1/transacoes HTTP/1.1" 200 28 0.0036
api_2-1          | I, [2024-02-24T04:13:57.965028 #7]  INFO -- : (0.000061s) BEGIN
api_2-1          | I, [2024-02-24T04:13:57.966640 #7]  INFO -- : (0.001536s) SELECT * FROM clients WHERE id=1 FOR UPDATE
api_2-1          | I, [2024-02-24T04:13:57.966978 #7]  INFO -- : (0.000203s) INSERT INTO transactions (value, type, description, client_id) VALUES(1, 'd', 'validacao', 1)
api_2-1          | I, [2024-02-24T04:13:57.967850 #7]  INFO -- : (0.000170s) UPDATE clients SET current_balance=-11 WHERE id=1 RETURNING "limit", "current_balance"
api_2-1          | I, [2024-02-24T04:13:57.968966 #7]  INFO -- : (0.001062s) COMMIT
api_2-1          | 172.19.0.5 - - [24/Feb/2024:04:13:57 +0000] "POST /clientes/1/transacoes HTTP/1.1" 200 29 0.0048
api_2-1          | I, [2024-02-24T04:13:57.970261 #7]  INFO -- : (0.000064s) BEGIN
api_2-1          | I, [2024-02-24T04:13:57.974913 #7]  INFO -- : (0.002069s) SELECT * FROM clients WHERE id=1 FOR UPDATE
api_2-1          | I, [2024-02-24T04:13:57.976706 #7]  INFO -- : (0.000212s) INSERT INTO transactions (value, type, description, client_id) VALUES(1, 'd', 'validacao', 1)
api_2-1          | I, [2024-02-24T04:13:57.976939 #7]  INFO -- : (0.000150s) UPDATE clients SET current_balance=-13 WHERE id=1 RETURNING "limit", "current_balance"
api_2-1          | I, [2024-02-24T04:13:57.978820 #7]  INFO -- : (0.001826s) COMMIT
api_2-1          | 172.19.0.5 - - [24/Feb/2024:04:13:57 +0000] "POST /clientes/1/transacoes HTTP/1.1" 200 29 0.0102
api_2-1          | I, [2024-02-24T04:13:57.980452 #7]  INFO -- : (0.000066s) BEGIN
api_2-1          | I, [2024-02-24T04:13:57.980666 #7]  INFO -- : (0.000139s) SELECT * FROM clients WHERE id=1 FOR UPDATE
api_2-1          | I, [2024-02-24T04:13:57.981808 #7]  INFO -- : (0.000207s) INSERT INTO transactions (value, type, description, client_id) VALUES(1, 'd', 'validacao', 1)
api_2-1          | I, [2024-02-24T04:13:57.982984 #7]  INFO -- : (0.000175s) UPDATE clients SET current_balance=-14 WHERE id=1 RETURNING "limit", "current_balance"
api_2-1          | I, [2024-02-24T04:13:57.984379 #7]  INFO -- : (0.001344s) COMMIT
api_2-1          | 172.19.0.5 - - [24/Feb/2024:04:13:57 +0000] "POST /clientes/1/transacoes HTTP/1.1" 200 29 0.0048
api_2-1          | I, [2024-02-24T04:13:58.014816 #7]  INFO -- : (0.029287s) BEGIN
api_2-1          | I, [2024-02-24T04:13:58.017838 #7]  INFO -- : (0.000730s) SELECT * FROM clients WHERE id=1 FOR UPDATE
api_2-1          | I, [2024-02-24T04:13:58.020937 #7]  INFO -- : (0.000274s) INSERT INTO transactions (value, type, description, client_id) VALUES(1, 'd', 'validacao', 1)
api_2-1          | I, [2024-02-24T04:13:58.021527 #7]  INFO -- : (0.000180s) UPDATE clients SET current_balance=-15 WHERE id=1 RETURNING "limit", "current_balance"
api_2-1          | I, [2024-02-24T04:13:58.023950 #7]  INFO -- : (0.001586s) COMMIT
api_2-1          | 172.19.0.5 - - [24/Feb/2024:04:13:58 +0000] "POST /clientes/1/transacoes HTTP/1.1" 200 29 0.0409
api_2-1          | I, [2024-02-24T04:13:58.026870 #7]  INFO -- : (0.000067s) BEGIN
api_2-1          | I, [2024-02-24T04:13:58.027081 #7]  INFO -- : (0.000144s) SELECT * FROM clients WHERE id=1 FOR UPDATE
api_2-1          | I, [2024-02-24T04:13:58.027323 #7]  INFO -- : (0.000172s) INSERT INTO transactions (value, type, description, client_id) VALUES(1, 'd', 'validacao', 1)
api_2-1          | I, [2024-02-24T04:13:58.027521 #7]  INFO -- : (0.000151s) UPDATE clients SET current_balance=-16 WHERE id=1 RETURNING "limit", "current_balance"
api_2-1          | I, [2024-02-24T04:13:58.028812 #7]  INFO -- : (0.001259s) COMMIT
api_2-1          | 172.19.0.5 - - [24/Feb/2024:04:13:58 +0000] "POST /clientes/1/transacoes HTTP/1.1" 200 29 0.0030
api_2-1          | I, [2024-02-24T04:13:58.030968 #7]  INFO -- : (0.000065s) BEGIN
api_2-1          | I, [2024-02-24T04:13:58.031463 #7]  INFO -- : (0.000142s) SELECT * FROM clients WHERE id=1 FOR UPDATE
api_2-1          | I, [2024-02-24T04:13:58.031702 #7]  INFO -- : (0.000164s) INSERT INTO transactions (value, type, description, client_id) VALUES(1, 'd', 'validacao', 1)
api_2-1          | I, [2024-02-24T04:13:58.031905 #7]  INFO -- : (0.000149s) UPDATE clients SET current_balance=-17 WHERE id=1 RETURNING "limit", "current_balance"
api_2-1          | I, [2024-02-24T04:13:58.033641 #7]  INFO -- : (0.001482s) COMMIT
api_2-1          | 172.19.0.5 - - [24/Feb/2024:04:13:58 +0000] "POST /clientes/1/transacoes HTTP/1.1" 200 29 0.0042
api_2-1          | I, [2024-02-24T04:13:58.034093 #7]  INFO -- : (0.000061s) BEGIN
api_2-1          | I, [2024-02-24T04:13:58.034255 #7]  INFO -- : (0.000109s) SELECT * FROM clients WHERE id=1 FOR UPDATE
api_2-1          | I, [2024-02-24T04:13:58.034446 #7]  INFO -- : (0.000129s) INSERT INTO transactions (value, type, description, client_id) VALUES(1, 'd', 'validacao', 1)
api_2-1          | I, [2024-02-24T04:13:58.034608 #7]  INFO -- : (0.000120s) UPDATE clients SET current_balance=-18 WHERE id=1 RETURNING "limit", "current_balance"
api_2-1          | I, [2024-02-24T04:13:58.035926 #7]  INFO -- : (0.001288s) COMMIT
api_2-1          | 172.19.0.5 - - [24/Feb/2024:04:13:58 +0000] "POST /clientes/1/transacoes HTTP/1.1" 200 29 0.0022
api_2-1          | I, [2024-02-24T04:13:59.870469 #7]  INFO -- : (0.004060s) BEGIN
api_2-1          | I, [2024-02-24T04:13:59.873863 #7]  INFO -- : (0.003252s) SELECT * FROM clients WHERE id=1 FOR UPDATE
api_2-1          | I, [2024-02-24T04:13:59.874255 #7]  INFO -- : (0.000254s) INSERT INTO transactions (value, type, description, client_id) VALUES(1, 'c', 'validacao', 1)
api_2-1          | I, [2024-02-24T04:13:59.878545 #7]  INFO -- : (0.000211s) UPDATE clients SET current_balance=-16 WHERE id=1 RETURNING "limit", "current_balance"
api_2-1          | I, [2024-02-24T04:13:59.880128 #7]  INFO -- : (0.001524s) COMMIT
api_2-1          | 172.19.0.5 - - [24/Feb/2024:04:13:59 +0000] "POST /clientes/1/transacoes HTTP/1.1" 200 29 0.0186
api_2-1          | I, [2024-02-24T04:13:59.885257 #7]  INFO -- : (0.000077s) BEGIN
api_2-1          | I, [2024-02-24T04:13:59.885499 #7]  INFO -- : (0.000177s) SELECT * FROM clients WHERE id=1 FOR UPDATE
api_2-1          | I, [2024-02-24T04:13:59.885820 #7]  INFO -- : (0.000206s) INSERT INTO transactions (value, type, description, client_id) VALUES(1, 'c', 'validacao', 1)
api_2-1          | I, [2024-02-24T04:13:59.886198 #7]  INFO -- : (0.000181s) UPDATE clients SET current_balance=-13 WHERE id=1 RETURNING "limit", "current_balance"
api_2-1          | I, [2024-02-24T04:13:59.887438 #7]  INFO -- : (0.001190s) COMMIT
api_2-1          | 172.19.0.5 - - [24/Feb/2024:04:13:59 +0000] "POST /clientes/1/transacoes HTTP/1.1" 200 29 0.0046
api_2-1          | I, [2024-02-24T04:13:59.889899 #7]  INFO -- : (0.000113s) BEGIN
api_2-1          | I, [2024-02-24T04:13:59.890207 #7]  INFO -- : (0.000210s) SELECT * FROM clients WHERE id=1 FOR UPDATE
api_2-1          | I, [2024-02-24T04:13:59.890519 #7]  INFO -- : (0.000198s) INSERT INTO transactions (value, type, description, client_id) VALUES(1, 'c', 'validacao', 1)
api_2-1          | I, [2024-02-24T04:13:59.890777 #7]  INFO -- : (0.000171s) UPDATE clients SET current_balance=-12 WHERE id=1 RETURNING "limit", "current_balance"
api_2-1          | I, [2024-02-24T04:13:59.892579 #7]  INFO -- : (0.001742s) COMMIT
api_2-1          | 172.19.0.5 - - [24/Feb/2024:04:13:59 +0000] "POST /clientes/1/transacoes HTTP/1.1" 200 29 0.0032
api_2-1          | I, [2024-02-24T04:13:59.893151 #7]  INFO -- : (0.000071s) BEGIN
api_2-1          | I, [2024-02-24T04:13:59.893372 #7]  INFO -- : (0.000138s) SELECT * FROM clients WHERE id=1 FOR UPDATE
api_2-1          | I, [2024-02-24T04:13:59.893833 #7]  INFO -- : (0.000161s) INSERT INTO transactions (value, type, description, client_id) VALUES(1, 'c', 'validacao', 1)
load_balancer-1  | 172.19.0.1 - - [24/Feb/2024:04:13:59 +0000] "POST /clientes/1/transacoes HTTP/1.1" 200 29 "-" "Agente do Caos - 2024/Q1"
load_balancer-1  | 172.19.0.1 - - [24/Feb/2024:04:13:59 +0000] "POST /clientes/1/transacoes HTTP/1.1" 200 29 "-" "Agente do Caos - 2024/Q1"
load_balancer-1  | 172.19.0.1 - - [24/Feb/2024:04:13:59 +0000] "POST /clientes/1/transacoes HTTP/1.1" 200 29 "-" "Agente do Caos - 2024/Q1"
load_balancer-1  | 172.19.0.1 - - [24/Feb/2024:04:13:59 +0000] "POST /clientes/1/transacoes HTTP/1.1" 200 29 "-" "Agente do Caos - 2024/Q1"
load_balancer-1  | 172.19.0.1 - - [24/Feb/2024:04:13:59 +0000] "POST /clientes/1/transacoes HTTP/1.1" 200 28 "-" "Agente do Caos - 2024/Q1"
load_balancer-1  | 172.19.0.1 - - [24/Feb/2024:04:13:59 +0000] "POST /clientes/1/transacoes HTTP/1.1" 200 28 "-" "Agente do Caos - 2024/Q1"
load_balancer-1  | 172.19.0.1 - - [24/Feb/2024:04:13:59 +0000] "POST /clientes/1/transacoes HTTP/1.1" 200 28 "-" "Agente do Caos - 2024/Q1"
load_balancer-1  | 172.19.0.1 - - [24/Feb/2024:04:13:59 +0000] "POST /clientes/1/transacoes HTTP/1.1" 200 28 "-" "Agente do Caos - 2024/Q1"
load_balancer-1  | 172.19.0.1 - - [24/Feb/2024:04:13:59 +0000] "POST /clientes/1/transacoes HTTP/1.1" 200 28 "-" "Agente do Caos - 2024/Q1"
load_balancer-1  | 172.19.0.1 - - [24/Feb/2024:04:13:59 +0000] "POST /clientes/1/transacoes HTTP/1.1" 200 28 "-" "Agente do Caos - 2024/Q1"
load_balancer-1  | 172.19.0.1 - - [24/Feb/2024:04:13:59 +0000] "POST /clientes/1/transacoes HTTP/1.1" 200 27 "-" "Agente do Caos - 2024/Q1"
load_balancer-1  | 172.19.0.1 - - [24/Feb/2024:04:13:59 +0000] "POST /clientes/1/transacoes HTTP/1.1" 200 29 "-" "Agente do Caos - 2024/Q1"
load_balancer-1  | 172.19.0.1 - - [24/Feb/2024:04:13:59 +0000] "POST /clientes/1/transacoes HTTP/1.1" 200 29 "-" "Agente do Caos - 2024/Q1"
load_balancer-1  | 172.19.0.1 - - [24/Feb/2024:04:13:59 +0000] "POST /clientes/1/transacoes HTTP/1.1" 200 29 "-" "Agente do Caos - 2024/Q1"
load_balancer-1  | 172.19.0.1 - - [24/Feb/2024:04:13:59 +0000] "POST /clientes/1/transacoes HTTP/1.1" 200 28 "-" "Agente do Caos - 2024/Q1"
load_balancer-1  | 172.19.0.1 - - [24/Feb/2024:04:13:59 +0000] "POST /clientes/1/transacoes HTTP/1.1" 200 28 "-" "Agente do Caos - 2024/Q1"
load_balancer-1  | 172.19.0.1 - - [24/Feb/2024:04:13:59 +0000] "POST /clientes/1/transacoes HTTP/1.1" 200 27 "-" "Agente do Caos - 2024/Q1"
load_balancer-1  | 172.19.0.1 - - [24/Feb/2024:04:13:59 +0000] "POST /clientes/1/transacoes HTTP/1.1" 200 28 "-" "Agente do Caos - 2024/Q1"
load_balancer-1  | 172.19.0.1 - - [24/Feb/2024:04:13:59 +0000] "POST /clientes/1/transacoes HTTP/1.1" 200 27 "-" "Agente do Caos - 2024/Q1"
load_balancer-1  | 172.19.0.1 - - [24/Feb/2024:04:13:59 +0000] "POST /clientes/1/transacoes HTTP/1.1" 200 27 "-" "Agente do Caos - 2024/Q1"
load_balancer-1  | 172.19.0.1 - - [24/Feb/2024:04:13:59 +0000] "POST /clientes/1/transacoes HTTP/1.1" 200 27 "-" "Agente do Caos - 2024/Q1"
load_balancer-1  | 172.19.0.1 - - [24/Feb/2024:04:13:59 +0000] "POST /clientes/1/transacoes HTTP/1.1" 200 27 "-" "Agente do Caos - 2024/Q1"
load_balancer-1  | 2024/02/24 04:14:00 [error] 29#29: *100 no live upstreams while connecting to upstream, client: 172.19.0.1, server: , request: "GET /clientes/1/extrato HTTP/1.1", upstream: "http://backend/clientes/1/extrato", host: "localhost:9999"
load_balancer-1  | 172.19.0.1 - - [24/Feb/2024:04:14:00 +0000] "GET /clientes/1/extrato HTTP/1.1" 502 157 "-" "Agente do Caos - 2024/Q1"
load_balancer-1  | 2024/02/24 04:14:01 [error] 29#29: *101 no live upstreams while connecting to upstream, client: 172.19.0.1, server: , request: "GET /clientes/6/extrato HTTP/1.1", upstream: "http://backend/clientes/6/extrato", host: "localhost:9999"
load_balancer-1  | 172.19.0.1 - - [24/Feb/2024:04:14:01 +0000] "GET /clientes/6/extrato HTTP/1.1" 502 157 "-" "Agente do Caos - 2024/Q1"
load_balancer-1  | 2024/02/24 04:14:01 [error] 29#29: *102 no live upstreams while connecting to upstream, client: 172.19.0.1, server: , request: "GET /clientes/4/extrato HTTP/1.1", upstream: "http://backend/clientes/4/extrato", host: "localhost:9999"
load_balancer-1  | 2024/02/24 04:14:01 [error] 29#29: *103 no live upstreams while connecting to upstream, client: 172.19.0.1, server: , request: "GET /clientes/2/extrato HTTP/1.1", upstream: "http://backend/clientes/2/extrato", host: "localhost:9999"
load_balancer-1  | 172.19.0.1 - - [24/Feb/2024:04:14:01 +0000] "GET /clientes/4/extrato HTTP/1.1" 502 157 "-" "Agente do Caos - 2024/Q1"
load_balancer-1  | 172.19.0.1 - - [24/Feb/2024:04:14:01 +0000] "GET /clientes/2/extrato HTTP/1.1" 502 157 "-" "Agente do Caos - 2024/Q1"
load_balancer-1  | 2024/02/24 04:14:01 [error] 29#29: *107 no live upstreams while connecting to upstream, client: 172.19.0.1, server: , request: "GET /clientes/1/extrato HTTP/1.1", upstream: "http://backend/clientes/1/extrato", host: "localhost:9999"
load_balancer-1  | 172.19.0.1 - - [24/Feb/2024:04:14:01 +0000] "GET /clientes/1/extrato HTTP/1.1" 502 157 "-" "Agente do Caos - 2024/Q1"
load_balancer-1  | 2024/02/24 04:14:01 [error] 29#29: *103 no live upstreams while connecting to upstream, client: 172.19.0.1, server: , request: "POST /clientes/2/transacoes HTTP/1.1", upstream: "http://backend/clientes/2/transacoes", host: "localhost:9999", referrer: "http://localhost:9999/clientes/2/extrato"
load_balancer-1  | 2024/02/24 04:14:01 [error] 29#29: *107 no live upstreams while connecting to upstream, client: 172.19.0.1, server: , request: "POST /clientes/1/transacoes HTTP/1.1", upstream: "http://backend/clientes/1/transacoes", host: "localhost:9999", referrer: "http://localhost:9999/clientes/1/extrato"
load_balancer-1  | 2024/02/24 04:14:01 [error] 29#29: *102 no live upstreams while connecting to upstream, client: 172.19.0.1, server: , request: "POST /clientes/4/transacoes HTTP/1.1", upstream: "http://backend/clientes/4/transacoes", host: "localhost:9999", referrer: "http://localhost:9999/clientes/4/extrato"
load_balancer-1  | 172.19.0.1 - - [24/Feb/2024:04:14:01 +0000] "POST /clientes/2/transacoes HTTP/1.1" 502 157 "http://localhost:9999/clientes/2/extrato" "Agente do Caos - 2024/Q1"
load_balancer-1  | 172.19.0.1 - - [24/Feb/2024:04:14:01 +0000] "POST /clientes/1/transacoes HTTP/1.1" 502 157 "http://localhost:9999/clientes/1/extrato" "Agente do Caos - 2024/Q1"
load_balancer-1  | 172.19.0.1 - - [24/Feb/2024:04:14:01 +0000] "POST /clientes/4/transacoes HTTP/1.1" 502 157 "http://localhost:9999/clientes/4/extrato" "Agente do Caos - 2024/Q1"
load_balancer-1  | 172.19.0.1 - - [24/Feb/2024:04:14:01 +0000] "POST /clientes/4/transacoes HTTP/1.1" 502 157 "http://localhost:9999/clientes/4/transacoes" "Agente do Caos - 2024/Q1"
load_balancer-1  | 172.19.0.1 - - [24/Feb/2024:04:14:01 +0000] "POST /clientes/2/transacoes HTTP/1.1" 502 157 "http://localhost:9999/clientes/2/transacoes" "Agente do Caos - 2024/Q1"
load_balancer-1  | 2024/02/24 04:14:01 [error] 29#29: *102 no live upstreams while connecting to upstream, client: 172.19.0.1, server: , request: "POST /clientes/4/transacoes HTTP/1.1", upstream: "http://backend/clientes/4/transacoes", host: "localhost:9999", referrer: "http://localhost:9999/clientes/4/transacoes"
load_balancer-1  | 2024/02/24 04:14:01 [error] 29#29: *103 no live upstreams while connecting to upstream, client: 172.19.0.1, server: , request: "POST /clientes/2/transacoes HTTP/1.1", upstream: "http://backend/clientes/2/transacoes", host: "localhost:9999", referrer: "http://localhost:9999/clientes/2/transacoes"
load_balancer-1  | 172.19.0.1 - - [24/Feb/2024:04:14:01 +0000] "GET /clientes/5/extrato HTTP/1.1" 200 104 "-" "Agente do Caos - 2024/Q1"
load_balancer-1  | 172.19.0.1 - - [24/Feb/2024:04:14:01 +0000] "POST /clientes/1/transacoes HTTP/1.1" 502 157 "http://localhost:9999/clientes/1/transacoes" "Agente do Caos - 2024/Q1"
load_balancer-1  | 2024/02/24 04:14:01 [error] 29#29: *107 no live upstreams while connecting to upstream, client: 172.19.0.1, server: , request: "POST /clientes/1/transacoes HTTP/1.1", upstream: "http://backend/clientes/1/transacoes", host: "localhost:9999", referrer: "http://localhost:9999/clientes/1/transacoes"
load_balancer-1  | 172.19.0.1 - - [24/Feb/2024:04:14:01 +0000] "GET /clientes/4/extrato HTTP/1.1" 502 157 "http://localhost:9999/clientes/4/transacoes" "Agente do Caos - 2024/Q1"
load_balancer-1  | 2024/02/24 04:14:01 [error] 29#29: *102 no live upstreams while connecting to upstream, client: 172.19.0.1, server: , request: "GET /clientes/4/extrato HTTP/1.1", upstream: "http://backend/clientes/4/extrato", host: "localhost:9999", referrer: "http://localhost:9999/clientes/4/transacoes"
load_balancer-1  | 172.19.0.1 - - [24/Feb/2024:04:14:01 +0000] "GET /clientes/1/extrato HTTP/1.1" 502 157 "http://localhost:9999/clientes/1/transacoes" "Agente do Caos - 2024/Q1"
load_balancer-1  | 2024/02/24 04:14:01 [error] 29#29: *107 no live upstreams while connecting to upstream, client: 172.19.0.1, server: , request: "GET /clientes/1/extrato HTTP/1.1", upstream: "http://backend/clientes/1/extrato", host: "localhost:9999", referrer: "http://localhost:9999/clientes/1/transacoes"
load_balancer-1  | 172.19.0.1 - - [24/Feb/2024:04:14:01 +0000] "POST /clientes/4/transacoes HTTP/1.1" 502 157 "http://localhost:9999/clientes/4/extrato" "Agente do Caos - 2024/Q1"
load_balancer-1  | 2024/02/24 04:14:01 [error] 29#29: *102 no live upstreams while connecting to upstream, client: 172.19.0.1, server: , request: "POST /clientes/4/transacoes HTTP/1.1", upstream: "http://backend/clientes/4/transacoes", host: "localhost:9999", referrer: "http://localhost:9999/clientes/4/extrato"
load_balancer-1  | 172.19.0.1 - - [24/Feb/2024:04:14:01 +0000] "POST /clientes/1/transacoes HTTP/1.1" 502 157 "http://localhost:9999/clientes/1/extrato" "Agente do Caos - 2024/Q1"
load_balancer-1  | 2024/02/24 04:14:01 [error] 29#29: *107 no live upstreams while connecting to upstream, client: 172.19.0.1, server: , request: "POST /clientes/1/transacoes HTTP/1.1", upstream: "http://backend/clientes/1/transacoes", host: "localhost:9999", referrer: "http://localhost:9999/clientes/1/extrato"
load_balancer-1  | 172.19.0.1 - - [24/Feb/2024:04:14:01 +0000] "GET /clientes/3/extrato HTTP/1.1" 200 105 "-" "Agente do Caos - 2024/Q1"
load_balancer-1  | 172.19.0.1 - - [24/Feb/2024:04:14:01 +0000] "POST /clientes/4/transacoes HTTP/1.1" 502 157 "http://localhost:9999/clientes/4/transacoes" "Agente do Caos - 2024/Q1"
load_balancer-1  | 2024/02/24 04:14:01 [error] 29#29: *102 no live upstreams while connecting to upstream, client: 172.19.0.1, server: , request: "POST /clientes/4/transacoes HTTP/1.1", upstream: "http://backend/clientes/4/transacoes", host: "localhost:9999", referrer: "http://localhost:9999/clientes/4/transacoes"
load_balancer-1  | 2024/02/24 04:14:01 [error] 29#29: *107 no live upstreams while connecting to upstream, client: 172.19.0.1, server: , request: "POST /clientes/1/transacoes HTTP/1.1", upstream: "http://backend/clientes/1/transacoes", host: "localhost:9999", referrer: "http://localhost:9999/clientes/1/transacoes"
load_balancer-1  | 172.19.0.1 - - [24/Feb/2024:04:14:01 +0000] "POST /clientes/1/transacoes HTTP/1.1" 502 157 "http://localhost:9999/clientes/1/transacoes" "Agente do Caos - 2024/Q1"
load_balancer-1  | 172.19.0.1 - - [24/Feb/2024:04:14:01 +0000] "GET /clientes/2/extrato HTTP/1.1" 502 157 "http://localhost:9999/clientes/2/transacoes" "Agente do Caos - 2024/Q1"
load_balancer-1  | 2024/02/24 04:14:01 [error] 29#29: *103 no live upstreams while connecting to upstream, client: 172.19.0.1, server: , request: "GET /clientes/2/extrato HTTP/1.1", upstream: "http://backend/clientes/2/extrato", host: "localhost:9999", referrer: "http://localhost:9999/clientes/2/transacoes"
load_balancer-1  | 172.19.0.1 - - [24/Feb/2024:04:14:01 +0000] "POST /clientes/4/transacoes HTTP/1.1" 502 157 "http://localhost:9999/clientes/4/transacoes" "Agente do Caos - 2024/Q1"
load_balancer-1  | 2024/02/24 04:14:01 [error] 29#29: *102 no live upstreams while connecting to upstream, client: 172.19.0.1, server: , request: "POST /clientes/4/transacoes HTTP/1.1", upstream: "http://backend/clientes/4/transacoes", host: "localhost:9999", referrer: "http://localhost:9999/clientes/4/transacoes"
load_balancer-1  | 172.19.0.1 - - [24/Feb/2024:04:14:01 +0000] "POST /clientes/1/transacoes HTTP/1.1" 502 157 "http://localhost:9999/clientes/1/transacoes" "Agente do Caos - 2024/Q1"
load_balancer-1  | 2024/02/24 04:14:01 [error] 29#29: *107 no live upstreams while connecting to upstream, client: 172.19.0.1, server: , request: "POST /clientes/1/transacoes HTTP/1.1", upstream: "http://backend/clientes/1/transacoes", host: "localhost:9999", referrer: "http://localhost:9999/clientes/1/transacoes"
load_balancer-1  | 172.19.0.1 - - [24/Feb/2024:04:14:01 +0000] "POST /clientes/4/transacoes HTTP/1.1" 502 157 "http://localhost:9999/clientes/4/transacoes" "Agente do Caos - 2024/Q1"
load_balancer-1  | 2024/02/24 04:14:01 [error] 29#29: *102 no live upstreams while connecting to upstream, client: 172.19.0.1, server: , request: "POST /clientes/4/transacoes HTTP/1.1", upstream: "http://backend/clientes/4/transacoes", host: "localhost:9999", referrer: "http://localhost:9999/clientes/4/transacoes"
load_balancer-1  | 172.19.0.1 - - [24/Feb/2024:04:14:01 +0000] "POST /clientes/2/transacoes HTTP/1.1" 502 157 "http://localhost:9999/clientes/2/extrato" "Agente do Caos - 2024/Q1"
load_balancer-1  | 2024/02/24 04:14:01 [error] 29#29: *103 no live upstreams while connecting to upstream, client: 172.19.0.1, server: , request: "POST /clientes/2/transacoes HTTP/1.1", upstream: "http://backend/clientes/2/transacoes", host: "localhost:9999", referrer: "http://localhost:9999/clientes/2/extrato"
load_balancer-1  | 2024/02/24 04:14:01 [error] 29#29: *102 no live upstreams while connecting to upstream, client: 172.19.0.1, server: , request: "POST /clientes/4/transacoes HTTP/1.1", upstream: "http://backend/clientes/4/transacoes", host: "localhost:9999", referrer: "http://localhost:9999/clientes/4/transacoes"
load_balancer-1  | 172.19.0.1 - - [24/Feb/2024:04:14:01 +0000] "POST /clientes/4/transacoes HTTP/1.1" 502 157 "http://localhost:9999/clientes/4/transacoes" "Agente do Caos - 2024/Q1"
load_balancer-1  | 2024/02/24 04:14:01 [error] 29#29: *107 no live upstreams while connecting to upstream, client: 172.19.0.1, server: , request: "POST /clientes/1/transacoes HTTP/1.1", upstream: "http://backend/clientes/1/transacoes", host: "localhost:9999", referrer: "http://localhost:9999/clientes/1/transacoes"
load_balancer-1  | 172.19.0.1 - - [24/Feb/2024:04:14:01 +0000] "POST /clientes/1/transacoes HTTP/1.1" 502 157 "http://localhost:9999/clientes/1/transacoes" "Agente do Caos - 2024/Q1"
load_balancer-1  | 2024/02/24 04:14:01 [error] 29#29: *102 no live upstreams while connecting to upstream, client: 172.19.0.1, server: , request: "POST /clientes/4/transacoes HTTP/1.1", upstream: "http://backend/clientes/4/transacoes", host: "localhost:9999", referrer: "http://localhost:9999/clientes/4/transacoes"
load_balancer-1  | 172.19.0.1 - - [24/Feb/2024:04:14:01 +0000] "POST /clientes/4/transacoes HTTP/1.1" 502 157 "http://localhost:9999/clientes/4/transacoes" "Agente do Caos - 2024/Q1"
load_balancer-1  | 172.19.0.1 - - [24/Feb/2024:04:14:01 +0000] "POST /clientes/2/transacoes HTTP/1.1" 502 157 "http://localhost:9999/clientes/2/transacoes" "Agente do Caos - 2024/Q1"
load_balancer-1  | 2024/02/24 04:14:01 [error] 29#29: *103 no live upstreams while connecting to upstream, client: 172.19.0.1, server: , request: "POST /clientes/2/transacoes HTTP/1.1", upstream: "http://backend/clientes/2/transacoes", host: "localhost:9999", referrer: "http://localhost:9999/clientes/2/transacoes"
load_balancer-1  | 172.19.0.1 - - [24/Feb/2024:04:14:01 +0000] "POST /clientes/1/transacoes HTTP/1.1" 502 157 "http://localhost:9999/clientes/1/transacoes" "Agente do Caos - 2024/Q1"
load_balancer-1  | 2024/02/24 04:14:01 [error] 29#29: *107 no live upstreams while connecting to upstream, client: 172.19.0.1, server: , request: "POST /clientes/1/transacoes HTTP/1.1", upstream: "http://backend/clientes/1/transacoes", host: "localhost:9999", referrer: "http://localhost:9999/clientes/1/transacoes"
load_balancer-1  | 172.19.0.1 - - [24/Feb/2024:04:14:01 +0000] "POST /clientes/2/transacoes HTTP/1.1" 502 157 "http://localhost:9999/clientes/2/transacoes" "Agente do Caos - 2024/Q1"
load_balancer-1  | 2024/02/24 04:14:01 [error] 29#29: *103 no live upstreams while connecting to upstream, client: 172.19.0.1, server: , request: "POST /clientes/2/transacoes HTTP/1.1", upstream: "http://backend/clientes/2/transacoes", host: "localhost:9999", referrer: "http://localhost:9999/clientes/2/transacoes"
load_balancer-1  | 2024/02/24 04:14:01 [error] 29#29: *107 no live upstreams while connecting to upstream, client: 172.19.0.1, server: , request: "POST /clientes/1/transacoes HTTP/1.1", upstream: "http://backend/clientes/1/transacoes", host: "localhost:9999", referrer: "http://localhost:9999/clientes/1/transacoes"
load_balancer-1  | 172.19.0.1 - - [24/Feb/2024:04:14:01 +0000] "POST /clientes/1/transacoes HTTP/1.1" 502 157 "http://localhost:9999/clientes/1/transacoes" "Agente do Caos - 2024/Q1"
load_balancer-1  | 2024/02/24 04:14:01 [error] 29#29: *103 no live upstreams while connecting to upstream, client: 172.19.0.1, server: , request: "POST /clientes/2/transacoes HTTP/1.1", upstream: "http://backend/clientes/2/transacoes", host: "localhost:9999", referrer: "http://localhost:9999/clientes/2/transacoes"
load_balancer-1  | 172.19.0.1 - - [24/Feb/2024:04:14:01 +0000] "POST /clientes/2/transacoes HTTP/1.1" 502 157 "http://localhost:9999/clientes/2/transacoes" "Agente do Caos - 2024/Q1"
load_balancer-1  | 2024/02/24 04:14:01 [error] 29#29: *103 no live upstreams while connecting to upstream, client: 172.19.0.1, server: , request: "POST /clientes/2/transacoes HTTP/1.1", upstream: "http://backend/clientes/2/transacoes", host: "localhost:9999", referrer: "http://localhost:9999/clientes/2/transacoes"
load_balancer-1  | 172.19.0.1 - - [24/Feb/2024:04:14:01 +0000] "POST /clientes/2/transacoes HTTP/1.1" 502 157 "http://localhost:9999/clientes/2/transacoes" "Agente do Caos - 2024/Q1"
load_balancer-1  | 172.19.0.1 - - [24/Feb/2024:04:14:01 +0000] "POST /clientes/2/transacoes HTTP/1.1" 502 157 "http://localhost:9999/clientes/2/transacoes" "Agente do Caos - 2024/Q1"
load_balancer-1  | 2024/02/24 04:14:01 [error] 29#29: *103 no live upstreams while connecting to upstream, client: 172.19.0.1, server: , request: "POST /clientes/2/transacoes HTTP/1.1", upstream: "http://backend/clientes/2/transacoes", host: "localhost:9999", referrer: "http://localhost:9999/clientes/2/transacoes"
load_balancer-1  | 172.19.0.1 - - [24/Feb/2024:04:14:01 +0000] "POST /clientes/5/transacoes HTTP/1.1" 200 27 "-" "Agente do Caos - 2024/Q1"
load_balancer-1  | 172.19.0.1 - - [24/Feb/2024:04:14:01 +0000] "POST /clientes/3/transacoes HTTP/1.1" 200 28 "-" "Agente do Caos - 2024/Q1"
load_balancer-1  | 172.19.0.1 - - [24/Feb/2024:04:14:01 +0000] "POST /clientes/5/transacoes HTTP/1.1" 200 27 "-" "Agente do Caos - 2024/Q1"
load_balancer-1  | 172.19.0.1 - - [24/Feb/2024:04:14:01 +0000] "POST /clientes/3/transacoes HTTP/1.1" 200 28 "-" "Agente do Caos - 2024/Q1"
load_balancer-1  | 172.19.0.1 - - [24/Feb/2024:04:14:01 +0000] "GET /clientes/5/extrato HTTP/1.1" 200 276 "-" "Agente do Caos - 2024/Q1"
load_balancer-1  | 172.19.0.1 - - [24/Feb/2024:04:14:01 +0000] "GET /clientes/3/extrato HTTP/1.1" 200 277 "-" "Agente do Caos - 2024/Q1"
load_balancer-1  | 172.19.0.1 - - [24/Feb/2024:04:14:01 +0000] "POST /clientes/5/transacoes HTTP/1.1" 200 27 "-" "Agente do Caos - 2024/Q1"
load_balancer-1  | 172.19.0.1 - - [24/Feb/2024:04:14:01 +0000] "POST /clientes/3/transacoes HTTP/1.1" 200 28 "-" "Agente do Caos - 2024/Q1"
load_balancer-1  | 172.19.0.1 - - [24/Feb/2024:04:14:01 +0000] "GET /clientes/5/extrato HTTP/1.1" 502 157 "-" "Agente do Caos - 2024/Q1"
load_balancer-1  | 2024/02/24 04:14:01 [error] 29#29: *120 no live upstreams while connecting to upstream, client: 172.19.0.1, server: , request: "GET /clientes/5/extrato HTTP/1.1", upstream: "http://backend/clientes/5/extrato", host: "localhost:9999"
load_balancer-1  | 172.19.0.1 - - [24/Feb/2024:04:14:01 +0000] "GET /clientes/5/extrato HTTP/1.1" 200 363 "-" "Agente do Caos - 2024/Q1"
load_balancer-1  | 172.19.0.1 - - [24/Feb/2024:04:14:01 +0000] "GET /clientes/3/extrato HTTP/1.1" 200 364 "-" "Agente do Caos - 2024/Q1"
api_2-1          | I, [2024-02-24T04:13:59.894140 #7]  INFO -- : (0.000215s) UPDATE clients SET current_balance=-11 WHERE id=1 RETURNING "limit", "current_balance"
api_2-1          | I, [2024-02-24T04:13:59.895467 #7]  INFO -- : (0.001275s) COMMIT
api_2-1          | 172.19.0.5 - - [24/Feb/2024:04:13:59 +0000] "POST /clientes/1/transacoes HTTP/1.1" 200 29 0.0027
api_2-1          | I, [2024-02-24T04:13:59.895980 #7]  INFO -- : (0.000077s) BEGIN
api_2-1          | I, [2024-02-24T04:13:59.897276 #7]  INFO -- : (0.001238s) SELECT * FROM clients WHERE id=1 FOR UPDATE
api_2-1          | I, [2024-02-24T04:13:59.897547 #7]  INFO -- : (0.000187s) INSERT INTO transactions (value, type, description, client_id) VALUES(1, 'c', 'validacao', 1)
api_2-1          | I, [2024-02-24T04:13:59.897773 #7]  INFO -- : (0.000164s) UPDATE clients SET current_balance=-9 WHERE id=1 RETURNING "limit", "current_balance"
api_2-1          | I, [2024-02-24T04:13:59.898982 #7]  INFO -- : (0.001167s) COMMIT
api_2-1          | 172.19.0.5 - - [24/Feb/2024:04:13:59 +0000] "POST /clientes/1/transacoes HTTP/1.1" 200 28 0.0035
api_2-1          | I, [2024-02-24T04:13:59.909517 #7]  INFO -- : (0.000100s) BEGIN
api_2-1          | I, [2024-02-24T04:13:59.910765 #7]  INFO -- : (0.001179s) SELECT * FROM clients WHERE id=1 FOR UPDATE
api_2-1          | I, [2024-02-24T04:13:59.911058 #7]  INFO -- : (0.000201s) INSERT INTO transactions (value, type, description, client_id) VALUES(1, 'c', 'validacao', 1)
api_2-1          | I, [2024-02-24T04:13:59.911300 #7]  INFO -- : (0.000177s) UPDATE clients SET current_balance=-7 WHERE id=1 RETURNING "limit", "current_balance"
api_2-1          | I, [2024-02-24T04:13:59.914099 #7]  INFO -- : (0.002596s) COMMIT
api_2-1          | 172.19.0.5 - - [24/Feb/2024:04:13:59 +0000] "POST /clientes/1/transacoes HTTP/1.1" 200 28 0.0172
api_2-1          | I, [2024-02-24T04:13:59.921434 #7]  INFO -- : (0.000085s) BEGIN
api_2-1          | I, [2024-02-24T04:13:59.923488 #7]  INFO -- : (0.001992s) SELECT * FROM clients WHERE id=1 FOR UPDATE
api_2-1          | I, [2024-02-24T04:13:59.923766 #7]  INFO -- : (0.000188s) INSERT INTO transactions (value, type, description, client_id) VALUES(1, 'c', 'validacao', 1)
api_2-1          | I, [2024-02-24T04:13:59.924003 #7]  INFO -- : (0.000173s) UPDATE clients SET current_balance=-2 WHERE id=1 RETURNING "limit", "current_balance"
api_2-1          | I, [2024-02-24T04:13:59.925473 #7]  INFO -- : (0.001428s) COMMIT
api_2-1          | 172.19.0.5 - - [24/Feb/2024:04:13:59 +0000] "POST /clientes/1/transacoes HTTP/1.1" 200 28 0.0055
api_2-1          | I, [2024-02-24T04:13:59.926159 #7]  INFO -- : (0.000090s) BEGIN
api_2-1          | I, [2024-02-24T04:13:59.927378 #7]  INFO -- : (0.001162s) SELECT * FROM clients WHERE id=1 FOR UPDATE
api_2-1          | I, [2024-02-24T04:13:59.927644 #7]  INFO -- : (0.000181s) INSERT INTO transactions (value, type, description, client_id) VALUES(1, 'c', 'validacao', 1)
api_2-1          | I, [2024-02-24T04:13:59.927879 #7]  INFO -- : (0.000173s) UPDATE clients SET current_balance=0 WHERE id=1 RETURNING "limit", "current_balance"
api_2-1          | I, [2024-02-24T04:13:59.929263 #7]  INFO -- : (0.001342s) COMMIT
api_2-1          | 172.19.0.5 - - [24/Feb/2024:04:13:59 +0000] "POST /clientes/1/transacoes HTTP/1.1" 200 27 0.0034
api_2-1          | I, [2024-02-24T04:13:59.929748 #7]  INFO -- : (0.000082s) BEGIN
api_2-1          | I, [2024-02-24T04:13:59.931219 #7]  INFO -- : (0.001417s) SELECT * FROM clients WHERE id=1 FOR UPDATE
api_2-1          | I, [2024-02-24T04:13:59.931493 #7]  INFO -- : (0.000192s) INSERT INTO transactions (value, type, description, client_id) VALUES(1, 'c', 'validacao', 1)
api_2-1          | I, [2024-02-24T04:13:59.932034 #7]  INFO -- : (0.000229s) UPDATE clients SET current_balance=2 WHERE id=1 RETURNING "limit", "current_balance"
api_2-1          | I, [2024-02-24T04:13:59.935066 #7]  INFO -- : (0.002970s) COMMIT
api_2-1          | 172.19.0.5 - - [24/Feb/2024:04:13:59 +0000] "POST /clientes/1/transacoes HTTP/1.1" 200 27 0.0058
api_2-1          | I, [2024-02-24T04:13:59.935506 #7]  INFO -- : (0.000082s) BEGIN
api_2-1          | I, [2024-02-24T04:13:59.935708 #7]  INFO -- : (0.000150s) SELECT * FROM clients WHERE id=1 FOR UPDATE
api_2-1          | I, [2024-02-24T04:13:59.935918 #7]  INFO -- : (0.000148s) INSERT INTO transactions (value, type, description, client_id) VALUES(1, 'c', 'validacao', 1)
api_2-1          | I, [2024-02-24T04:13:59.936088 #7]  INFO -- : (0.000131s) UPDATE clients SET current_balance=3 WHERE id=1 RETURNING "limit", "current_balance"
api_2-1          | I, [2024-02-24T04:13:59.937496 #7]  INFO -- : (0.001381s) COMMIT
api_2-1          | 172.19.0.5 - - [24/Feb/2024:04:13:59 +0000] "POST /clientes/1/transacoes HTTP/1.1" 200 27 0.0023
api_2-1          | I, [2024-02-24T04:13:59.937836 #7]  INFO -- : (0.000056s) BEGIN
api_2-1          | I, [2024-02-24T04:13:59.937999 #7]  INFO -- : (0.000118s) SELECT * FROM clients WHERE id=1 FOR UPDATE
api_2-1          | I, [2024-02-24T04:13:59.938195 #7]  INFO -- : (0.000135s) INSERT INTO transactions (value, type, description, client_id) VALUES(1, 'c', 'validacao', 1)
api_2-1          | I, [2024-02-24T04:13:59.938355 #7]  INFO -- : (0.000123s) UPDATE clients SET current_balance=4 WHERE id=1 RETURNING "limit", "current_balance"
api_2-1          | I, [2024-02-24T04:13:59.939793 #7]  INFO -- : (0.001405s) COMMIT
api_2-1          | 172.19.0.5 - - [24/Feb/2024:04:13:59 +0000] "POST /clientes/1/transacoes HTTP/1.1" 200 27 0.0032
api_2-1          | I, [2024-02-24T04:13:59.941500 #7]  INFO -- : (0.000084s) BEGIN
api_2-1          | I, [2024-02-24T04:13:59.941820 #7]  INFO -- : (0.000223s) SELECT * FROM clients WHERE id=1 FOR UPDATE
api_2-1          | I, [2024-02-24T04:13:59.942230 #7]  INFO -- : (0.000281s) INSERT INTO transactions (value, type, description, client_id) VALUES(1, 'c', 'validacao', 1)
api_2-1          | I, [2024-02-24T04:13:59.942588 #7]  INFO -- : (0.000250s) UPDATE clients SET current_balance=5 WHERE id=1 RETURNING "limit", "current_balance"
api_2-1          | I, [2024-02-24T04:13:59.944096 #7]  INFO -- : (0.001434s) COMMIT
api_2-1          | 172.19.0.5 - - [24/Feb/2024:04:13:59 +0000] "POST /clientes/1/transacoes HTTP/1.1" 200 27 0.0031
api_2-1          | I, [2024-02-24T04:14:01.875631 #7]  INFO -- : (0.002247s) SELECT * FROM clients WHERE id=3 FOR UPDATE
api_2-1          | I, [2024-02-24T04:14:01.877808 #7]  INFO -- : (0.001373s) SELECT * FROM transactions WHERE client_id=3 ORDER BY at desc LIMIT 10
api_2-1          | 172.19.0.5 - - [24/Feb/2024:04:14:01 +0000] "GET /clientes/3/extrato HTTP/1.1" 200 105 0.0090
api_2-1          | I, [2024-02-24T04:14:01.922911 #7]  INFO -- : (0.000105s) BEGIN
api_2-1          | I, [2024-02-24T04:14:01.923300 #7]  INFO -- : (0.000266s) SELECT * FROM clients WHERE id=5 FOR UPDATE
api_2-1          | I, [2024-02-24T04:14:01.923691 #7]  INFO -- : (0.000263s) INSERT INTO transactions (value, type, description, client_id) VALUES(1, 'c', 'toma', 5)
api_2-1          | I, [2024-02-24T04:14:01.924005 #7]  INFO -- : (0.000196s) UPDATE clients SET current_balance=1 WHERE id=5 RETURNING "limit", "current_balance"
api_2-1          | I, [2024-02-24T04:14:01.925668 #7]  INFO -- : (0.001597s) COMMIT
api_2-1          | 172.19.0.5 - - [24/Feb/2024:04:14:01 +0000] "POST /clientes/5/transacoes HTTP/1.1" 200 27 0.0034
api_2-1          | I, [2024-02-24T04:14:01.930113 #7]  INFO -- : (0.000077s) BEGIN
api_2-1          | I, [2024-02-24T04:14:01.930412 #7]  INFO -- : (0.000215s) SELECT * FROM clients WHERE id=3 FOR UPDATE
api_2-1          | I, [2024-02-24T04:14:01.930757 #7]  INFO -- : (0.000236s) INSERT INTO transactions (value, type, description, client_id) VALUES(1, 'd', 'devolve', 3)
api_2-1          | I, [2024-02-24T04:14:01.931038 #7]  INFO -- : (0.000193s) UPDATE clients SET current_balance=0 WHERE id=3 RETURNING "limit", "current_balance"
api_2-1          | I, [2024-02-24T04:14:01.933885 #7]  INFO -- : (0.002788s) COMMIT
api_2-1          | 172.19.0.5 - - [24/Feb/2024:04:14:01 +0000] "POST /clientes/3/transacoes HTTP/1.1" 200 28 0.0043
api_2-1          | I, [2024-02-24T04:14:01.939200 #7]  INFO -- : (0.003131s) SELECT * FROM clients WHERE id=3 FOR UPDATE
api_2-1          | I, [2024-02-24T04:14:01.939575 #7]  INFO -- : (0.000277s) SELECT * FROM transactions WHERE client_id=3 ORDER BY at desc LIMIT 10
api_2-1          | 172.19.0.5 - - [24/Feb/2024:04:14:01 +0000] "GET /clientes/3/extrato HTTP/1.1" 200 277 0.0055
api_2-1          | I, [2024-02-24T04:14:01.949356 #7]  INFO -- : (0.000109s) BEGIN
api_2-1          | I, [2024-02-24T04:14:01.949622 #7]  INFO -- : (0.000177s) SELECT * FROM clients WHERE id=3 FOR UPDATE
api_2-1          | I, [2024-02-24T04:14:01.949926 #7]  INFO -- : (0.000187s) INSERT INTO transactions (value, type, description, client_id) VALUES(1, 'c', 'danada', 3)
api_2-1          | I, [2024-02-24T04:14:01.950169 #7]  INFO -- : (0.000157s) UPDATE clients SET current_balance=1 WHERE id=3 RETURNING "limit", "current_balance"
api_2-1          | I, [2024-02-24T04:14:01.953057 #7]  INFO -- : (0.002838s) COMMIT
api_2-1          | 172.19.0.5 - - [24/Feb/2024:04:14:01 +0000] "POST /clientes/3/transacoes HTTP/1.1" 200 28 0.0051
api_2-1          | I, [2024-02-24T04:14:01.965649 #7]  INFO -- : (0.003644s) SELECT * FROM clients WHERE id=3 FOR UPDATE
api_2-1          | I, [2024-02-24T04:14:01.966039 #7]  INFO -- : (0.000276s) SELECT * FROM transactions WHERE client_id=3 ORDER BY at desc LIMIT 10
