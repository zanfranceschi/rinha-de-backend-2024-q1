 Network rodrigopizzi_default  Creating
 Network rodrigopizzi_default  Created
 Container mongo  Creating
 Container mongo  Created
 Container rodrigopizzi-api1-1  Creating
 Container rodrigopizzi-api2-1  Creating
 Container rodrigopizzi-api2-1  Created
 Container rodrigopizzi-api1-1  Created
 Container rodrigopizzi-nginx-1  Creating
 Container rodrigopizzi-nginx-1  Created
Attaching to mongo, api1-1, api2-1, nginx-1
mongo    | [38;5;6mmongodb [38;5;5m01:16:31.77 [0m[38;5;2mINFO [0m ==> 
mongo    | [38;5;6mmongodb [38;5;5m01:16:31.81 [0m[38;5;2mINFO [0m ==> [1mWelcome to the Bitnami mongodb container[0m
mongo    | [38;5;6mmongodb [38;5;5m01:16:31.81 [0m[38;5;2mINFO [0m ==> Subscribe to project updates by watching [1mhttps://github.com/bitnami/containers[0m
mongo    | [38;5;6mmongodb [38;5;5m01:16:31.81 [0m[38;5;2mINFO [0m ==> Submit issues and feature requests at [1mhttps://github.com/bitnami/containers/issues[0m
mongo    | [38;5;6mmongodb [38;5;5m01:16:31.81 [0m[38;5;2mINFO [0m ==> 
mongo    | [38;5;6mmongodb [38;5;5m01:16:31.82 [0m[38;5;2mINFO [0m ==> ** Starting MongoDB setup **
mongo    | [38;5;6mmongodb [38;5;5m01:16:31.83 [0m[38;5;2mINFO [0m ==> Validating settings in MONGODB_* env vars...
mongo    | [38;5;6mmongodb [38;5;5m01:16:31.93 [0m[38;5;2mINFO [0m ==> Initializing MongoDB...
mongo    | [38;5;6mmongodb [38;5;5m01:16:32.12 [0m[38;5;2mINFO [0m ==> Deploying MongoDB from scratch...
nginx-1  | /docker-entrypoint.sh: /docker-entrypoint.d/ is not empty, will attempt to perform configuration
nginx-1  | /docker-entrypoint.sh: Looking for shell scripts in /docker-entrypoint.d/
nginx-1  | /docker-entrypoint.sh: Launching /docker-entrypoint.d/10-listen-on-ipv6-by-default.sh
nginx-1  | 10-listen-on-ipv6-by-default.sh: info: Getting the checksum of /etc/nginx/conf.d/default.conf
nginx-1  | 10-listen-on-ipv6-by-default.sh: info: Enabled listen on IPv6 in /etc/nginx/conf.d/default.conf
nginx-1  | /docker-entrypoint.sh: Sourcing /docker-entrypoint.d/15-local-resolvers.envsh
nginx-1  | /docker-entrypoint.sh: Launching /docker-entrypoint.d/20-envsubst-on-templates.sh
nginx-1  | /docker-entrypoint.sh: Launching /docker-entrypoint.d/30-tune-worker-processes.sh
nginx-1  | /docker-entrypoint.sh: Configuration complete; ready for start up
api1-1   | 2024-03-11 01:16:33.515 [main] INFO  Application - Autoreload is disabled because the development mode is off.
api2-1   | 2024-03-11 01:16:33.557 [main] INFO  Application - Autoreload is disabled because the development mode is off.
api1-1   | 2024-03-11 01:16:34.714 [main] INFO  [Koin] - Started 2 definitions in 0.48079 ms
api1-1   | 2024-03-11 01:16:34.715 [main] INFO  [Koin] - Started 4 definitions in 0.081532 ms
api1-1   | 2024-03-11 01:16:34.715 [main] INFO  [Koin] - Started 5 definitions in 0.099048 ms
api2-1   | 2024-03-11 01:16:34.735 [main] INFO  [Koin] - Started 2 definitions in 0.620045 ms
api2-1   | 2024-03-11 01:16:34.735 [main] INFO  [Koin] - Started 4 definitions in 0.040374 ms
api2-1   | 2024-03-11 01:16:34.736 [main] INFO  [Koin] - Started 5 definitions in 0.021366 ms
api1-1   | 2024-03-11 01:16:34.949 [main] DEBUG org.mongodb.driver.connection - Connection pool created for mongo:27017 using options maxIdleTimeMS=0, minPoolSize=0, maxPoolSize=50, maxConnecting=2, waitQueueTimeoutMS=1000
api1-1   | 2024-03-11 01:16:35.021 [main] DEBUG org.mongodb.driver.cluster - Updating cluster description to  {type=UNKNOWN, servers=[{address=mongo:27017, type=UNKNOWN, state=CONNECTING}]
api2-1   | 2024-03-11 01:16:35.036 [main] DEBUG org.mongodb.driver.connection - Connection pool created for mongo:27017 using options maxIdleTimeMS=0, minPoolSize=0, maxPoolSize=50, maxConnecting=2, waitQueueTimeoutMS=1000
api1-1   | 2024-03-11 01:16:35.042 [main] INFO  org.mongodb.driver.client - MongoClient with metadata {"driver": {"name": "mongo-java-driver|sync", "version": "4.11.1"}, "os": {"type": "Linux", "name": "Linux", "architecture": "amd64", "version": "6.2.0-1019-azure"}, "platform": "Java/Oracle Corporation/17-ea+14"} created with settings MongoClientSettings{readPreference=primary, writeConcern=WriteConcern{w=null, wTimeout=null ms, journal=null}, retryWrites=true, retryReads=true, readConcern=ReadConcern{level=null}, credential=MongoCredential{mechanism=SCRAM-SHA-1, userName='user', source='rinha', password=<hidden>, mechanismProperties=<hidden>}, transportSettings=null, streamFactoryFactory=null, commandListeners=[], codecRegistry=ProvidersCodecRegistry{codecProviders=[ValueCodecProvider{}, BsonValueCodecProvider{}, DBRefCodecProvider{}, DBObjectCodecProvider{}, DocumentCodecProvider{}, CollectionCodecProvider{}, IterableCodecProvider{}, MapCodecProvider{}, GeoJsonCodecProvider{}, GridFSFileCodecProvider{}, Jsr310CodecProvider{}, JsonObjectCodecProvider{}, BsonCodecProvider{}, EnumCodecProvider{}, com.mongodb.client.model.mql.ExpressionCodecProvider@659a2455, com.mongodb.Jep395RecordCodecProvider@267517e4, com.mongodb.KotlinCodecProvider@426e505c]}, loggerSettings=LoggerSettings{maxDocumentLength=1000}, clusterSettings={hosts=[mongo:27017], srvServiceName=mongodb, mode=SINGLE, requiredClusterType=UNKNOWN, requiredReplicaSetName='null', serverSelector='null', clusterListeners='[]', serverSelectionTimeout='30000 ms', localThreshold='15 ms'}, socketSettings=SocketSettings{connectTimeoutMS=10000, readTimeoutMS=0, receiveBufferSize=0, proxySettings=ProxySettings{host=null, port=null, username=null, password=null}}, heartbeatSocketSettings=SocketSettings{connectTimeoutMS=10000, readTimeoutMS=10000, receiveBufferSize=0, proxySettings=ProxySettings{host=null, port=null, username=null, password=null}}, connectionPoolSettings=ConnectionPoolSettings{maxSize=50, minSize=0, maxWaitTimeMS=1000, maxConnectionLifeTimeMS=0, maxConnectionIdleTimeMS=0, maintenanceInitialDelayMS=0, maintenanceFrequencyMS=60000, connectionPoolListeners=[], maxConnecting=2}, serverSettings=ServerSettings{heartbeatFrequencyMS=10000, minHeartbeatFrequencyMS=500, serverListeners='[]', serverMonitorListeners='[]'}, sslSettings=SslSettings{enabled=false, invalidHostNameAllowed=false, context=null}, applicationName='null', compressorList=[], uuidRepresentation=UNSPECIFIED, serverApi=null, autoEncryptionSettings=null, dnsClient=null, inetAddressResolver=null, contextProvider=null}
api2-1   | 2024-03-11 01:16:35.044 [main] DEBUG org.mongodb.driver.cluster - Updating cluster description to  {type=UNKNOWN, servers=[{address=mongo:27017, type=UNKNOWN, state=CONNECTING}]
api2-1   | 2024-03-11 01:16:35.133 [main] INFO  org.mongodb.driver.client - MongoClient with metadata {"driver": {"name": "mongo-java-driver|sync", "version": "4.11.1"}, "os": {"type": "Linux", "name": "Linux", "architecture": "amd64", "version": "6.2.0-1019-azure"}, "platform": "Java/Oracle Corporation/17-ea+14"} created with settings MongoClientSettings{readPreference=primary, writeConcern=WriteConcern{w=null, wTimeout=null ms, journal=null}, retryWrites=true, retryReads=true, readConcern=ReadConcern{level=null}, credential=MongoCredential{mechanism=SCRAM-SHA-1, userName='user', source='rinha', password=<hidden>, mechanismProperties=<hidden>}, transportSettings=null, streamFactoryFactory=null, commandListeners=[], codecRegistry=ProvidersCodecRegistry{codecProviders=[ValueCodecProvider{}, BsonValueCodecProvider{}, DBRefCodecProvider{}, DBObjectCodecProvider{}, DocumentCodecProvider{}, CollectionCodecProvider{}, IterableCodecProvider{}, MapCodecProvider{}, GeoJsonCodecProvider{}, GridFSFileCodecProvider{}, Jsr310CodecProvider{}, JsonObjectCodecProvider{}, BsonCodecProvider{}, EnumCodecProvider{}, com.mongodb.client.model.mql.ExpressionCodecProvider@659a2455, com.mongodb.Jep395RecordCodecProvider@267517e4, com.mongodb.KotlinCodecProvider@426e505c]}, loggerSettings=LoggerSettings{maxDocumentLength=1000}, clusterSettings={hosts=[mongo:27017], srvServiceName=mongodb, mode=SINGLE, requiredClusterType=UNKNOWN, requiredReplicaSetName='null', serverSelector='null', clusterListeners='[]', serverSelectionTimeout='30000 ms', localThreshold='15 ms'}, socketSettings=SocketSettings{connectTimeoutMS=10000, readTimeoutMS=0, receiveBufferSize=0, proxySettings=ProxySettings{host=null, port=null, username=null, password=null}}, heartbeatSocketSettings=SocketSettings{connectTimeoutMS=10000, readTimeoutMS=10000, receiveBufferSize=0, proxySettings=ProxySettings{host=null, port=null, username=null, password=null}}, connectionPoolSettings=ConnectionPoolSettings{maxSize=50, minSize=0, maxWaitTimeMS=1000, maxConnectionLifeTimeMS=0, maxConnectionIdleTimeMS=0, maintenanceInitialDelayMS=0, maintenanceFrequencyMS=60000, connectionPoolListeners=[], maxConnecting=2}, serverSettings=ServerSettings{heartbeatFrequencyMS=10000, minHeartbeatFrequencyMS=500, serverListeners='[]', serverMonitorListeners='[]'}, sslSettings=SslSettings{enabled=false, invalidHostNameAllowed=false, context=null}, applicationName='null', compressorList=[], uuidRepresentation=UNSPECIFIED, serverApi=null, autoEncryptionSettings=null, dnsClient=null, inetAddressResolver=null, contextProvider=null}
api1-1   | 2024-03-11 01:16:35.133 [cluster-ClusterId{value='65ee5b72d80c9d0e9c47bf47', description='null'}-mongo:27017] INFO  org.mongodb.driver.cluster - Exception in monitor thread while connecting to server mongo:27017
api1-1   | com.mongodb.MongoSocketOpenException: Exception opening socket
api1-1   | 	at com.mongodb.internal.connection.SocketStream.lambda$open$0(SocketStream.java:84)
api1-1   | 	at java.base/java.util.Optional.orElseThrow(Optional.java:403)
api1-1   | 	at com.mongodb.internal.connection.SocketStream.open(SocketStream.java:84)
api1-1   | 	at com.mongodb.internal.connection.InternalStreamConnection.open(InternalStreamConnection.java:211)
api1-1   | 	at com.mongodb.internal.connection.DefaultServerMonitor$ServerMonitorRunnable.lookupServerDescription(DefaultServerMonitor.java:196)
api1-1   | 	at com.mongodb.internal.connection.DefaultServerMonitor$ServerMonitorRunnable.run(DefaultServerMonitor.java:156)
api1-1   | 	at java.base/java.lang.Thread.run(Thread.java:831)
api1-1   | Caused by: java.net.ConnectException: Connection refused
api1-1   | 	at java.base/sun.nio.ch.Net.pollConnect(Native Method)
api1-1   | 	at java.base/sun.nio.ch.Net.pollConnectNow(Net.java:669)
api1-1   | 	at java.base/sun.nio.ch.NioSocketImpl.timedFinishConnect(NioSocketImpl.java:542)
api1-1   | 	at java.base/sun.nio.ch.NioSocketImpl.connect(NioSocketImpl.java:597)
api1-1   | 	at java.base/java.net.SocksSocketImpl.connect(SocksSocketImpl.java:331)
api1-1   | 	at java.base/java.net.Socket.connect(Socket.java:630)
api1-1   | 	at com.mongodb.internal.connection.SocketStreamHelper.initialize(SocketStreamHelper.java:76)
api1-1   | 	at com.mongodb.internal.connection.SocketStream.initializeSocket(SocketStream.java:104)
api1-1   | 	at com.mongodb.internal.connection.SocketStream.open(SocketStream.java:78)
api1-1   | 	... 4 common frames omitted
api1-1   | 2024-03-11 01:16:35.141 [cluster-ClusterId{value='65ee5b72d80c9d0e9c47bf47', description='null'}-mongo:27017] DEBUG org.mongodb.driver.cluster - Updating cluster description to  {type=UNKNOWN, servers=[{address=mongo:27017, type=UNKNOWN, state=CONNECTING, exception={com.mongodb.MongoSocketOpenException: Exception opening socket}, caused by {java.net.ConnectException: Connection refused}}]
api1-1   | 2024-03-11 01:16:35.147 [main] INFO  Application - Application started in 1.727 seconds.
api2-1   | 2024-03-11 01:16:35.224 [cluster-ClusterId{value='65ee5b72363f7903392daf72', description='null'}-mongo:27017] INFO  org.mongodb.driver.cluster - Exception in monitor thread while connecting to server mongo:27017
api2-1   | com.mongodb.MongoSocketOpenException: Exception opening socket
api2-1   | 	at com.mongodb.internal.connection.SocketStream.lambda$open$0(SocketStream.java:84)
api2-1   | 	at java.base/java.util.Optional.orElseThrow(Optional.java:403)
api2-1   | 	at com.mongodb.internal.connection.SocketStream.open(SocketStream.java:84)
api2-1   | 	at com.mongodb.internal.connection.InternalStreamConnection.open(InternalStreamConnection.java:211)
api2-1   | 	at com.mongodb.internal.connection.DefaultServerMonitor$ServerMonitorRunnable.lookupServerDescription(DefaultServerMonitor.java:196)
api2-1   | 	at com.mongodb.internal.connection.DefaultServerMonitor$ServerMonitorRunnable.run(DefaultServerMonitor.java:156)
api2-1   | 	at java.base/java.lang.Thread.run(Thread.java:831)
api2-1   | Caused by: java.net.ConnectException: Connection refused
api2-1   | 	at java.base/sun.nio.ch.Net.pollConnect(Native Method)
api2-1   | 	at java.base/sun.nio.ch.Net.pollConnectNow(Net.java:669)
api2-1   | 	at java.base/sun.nio.ch.NioSocketImpl.timedFinishConnect(NioSocketImpl.java:542)
api2-1   | 	at java.base/sun.nio.ch.NioSocketImpl.connect(NioSocketImpl.java:597)
api2-1   | 	at java.base/java.net.SocksSocketImpl.connect(SocksSocketImpl.java:331)
api2-1   | 	at java.base/java.net.Socket.connect(Socket.java:630)
api2-1   | 	at com.mongodb.internal.connection.SocketStreamHelper.initialize(SocketStreamHelper.java:76)
api2-1   | 	at com.mongodb.internal.connection.SocketStream.initializeSocket(SocketStream.java:104)
api2-1   | 	at com.mongodb.internal.connection.SocketStream.open(SocketStream.java:78)
api2-1   | 	... 4 common frames omitted
api2-1   | 2024-03-11 01:16:35.235 [cluster-ClusterId{value='65ee5b72363f7903392daf72', description='null'}-mongo:27017] DEBUG org.mongodb.driver.cluster - Updating cluster description to  {type=UNKNOWN, servers=[{address=mongo:27017, type=UNKNOWN, state=CONNECTING, exception={com.mongodb.MongoSocketOpenException: Exception opening socket}, caused by {java.net.ConnectException: Connection refused}}]
api2-1   | 2024-03-11 01:16:35.238 [main] INFO  Application - Application started in 1.718 seconds.
nginx-1  | 172.30.0.1 - - [11/Mar/2024:01:16:35 +0000] "GET /clientes/1/extrato HTTP/1.1" 502 157 "-" "curl/7.81.0"
nginx-1  | 2024/03/11 01:16:35 [error] 29#29: *1 connect() failed (111: Connection refused) while connecting to upstream, client: 172.30.0.1, server: , request: "GET /clientes/1/extrato HTTP/1.1", upstream: "http://172.30.0.3:8080/clientes/1/extrato", host: "localhost:9999"
nginx-1  | 2024/03/11 01:16:35 [error] 29#29: *1 connect() failed (111: Connection refused) while connecting to upstream, client: 172.30.0.1, server: , request: "GET /clientes/1/extrato HTTP/1.1", upstream: "http://172.30.0.4:8081/clientes/1/extrato", host: "localhost:9999"
api1-1   | 2024-03-11 01:16:35.746 [DefaultDispatcher-worker-1] INFO  Application - Responding at http://0.0.0.0:8080
api2-1   | 2024-03-11 01:16:35.834 [DefaultDispatcher-worker-1] INFO  Application - Responding at http://0.0.0.0:8081
mongo    | MongoNetworkError: connect ECONNREFUSED 172.30.0.2:27017
mongo    | [38;5;6mmongodb [38;5;5m01:16:36.92 [0m[38;5;2mINFO [0m ==> Creating users...
mongo    | [38;5;6mmongodb [38;5;5m01:16:36.92 [0m[38;5;2mINFO [0m ==> Creating root user...
nginx-1  | 172.30.0.1 - - [11/Mar/2024:01:16:37 +0000] "GET /clientes/1/extrato HTTP/1.1" 502 157 "-" "curl/7.81.0"
nginx-1  | 2024/03/11 01:16:37 [error] 29#29: *4 no live upstreams while connecting to upstream, client: 172.30.0.1, server: , request: "GET /clientes/1/extrato HTTP/1.1", upstream: "http://api/clientes/1/extrato", host: "localhost:9999"
mongo    | Current Mongosh Log ID:	65ee5b76ce8f4f09b190c6cb
mongo    | Connecting to:		mongodb://127.0.0.1:27017/?directConnection=true&serverSelectionTimeoutMS=2000&appName=mongosh+2.1.4
mongo    | Using MongoDB:		6.0.13
mongo    | Using Mongosh:		2.1.4
mongo    | 
mongo    | For mongosh info see: https://docs.mongodb.com/mongodb-shell/
mongo    | 
mongo    | 
mongo    | To help improve our products, anonymous usage data is collected and sent to MongoDB periodically (https://www.mongodb.com/legal/privacy-policy).
mongo    | You can opt-out by running the disableTelemetry() command.
mongo    | 
mongo    | ------
mongo    |    The server generated these startup warnings when booting
mongo    |    2024-03-11T01:16:32.233+00:00: The configured WiredTiger cache size is more than 80% of available RAM. See http://dochub.mongodb.org/core/faq-memory-diagnostics-wt
mongo    |    2024-03-11T01:16:34.890+00:00: /sys/kernel/mm/transparent_hugepage/enabled is 'always'. We suggest setting it to 'never'
mongo    |    2024-03-11T01:16:34.890+00:00: vm.max_map_count is too low
mongo    | ------
mongo    | 
nginx-1  | 2024/03/11 01:16:39 [error] 29#29: *5 no live upstreams while connecting to upstream, client: 172.30.0.1, server: , request: "GET /clientes/1/extrato HTTP/1.1", upstream: "http://api/clientes/1/extrato", host: "localhost:9999"
nginx-1  | 172.30.0.1 - - [11/Mar/2024:01:16:39 +0000] "GET /clientes/1/extrato HTTP/1.1" 502 157 "-" "curl/7.81.0"
mongo    | test> Uncaught MongoNetworkError: connection 3 to 127.0.0.1:27017 closed
mongo    | [38;5;6mmongodb [38;5;5m01:16:41.34 [0m[38;5;2mINFO [0m ==> Creating user 'user'...
nginx-1  | 172.30.0.1 - - [11/Mar/2024:01:16:41 +0000] "GET /clientes/1/extrato HTTP/1.1" 502 157 "-" "curl/7.81.0"
nginx-1  | 2024/03/11 01:16:41 [error] 29#29: *6 no live upstreams while connecting to upstream, client: 172.30.0.1, server: , request: "GET /clientes/1/extrato HTTP/1.1", upstream: "http://api/clientes/1/extrato", host: "localhost:9999"
mongo    | test> Current Mongosh Log ID:	65ee5b7a267b6eed92fb459a
mongo    | Connecting to:		mongodb://<credentials>@127.0.0.1:27017/?directConnection=true&serverSelectionTimeoutMS=2000&appName=mongosh+2.1.4
mongo    | MongoNetworkError: connect ECONNREFUSED 127.0.0.1:27017
mongo exited with code 1
nginx-1  | 172.30.0.1 - - [11/Mar/2024:01:16:43 +0000] "GET /clientes/1/extrato HTTP/1.1" 502 157 "-" "curl/7.81.0"
nginx-1  | 2024/03/11 01:16:43 [error] 29#29: *7 no live upstreams while connecting to upstream, client: 172.30.0.1, server: , request: "GET /clientes/1/extrato HTTP/1.1", upstream: "http://api/clientes/1/extrato", host: "localhost:9999"
nginx-1  | 2024/03/11 01:16:45 [error] 29#29: *8 no live upstreams while connecting to upstream, client: 172.30.0.1, server: , request: "GET /clientes/1/extrato HTTP/1.1", upstream: "http://api/clientes/1/extrato", host: "localhost:9999"
nginx-1  | 172.30.0.1 - - [11/Mar/2024:01:16:45 +0000] "GET /clientes/1/extrato HTTP/1.1" 502 157 "-" "curl/7.81.0"
api2-1   | 2024-03-11 01:16:47.936 [eventLoopGroupProxy-4-1] TRACE io.ktor.routing.Routing - Trace for [clientes, 1, extrato]
api2-1   | /, segment:0 -> SUCCESS @ /
api2-1   |   /clientes, segment:1 -> SUCCESS @ /clientes
api2-1   |     /clientes/{id}, segment:2 -> SUCCESS; Parameters [id=[1]] @ /clientes/{id}
api2-1   |       /clientes/{id}/transacoes, segment:2 -> FAILURE "Selector didn't match" @ /clientes/{id}/transacoes
api2-1   |       /clientes/{id}/extrato, segment:3 -> SUCCESS @ /clientes/{id}/extrato
api2-1   |         /clientes/{id}/extrato/(method:GET), segment:3 -> SUCCESS @ /clientes/{id}/extrato/(method:GET)
api2-1   |   /health, segment:0 -> FAILURE "Selector didn't match" @ /health
api2-1   | Matched routes:
api2-1   |   "" -> "clientes" -> "{id}" -> "extrato" -> "(method:GET)"
api2-1   | Route resolve result:
api2-1   |   SUCCESS; Parameters [id=[1]] @ /clientes/{id}/extrato/(method:GET)
api2-1   | 2024-03-11 01:16:48.115 [eventLoopGroupProxy-4-1] INFO  org.mongodb.driver.cluster - No server chosen by ReadPreferenceServerSelector{readPreference=primary} from cluster description ClusterDescription{type=UNKNOWN, connectionMode=SINGLE, serverDescriptions=[ServerDescription{address=mongo:27017, type=UNKNOWN, state=CONNECTING, exception={com.mongodb.MongoSocketOpenException: Exception opening socket}, caused by {java.net.ConnectException: Connection refused}}]}. Waiting for 30000 ms before timing out
api1-1   | 2024-03-11 01:16:55.154 [cluster-ClusterId{value='65ee5b72d80c9d0e9c47bf47', description='null'}-mongo:27017] DEBUG org.mongodb.driver.cluster - Updating cluster description to  {type=UNKNOWN, servers=[{address=mongo:27017, type=UNKNOWN, state=CONNECTING, exception={com.mongodb.MongoSocketOpenException: Exception opening socket}, caused by {java.net.SocketTimeoutException: Connect timed out}}]
api2-1   | 2024-03-11 01:16:55.243 [cluster-ClusterId{value='65ee5b72363f7903392daf72', description='null'}-mongo:27017] DEBUG org.mongodb.driver.cluster - Updating cluster description to  {type=UNKNOWN, servers=[{address=mongo:27017, type=UNKNOWN, state=CONNECTING, exception={com.mongodb.MongoSocketOpenException: Exception opening socket}, caused by {java.net.SocketTimeoutException: Connect timed out}}]
api2-1   | 2024-03-11 01:17:05.753 [cluster-ClusterId{value='65ee5b72363f7903392daf72', description='null'}-mongo:27017] DEBUG org.mongodb.driver.cluster - Updating cluster description to  {type=UNKNOWN, servers=[{address=mongo:27017, type=UNKNOWN, state=CONNECTING, exception={com.mongodb.MongoSocketOpenException: Exception opening socket}, caused by {java.net.SocketTimeoutException: Connect timed out}}]
api1-1   | 2024-03-11 01:17:10.138 [cluster-ClusterId{value='65ee5b72d80c9d0e9c47bf47', description='null'}-mongo:27017] INFO  org.mongodb.driver.cluster - Exception in monitor thread while connecting to server mongo:27017
api1-1   | com.mongodb.MongoSocketException: mongo
api1-1   | 	at com.mongodb.ServerAddress.getSocketAddresses(ServerAddress.java:221)
api1-1   | 	at com.mongodb.internal.connection.ServerAddressWithResolver.getSocketAddresses(ServerAddressWithResolver.java:68)
api1-1   | 	at com.mongodb.internal.connection.SocketStream.initializeSocket(SocketStream.java:100)
api1-1   | 	at com.mongodb.internal.connection.SocketStream.open(SocketStream.java:78)
api1-1   | 	at com.mongodb.internal.connection.InternalStreamConnection.open(InternalStreamConnection.java:211)
api1-1   | 	at com.mongodb.internal.connection.DefaultServerMonitor$ServerMonitorRunnable.lookupServerDescription(DefaultServerMonitor.java:196)
api1-1   | 	at com.mongodb.internal.connection.DefaultServerMonitor$ServerMonitorRunnable.run(DefaultServerMonitor.java:156)
api1-1   | 	at java.base/java.lang.Thread.run(Thread.java:831)
api1-1   | Caused by: java.net.UnknownHostException: mongo
api1-1   | 	at java.base/java.net.InetAddress$CachedAddresses.get(InetAddress.java:800)
api1-1   | 	at java.base/java.net.InetAddress$NameServiceAddresses.get(InetAddress.java:886)
api1-1   | 	at java.base/java.net.InetAddress.getAllByName0(InetAddress.java:1507)
api1-1   | 	at java.base/java.net.InetAddress.getAllByName(InetAddress.java:1366)
api1-1   | 	at java.base/java.net.InetAddress.getAllByName(InetAddress.java:1300)
api1-1   | 	at com.mongodb.ServerAddress.getSocketAddresses(ServerAddress.java:213)
api1-1   | 	... 7 common frames omitted
api1-1   | 2024-03-11 01:17:10.138 [cluster-ClusterId{value='65ee5b72d80c9d0e9c47bf47', description='null'}-mongo:27017] DEBUG org.mongodb.driver.cluster - Updating cluster description to  {type=UNKNOWN, servers=[{address=mongo:27017, type=UNKNOWN, state=CONNECTING, exception={com.mongodb.MongoSocketException: mongo}, caused by {java.net.UnknownHostException: mongo}}]
api2-1   | 2024-03-11 01:17:10.237 [cluster-ClusterId{value='65ee5b72363f7903392daf72', description='null'}-mongo:27017] INFO  org.mongodb.driver.cluster - Exception in monitor thread while connecting to server mongo:27017
api2-1   | com.mongodb.MongoSocketException: mongo
api2-1   | 	at com.mongodb.ServerAddress.getSocketAddresses(ServerAddress.java:221)
api2-1   | 	at com.mongodb.internal.connection.ServerAddressWithResolver.getSocketAddresses(ServerAddressWithResolver.java:68)
api2-1   | 	at com.mongodb.internal.connection.SocketStream.initializeSocket(SocketStream.java:100)
api2-1   | 	at com.mongodb.internal.connection.SocketStream.open(SocketStream.java:78)
api2-1   | 	at com.mongodb.internal.connection.InternalStreamConnection.open(InternalStreamConnection.java:211)
api2-1   | 	at com.mongodb.internal.connection.DefaultServerMonitor$ServerMonitorRunnable.lookupServerDescription(DefaultServerMonitor.java:196)
api2-1   | 	at com.mongodb.internal.connection.DefaultServerMonitor$ServerMonitorRunnable.run(DefaultServerMonitor.java:156)
api2-1   | 	at java.base/java.lang.Thread.run(Thread.java:831)
api2-1   | Caused by: java.net.UnknownHostException: mongo
api2-1   | 	at java.base/java.net.InetAddress$CachedAddresses.get(InetAddress.java:800)
api2-1   | 	at java.base/java.net.InetAddress$NameServiceAddresses.get(InetAddress.java:886)
api2-1   | 	at java.base/java.net.InetAddress.getAllByName0(InetAddress.java:1507)
api2-1   | 	at java.base/java.net.InetAddress.getAllByName(InetAddress.java:1366)
api2-1   | 	at java.base/java.net.InetAddress.getAllByName(InetAddress.java:1300)
api2-1   | 	at com.mongodb.ServerAddress.getSocketAddresses(ServerAddress.java:213)
api2-1   | 	... 7 common frames omitted
api2-1   | 2024-03-11 01:17:10.238 [cluster-ClusterId{value='65ee5b72363f7903392daf72', description='null'}-mongo:27017] DEBUG org.mongodb.driver.cluster - Updating cluster description to  {type=UNKNOWN, servers=[{address=mongo:27017, type=UNKNOWN, state=CONNECTING, exception={com.mongodb.MongoSocketException: mongo}, caused by {java.net.UnknownHostException: mongo}}]
api2-1   | 2024-03-11 01:17:10.738 [cluster-ClusterId{value='65ee5b72363f7903392daf72', description='null'}-mongo:27017] DEBUG org.mongodb.driver.cluster - Updating cluster description to  {type=UNKNOWN, servers=[{address=mongo:27017, type=UNKNOWN, state=CONNECTING, exception={com.mongodb.MongoSocketException: mongo}, caused by {java.net.UnknownHostException: mongo}}]
api2-1   | 2024-03-11 01:17:11.238 [cluster-ClusterId{value='65ee5b72363f7903392daf72', description='null'}-mongo:27017] DEBUG org.mongodb.driver.cluster - Updating cluster description to  {type=UNKNOWN, servers=[{address=mongo:27017, type=UNKNOWN, state=CONNECTING, exception={com.mongodb.MongoSocketException: mongo}, caused by {java.net.UnknownHostException: mongo}}]
api2-1   | 2024-03-11 01:17:11.737 [cluster-ClusterId{value='65ee5b72363f7903392daf72', description='null'}-mongo:27017] DEBUG org.mongodb.driver.cluster - Updating cluster description to  {type=UNKNOWN, servers=[{address=mongo:27017, type=UNKNOWN, state=CONNECTING, exception={com.mongodb.MongoSocketException: mongo}, caused by {java.net.UnknownHostException: mongo}}]
api2-1   | 2024-03-11 01:17:12.237 [cluster-ClusterId{value='65ee5b72363f7903392daf72', description='null'}-mongo:27017] DEBUG org.mongodb.driver.cluster - Updating cluster description to  {type=UNKNOWN, servers=[{address=mongo:27017, type=UNKNOWN, state=CONNECTING, exception={com.mongodb.MongoSocketException: mongo}, caused by {java.net.UnknownHostException: mongo}}]
api2-1   | 2024-03-11 01:17:12.737 [cluster-ClusterId{value='65ee5b72363f7903392daf72', description='null'}-mongo:27017] DEBUG org.mongodb.driver.cluster - Updating cluster description to  {type=UNKNOWN, servers=[{address=mongo:27017, type=UNKNOWN, state=CONNECTING, exception={com.mongodb.MongoSocketException: mongo}, caused by {java.net.UnknownHostException: mongo}}]
api2-1   | 2024-03-11 01:17:13.237 [cluster-ClusterId{value='65ee5b72363f7903392daf72', description='null'}-mongo:27017] DEBUG org.mongodb.driver.cluster - Updating cluster description to  {type=UNKNOWN, servers=[{address=mongo:27017, type=UNKNOWN, state=CONNECTING, exception={com.mongodb.MongoSocketException: mongo}, caused by {java.net.UnknownHostException: mongo}}]
api2-1   | 2024-03-11 01:17:13.737 [cluster-ClusterId{value='65ee5b72363f7903392daf72', description='null'}-mongo:27017] DEBUG org.mongodb.driver.cluster - Updating cluster description to  {type=UNKNOWN, servers=[{address=mongo:27017, type=UNKNOWN, state=CONNECTING, exception={com.mongodb.MongoSocketException: mongo}, caused by {java.net.UnknownHostException: mongo}}]
api2-1   | 2024-03-11 01:17:14.237 [cluster-ClusterId{value='65ee5b72363f7903392daf72', description='null'}-mongo:27017] DEBUG org.mongodb.driver.cluster - Updating cluster description to  {type=UNKNOWN, servers=[{address=mongo:27017, type=UNKNOWN, state=CONNECTING, exception={com.mongodb.MongoSocketException: mongo}, caused by {java.net.UnknownHostException: mongo}}]
api2-1   | 2024-03-11 01:17:14.737 [cluster-ClusterId{value='65ee5b72363f7903392daf72', description='null'}-mongo:27017] DEBUG org.mongodb.driver.cluster - Updating cluster description to  {type=UNKNOWN, servers=[{address=mongo:27017, type=UNKNOWN, state=CONNECTING, exception={com.mongodb.MongoSocketException: mongo}, caused by {java.net.UnknownHostException: mongo}}]
api2-1   | 2024-03-11 01:17:15.236 [cluster-ClusterId{value='65ee5b72363f7903392daf72', description='null'}-mongo:27017] DEBUG org.mongodb.driver.cluster - Updating cluster description to  {type=UNKNOWN, servers=[{address=mongo:27017, type=UNKNOWN, state=CONNECTING, exception={com.mongodb.MongoSocketException: mongo}, caused by {java.net.UnknownHostException: mongo}}]
api2-1   | 2024-03-11 01:17:15.736 [cluster-ClusterId{value='65ee5b72363f7903392daf72', description='null'}-mongo:27017] DEBUG org.mongodb.driver.cluster - Updating cluster description to  {type=UNKNOWN, servers=[{address=mongo:27017, type=UNKNOWN, state=CONNECTING, exception={com.mongodb.MongoSocketException: mongo}, caused by {java.net.UnknownHostException: mongo}}]
api2-1   | 2024-03-11 01:17:16.236 [cluster-ClusterId{value='65ee5b72363f7903392daf72', description='null'}-mongo:27017] DEBUG org.mongodb.driver.cluster - Updating cluster description to  {type=UNKNOWN, servers=[{address=mongo:27017, type=UNKNOWN, state=CONNECTING, exception={com.mongodb.MongoSocketException: mongo}, caused by {java.net.UnknownHostException: mongo}}]
api2-1   | 2024-03-11 01:17:16.736 [cluster-ClusterId{value='65ee5b72363f7903392daf72', description='null'}-mongo:27017] DEBUG org.mongodb.driver.cluster - Updating cluster description to  {type=UNKNOWN, servers=[{address=mongo:27017, type=UNKNOWN, state=CONNECTING, exception={com.mongodb.MongoSocketException: mongo}, caused by {java.net.UnknownHostException: mongo}}]
api2-1   | 2024-03-11 01:17:17.236 [cluster-ClusterId{value='65ee5b72363f7903392daf72', description='null'}-mongo:27017] DEBUG org.mongodb.driver.cluster - Updating cluster description to  {type=UNKNOWN, servers=[{address=mongo:27017, type=UNKNOWN, state=CONNECTING, exception={com.mongodb.MongoSocketException: mongo}, caused by {java.net.UnknownHostException: mongo}}]
api2-1   | 2024-03-11 01:17:17.736 [cluster-ClusterId{value='65ee5b72363f7903392daf72', description='null'}-mongo:27017] DEBUG org.mongodb.driver.cluster - Updating cluster description to  {type=UNKNOWN, servers=[{address=mongo:27017, type=UNKNOWN, state=CONNECTING, exception={com.mongodb.MongoSocketException: mongo}, caused by {java.net.UnknownHostException: mongo}}]
api2-1   | 2024-03-11 01:17:18.117 [eventLoopGroupProxy-4-1] DEBUG org.mongodb.driver.operation - Unable to retry an operation due to the error "com.mongodb.MongoTimeoutException: Timed out after 30000 ms while waiting for a server that matches ReadPreferenceServerSelector{readPreference=primary}. Client view of cluster state is {type=UNKNOWN, servers=[{address=mongo:27017, type=UNKNOWN, state=CONNECTING, exception={com.mongodb.MongoSocketException: mongo}, caused by {java.net.UnknownHostException: mongo}}]"
api2-1   | 2024-03-11 01:17:18.119 [eventLoopGroupProxy-4-1] TRACE i.k.s.p.statuspages.StatusPages - Call /clientes/1/extrato failed with cause com.mongodb.MongoTimeoutException: Timed out after 30000 ms while waiting for a server that matches ReadPreferenceServerSelector{readPreference=primary}. Client view of cluster state is {type=UNKNOWN, servers=[{address=mongo:27017, type=UNKNOWN, state=CONNECTING, exception={com.mongodb.MongoSocketException: mongo}, caused by {java.net.UnknownHostException: mongo}}]
api2-1   | 2024-03-11 01:17:18.219 [eventLoopGroupProxy-4-1] TRACE i.k.s.p.statuspages.StatusPages - Executing (io.ktor.server.application.ApplicationCall, kotlin.Throwable) -> kotlin.Unit for exception com.mongodb.MongoTimeoutException: Timed out after 30000 ms while waiting for a server that matches ReadPreferenceServerSelector{readPreference=primary}. Client view of cluster state is {type=UNKNOWN, servers=[{address=mongo:27017, type=UNKNOWN, state=CONNECTING, exception={com.mongodb.MongoSocketException: mongo}, caused by {java.net.UnknownHostException: mongo}}] for call /clientes/1/extrato
api2-1   | com.mongodb.MongoTimeoutException: Timed out after 30000 ms while waiting for a server that matches ReadPreferenceServerSelector{readPreference=primary}. Client view of cluster state is {type=UNKNOWN, servers=[{address=mongo:27017, type=UNKNOWN, state=CONNECTING, exception={com.mongodb.MongoSocketException: mongo}, caused by {java.net.UnknownHostException: mongo}}]
api2-1   | 	at com.mongodb.internal.connection.BaseCluster.createTimeoutException(BaseCluster.java:380)
api2-1   | 	at com.mongodb.internal.connection.BaseCluster.selectServer(BaseCluster.java:125)
api2-1   | 	at com.mongodb.internal.connection.SingleServerCluster.selectServer(SingleServerCluster.java:46)
api2-1   | 	at com.mongodb.internal.binding.ClusterBinding.getReadConnectionSource(ClusterBinding.java:116)
api2-1   | 	at com.mongodb.client.internal.ClientSessionBinding.getConnectionSource(ClientSessionBinding.java:128)
api2-1   | 	at com.mongodb.client.internal.ClientSessionBinding.getReadConnectionSource(ClientSessionBinding.java:92)
api2-1   | 	at com.mongodb.internal.operation.SyncOperationHelper.withSuppliedResource(SyncOperationHelper.java:144)
api2-1   | 	at com.mongodb.internal.operation.SyncOperationHelper.withSourceAndConnection(SyncOperationHelper.java:125)
api2-1   | 	at com.mongodb.internal.operation.FindOperation.lambda$execute$2(FindOperation.java:322)
api2-1   | 	at com.mongodb.internal.operation.SyncOperationHelper.lambda$decorateReadWithRetries$12(SyncOperationHelper.java:292)
api2-1   | 	at com.mongodb.internal.async.function.RetryingSyncSupplier.get(RetryingSyncSupplier.java:67)
api2-1   | 	at com.mongodb.internal.operation.FindOperation.execute(FindOperation.java:333)
api2-1   | 	at com.mongodb.internal.operation.FindOperation.execute(FindOperation.java:73)
api2-1   | 	at com.mongodb.client.internal.MongoClientDelegate$DelegateOperationExecutor.execute(MongoClientDelegate.java:153)
api2-1   | 	at com.mongodb.client.internal.FindIterableImpl.first(FindIterableImpl.java:213)
api2-1   | 	at dev.h2r.infra.database.adapter.ClientDatabaseAdapter.find(ClientDatabaseAdapter.kt:58)
api2-1   | 	at dev.h2r.domain.usecase.StatementUseCase.execute(StatementUseCase.kt:13)
api2-1   | 	at dev.h2r.controller.ClientController.statement(ClientController.kt:29)
api2-1   | 	at dev.h2r.plugins.RoutingKt$routing$1$2.invokeSuspend(Routing.kt:18)
api2-1   | 	at dev.h2r.plugins.RoutingKt$routing$1$2.invoke(Routing.kt)
api2-1   | 	at dev.h2r.plugins.RoutingKt$routing$1$2.invoke(Routing.kt)
api2-1   | 	at io.ktor.server.routing.Route$buildPipeline$1$1.invokeSuspend(Route.kt:116)
api2-1   | 	at io.ktor.server.routing.Route$buildPipeline$1$1.invoke(Route.kt)
api2-1   | 	at io.ktor.server.routing.Route$buildPipeline$1$1.invoke(Route.kt)
api2-1   | 	at io.ktor.util.pipeline.SuspendFunctionGun.loop(SuspendFunctionGun.kt:120)
api2-1   | 	at io.ktor.util.pipeline.SuspendFunctionGun.proceed(SuspendFunctionGun.kt:78)
api2-1   | 	at io.ktor.util.pipeline.SuspendFunctionGun.execute$ktor_utils(SuspendFunctionGun.kt:98)
api2-1   | 	at io.ktor.util.pipeline.Pipeline.execute(Pipeline.kt:77)
api2-1   | 	at io.ktor.server.routing.Routing$executeResult$$inlined$execute$1.invokeSuspend(Pipeline.kt:478)
api2-1   | 	at io.ktor.server.routing.Routing$executeResult$$inlined$execute$1.invoke(Pipeline.kt)
api2-1   | 	at io.ktor.server.routing.Routing$executeResult$$inlined$execute$1.invoke(Pipeline.kt)
api2-1   | 	at io.ktor.util.debug.ContextUtilsKt.initContextInDebugMode(ContextUtils.kt:17)
api2-1   | 	at io.ktor.server.routing.Routing.executeResult(Routing.kt:190)
api2-1   | 	at io.ktor.server.routing.Routing.interceptor(Routing.kt:64)
api2-1   | 	at io.ktor.server.routing.Routing$Plugin$install$1.invokeSuspend(Routing.kt:140)
api2-1   | 	at io.ktor.server.routing.Routing$Plugin$install$1.invoke(Routing.kt)
api2-1   | 	at io.ktor.server.routing.Routing$Plugin$install$1.invoke(Routing.kt)
api2-1   | 	at io.ktor.util.pipeline.SuspendFunctionGun.loop(SuspendFunctionGun.kt:120)
api2-1   | 	at io.ktor.util.pipeline.SuspendFunctionGun.proceed(SuspendFunctionGun.kt:78)
api2-1   | 	at io.ktor.server.engine.BaseApplicationEngineKt$installDefaultTransformationChecker$1.invokeSuspend(BaseApplicationEngine.kt:124)
api2-1   | 	at io.ktor.server.engine.BaseApplicationEngineKt$installDefaultTransformationChecker$1.invoke(BaseApplicationEngine.kt)
api2-1   | 	at io.ktor.server.engine.BaseApplicationEngineKt$installDefaultTransformationChecker$1.invoke(BaseApplicationEngine.kt)
api2-1   | 	at io.ktor.util.pipeline.SuspendFunctionGun.loop(SuspendFunctionGun.kt:120)
api2-1   | 	at io.ktor.util.pipeline.SuspendFunctionGun.proceed(SuspendFunctionGun.kt:78)
api2-1   | 	at io.ktor.server.application.hooks.CallFailed$install$1$1.invokeSuspend(CommonHooks.kt:45)
api2-1   | 	at io.ktor.server.application.hooks.CallFailed$install$1$1.invoke(CommonHooks.kt)
api2-1   | 	at io.ktor.server.application.hooks.CallFailed$install$1$1.invoke(CommonHooks.kt)
api2-1   | 	at kotlinx.coroutines.intrinsics.UndispatchedKt.startUndispatchedOrReturn(Undispatched.kt:78)
api2-1   | 	at kotlinx.coroutines.CoroutineScopeKt.coroutineScope(CoroutineScope.kt:264)
api2-1   | 	at io.ktor.server.application.hooks.CallFailed$install$1.invokeSuspend(CommonHooks.kt:44)
api2-1   | 	at io.ktor.server.application.hooks.CallFailed$install$1.invoke(CommonHooks.kt)
api2-1   | 	at io.ktor.server.application.hooks.CallFailed$install$1.invoke(CommonHooks.kt)
api2-1   | 	at io.ktor.util.pipeline.SuspendFunctionGun.loop(SuspendFunctionGun.kt:120)
api2-1   | 	at io.ktor.util.pipeline.SuspendFunctionGun.proceed(SuspendFunctionGun.kt:78)
api2-1   | 	at io.ktor.util.pipeline.SuspendFunctionGun.execute$ktor_utils(SuspendFunctionGun.kt:98)
api2-1   | 	at io.ktor.util.pipeline.Pipeline.execute(Pipeline.kt:77)
api2-1   | 	at io.ktor.server.engine.DefaultEnginePipelineKt$defaultEnginePipeline$1$invokeSuspend$$inlined$execute$1.invokeSuspend(Pipeline.kt:478)
api2-1   | 	at io.ktor.server.engine.DefaultEnginePipelineKt$defaultEnginePipeline$1$invokeSuspend$$inlined$execute$1.invoke(Pipeline.kt)
api2-1   | 	at io.ktor.server.engine.DefaultEnginePipelineKt$defaultEnginePipeline$1$invokeSuspend$$inlined$execute$1.invoke(Pipeline.kt)
api2-1   | 	at io.ktor.util.debug.ContextUtilsKt.initContextInDebugMode(ContextUtils.kt:17)
api2-1   | 	at io.ktor.server.engine.DefaultEnginePipelineKt$defaultEnginePipeline$1.invokeSuspend(DefaultEnginePipeline.kt:123)
api2-1   | 	at io.ktor.server.engine.DefaultEnginePipelineKt$defaultEnginePipeline$1.invoke(DefaultEnginePipeline.kt)
api2-1   | 	at io.ktor.server.engine.DefaultEnginePipelineKt$defaultEnginePipeline$1.invoke(DefaultEnginePipeline.kt)
api2-1   | 	at io.ktor.util.pipeline.SuspendFunctionGun.loop(SuspendFunctionGun.kt:120)
api2-1   | 	at io.ktor.util.pipeline.SuspendFunctionGun.proceed(SuspendFunctionGun.kt:78)
api2-1   | 	at io.ktor.util.pipeline.SuspendFunctionGun.execute$ktor_utils(SuspendFunctionGun.kt:98)
api2-1   | 	at io.ktor.util.pipeline.Pipeline.execute(Pipeline.kt:77)
api2-1   | 	at io.ktor.server.netty.NettyApplicationCallHandler$handleRequest$1$invokeSuspend$$inlined$execute$1.invokeSuspend(Pipeline.kt:478)
api2-1   | 	at io.ktor.server.netty.NettyApplicationCallHandler$handleRequest$1$invokeSuspend$$inlined$execute$1.invoke(Pipeline.kt)
api2-1   | 	at io.ktor.server.netty.NettyApplicationCallHandler$handleRequest$1$invokeSuspend$$inlined$execute$1.invoke(Pipeline.kt)
api2-1   | 	at io.ktor.util.debug.ContextUtilsKt.initContextInDebugMode(ContextUtils.kt:17)
api2-1   | 	at io.ktor.server.netty.NettyApplicationCallHandler$handleRequest$1.invokeSuspend(NettyApplicationCallHandler.kt:140)
api2-1   | 	at io.ktor.server.netty.NettyApplicationCallHandler$handleRequest$1.invoke(NettyApplicationCallHandler.kt)
api2-1   | 	at io.ktor.server.netty.NettyApplicationCallHandler$handleRequest$1.invoke(NettyApplicationCallHandler.kt)
api2-1   | 	at kotlinx.coroutines.intrinsics.UndispatchedKt.startCoroutineUndispatched(Undispatched.kt:44)
api2-1   | 	at kotlinx.coroutines.CoroutineStart.invoke(CoroutineStart.kt:112)
api2-1   | 	at kotlinx.coroutines.AbstractCoroutine.start(AbstractCoroutine.kt:126)
api2-1   | 	at kotlinx.coroutines.BuildersKt__Builders_commonKt.launch(Builders.common.kt:56)
api2-1   | 	at kotlinx.coroutines.BuildersKt.launch(Unknown Source)
api2-1   | 	at io.ktor.server.netty.NettyApplicationCallHandler.handleRequest(NettyApplicationCallHandler.kt:41)
api2-1   | 	at io.ktor.server.netty.NettyApplicationCallHandler.channelRead(NettyApplicationCallHandler.kt:33)
api2-1   | 	at io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:444)
api2-1   | 	at io.netty.channel.AbstractChannelHandlerContext.access$600(AbstractChannelHandlerContext.java:61)
api2-1   | 	at io.netty.channel.AbstractChannelHandlerContext$7.run(AbstractChannelHandlerContext.java:425)
api2-1   | 	at io.netty.util.concurrent.AbstractEventExecutor.runTask(AbstractEventExecutor.java:173)
api2-1   | 	at io.netty.util.concurrent.AbstractEventExecutor.safeExecute(AbstractEventExecutor.java:166)
api2-1   | 	at io.netty.util.concurrent.SingleThreadEventExecutor.runAllTasks(SingleThreadEventExecutor.java:470)
api2-1   | 	at io.netty.channel.nio.NioEventLoop.run(NioEventLoop.java:569)
api2-1   | 	at io.netty.util.concurrent.SingleThreadEventExecutor$4.run(SingleThreadEventExecutor.java:997)
api2-1   | 	at io.netty.util.internal.ThreadExecutorMap$2.run(ThreadExecutorMap.java:74)
api2-1   | 	at io.ktor.server.netty.EventLoopGroupProxy$Companion.create$lambda$1$lambda$0(NettyApplicationEngine.kt:296)
api2-1   | 	at io.netty.util.concurrent.FastThreadLocalRunnable.run(FastThreadLocalRunnable.java:30)
api2-1   | 	at java.base/java.lang.Thread.run(Thread.java:831)
api2-1   | 2024-03-11 01:17:18.225 [eventLoopGroupProxy-4-1] TRACE i.k.s.p.c.ContentNegotiation - Skipping because body is already converted.
nginx-1  | 172.30.0.1 - - [11/Mar/2024:01:17:18 +0000] "GET /clientes/1/extrato HTTP/1.1" 500 372 "-" "curl/7.81.0"
api2-1   | 2024-03-11 01:17:18.236 [cluster-ClusterId{value='65ee5b72363f7903392daf72', description='null'}-mongo:27017] DEBUG org.mongodb.driver.cluster - Updating cluster description to  {type=UNKNOWN, servers=[{address=mongo:27017, type=UNKNOWN, state=CONNECTING, exception={com.mongodb.MongoSocketException: mongo}, caused by {java.net.UnknownHostException: mongo}}]
api2-1   | 2024-03-11 01:17:20.241 [eventLoopGroupProxy-4-1] TRACE io.ktor.routing.Routing - Trace for [clientes, 1, extrato]
api2-1   | /, segment:0 -> SUCCESS @ /
api2-1   |   /clientes, segment:1 -> SUCCESS @ /clientes
api2-1   |     /clientes/{id}, segment:2 -> SUCCESS; Parameters [id=[1]] @ /clientes/{id}
api2-1   |       /clientes/{id}/transacoes, segment:2 -> FAILURE "Selector didn't match" @ /clientes/{id}/transacoes
api2-1   |       /clientes/{id}/extrato, segment:3 -> SUCCESS @ /clientes/{id}/extrato
api2-1   |         /clientes/{id}/extrato/(method:GET), segment:3 -> SUCCESS @ /clientes/{id}/extrato/(method:GET)
api2-1   |   /health, segment:0 -> FAILURE "Selector didn't match" @ /health
api2-1   | Matched routes:
api2-1   |   "" -> "clientes" -> "{id}" -> "extrato" -> "(method:GET)"
api2-1   | Route resolve result:
api2-1   |   SUCCESS; Parameters [id=[1]] @ /clientes/{id}/extrato/(method:GET)
api2-1   | 2024-03-11 01:17:20.242 [eventLoopGroupProxy-4-1] INFO  org.mongodb.driver.cluster - No server chosen by ReadPreferenceServerSelector{readPreference=primary} from cluster description ClusterDescription{type=UNKNOWN, connectionMode=SINGLE, serverDescriptions=[ServerDescription{address=mongo:27017, type=UNKNOWN, state=CONNECTING, exception={com.mongodb.MongoSocketException: mongo}, caused by {java.net.UnknownHostException: mongo}}]}. Waiting for 30000 ms before timing out
api1-1   | 2024-03-11 01:17:25.144 [cluster-ClusterId{value='65ee5b72d80c9d0e9c47bf47', description='null'}-mongo:27017] DEBUG org.mongodb.driver.cluster - Updating cluster description to  {type=UNKNOWN, servers=[{address=mongo:27017, type=UNKNOWN, state=CONNECTING, exception={com.mongodb.MongoSocketException: mongo}, caused by {java.net.UnknownHostException: mongo}}]
api2-1   | 2024-03-11 01:17:25.243 [cluster-ClusterId{value='65ee5b72363f7903392daf72', description='null'}-mongo:27017] DEBUG org.mongodb.driver.cluster - Updating cluster description to  {type=UNKNOWN, servers=[{address=mongo:27017, type=UNKNOWN, state=CONNECTING, exception={com.mongodb.MongoSocketException: mongo}, caused by {java.net.UnknownHostException: mongo}}]
api2-1   | 2024-03-11 01:17:25.743 [cluster-ClusterId{value='65ee5b72363f7903392daf72', description='null'}-mongo:27017] DEBUG org.mongodb.driver.cluster - Updating cluster description to  {type=UNKNOWN, servers=[{address=mongo:27017, type=UNKNOWN, state=CONNECTING, exception={com.mongodb.MongoSocketException: mongo}, caused by {java.net.UnknownHostException: mongo}}]
api2-1   | 2024-03-11 01:17:26.243 [cluster-ClusterId{value='65ee5b72363f7903392daf72', description='null'}-mongo:27017] DEBUG org.mongodb.driver.cluster - Updating cluster description to  {type=UNKNOWN, servers=[{address=mongo:27017, type=UNKNOWN, state=CONNECTING, exception={com.mongodb.MongoSocketException: mongo}, caused by {java.net.UnknownHostException: mongo}}]
api2-1   | 2024-03-11 01:17:26.743 [cluster-ClusterId{value='65ee5b72363f7903392daf72', description='null'}-mongo:27017] DEBUG org.mongodb.driver.cluster - Updating cluster description to  {type=UNKNOWN, servers=[{address=mongo:27017, type=UNKNOWN, state=CONNECTING, exception={com.mongodb.MongoSocketException: mongo}, caused by {java.net.UnknownHostException: mongo}}]
api2-1   | 2024-03-11 01:17:27.243 [cluster-ClusterId{value='65ee5b72363f7903392daf72', description='null'}-mongo:27017] DEBUG org.mongodb.driver.cluster - Updating cluster description to  {type=UNKNOWN, servers=[{address=mongo:27017, type=UNKNOWN, state=CONNECTING, exception={com.mongodb.MongoSocketException: mongo}, caused by {java.net.UnknownHostException: mongo}}]
api2-1   | 2024-03-11 01:17:27.743 [cluster-ClusterId{value='65ee5b72363f7903392daf72', description='null'}-mongo:27017] DEBUG org.mongodb.driver.cluster - Updating cluster description to  {type=UNKNOWN, servers=[{address=mongo:27017, type=UNKNOWN, state=CONNECTING, exception={com.mongodb.MongoSocketException: mongo}, caused by {java.net.UnknownHostException: mongo}}]
api2-1   | 2024-03-11 01:17:28.243 [cluster-ClusterId{value='65ee5b72363f7903392daf72', description='null'}-mongo:27017] DEBUG org.mongodb.driver.cluster - Updating cluster description to  {type=UNKNOWN, servers=[{address=mongo:27017, type=UNKNOWN, state=CONNECTING, exception={com.mongodb.MongoSocketException: mongo}, caused by {java.net.UnknownHostException: mongo}}]
api2-1   | 2024-03-11 01:17:28.742 [cluster-ClusterId{value='65ee5b72363f7903392daf72', description='null'}-mongo:27017] DEBUG org.mongodb.driver.cluster - Updating cluster description to  {type=UNKNOWN, servers=[{address=mongo:27017, type=UNKNOWN, state=CONNECTING, exception={com.mongodb.MongoSocketException: mongo}, caused by {java.net.UnknownHostException: mongo}}]
api2-1   | 2024-03-11 01:17:29.242 [cluster-ClusterId{value='65ee5b72363f7903392daf72', description='null'}-mongo:27017] DEBUG org.mongodb.driver.cluster - Updating cluster description to  {type=UNKNOWN, servers=[{address=mongo:27017, type=UNKNOWN, state=CONNECTING, exception={com.mongodb.MongoSocketException: mongo}, caused by {java.net.UnknownHostException: mongo}}]
api2-1   | 2024-03-11 01:17:29.742 [cluster-ClusterId{value='65ee5b72363f7903392daf72', description='null'}-mongo:27017] DEBUG org.mongodb.driver.cluster - Updating cluster description to  {type=UNKNOWN, servers=[{address=mongo:27017, type=UNKNOWN, state=CONNECTING, exception={com.mongodb.MongoSocketException: mongo}, caused by {java.net.UnknownHostException: mongo}}]
api2-1   | 2024-03-11 01:17:30.242 [cluster-ClusterId{value='65ee5b72363f7903392daf72', description='null'}-mongo:27017] DEBUG org.mongodb.driver.cluster - Updating cluster description to  {type=UNKNOWN, servers=[{address=mongo:27017, type=UNKNOWN, state=CONNECTING, exception={com.mongodb.MongoSocketException: mongo}, caused by {java.net.UnknownHostException: mongo}}]
api2-1   | 2024-03-11 01:17:30.742 [cluster-ClusterId{value='65ee5b72363f7903392daf72', description='null'}-mongo:27017] DEBUG org.mongodb.driver.cluster - Updating cluster description to  {type=UNKNOWN, servers=[{address=mongo:27017, type=UNKNOWN, state=CONNECTING, exception={com.mongodb.MongoSocketException: mongo}, caused by {java.net.UnknownHostException: mongo}}]
api2-1   | 2024-03-11 01:17:31.243 [cluster-ClusterId{value='65ee5b72363f7903392daf72', description='null'}-mongo:27017] DEBUG org.mongodb.driver.cluster - Updating cluster description to  {type=UNKNOWN, servers=[{address=mongo:27017, type=UNKNOWN, state=CONNECTING, exception={com.mongodb.MongoSocketException: mongo}, caused by {java.net.UnknownHostException: mongo}}]
api2-1   | 2024-03-11 01:17:31.743 [cluster-ClusterId{value='65ee5b72363f7903392daf72', description='null'}-mongo:27017] DEBUG org.mongodb.driver.cluster - Updating cluster description to  {type=UNKNOWN, servers=[{address=mongo:27017, type=UNKNOWN, state=CONNECTING, exception={com.mongodb.MongoSocketException: mongo}, caused by {java.net.UnknownHostException: mongo}}]
api2-1   | 2024-03-11 01:17:32.243 [cluster-ClusterId{value='65ee5b72363f7903392daf72', description='null'}-mongo:27017] DEBUG org.mongodb.driver.cluster - Updating cluster description to  {type=UNKNOWN, servers=[{address=mongo:27017, type=UNKNOWN, state=CONNECTING, exception={com.mongodb.MongoSocketException: mongo}, caused by {java.net.UnknownHostException: mongo}}]
api2-1   | 2024-03-11 01:17:32.743 [cluster-ClusterId{value='65ee5b72363f7903392daf72', description='null'}-mongo:27017] DEBUG org.mongodb.driver.cluster - Updating cluster description to  {type=UNKNOWN, servers=[{address=mongo:27017, type=UNKNOWN, state=CONNECTING, exception={com.mongodb.MongoSocketException: mongo}, caused by {java.net.UnknownHostException: mongo}}]
api2-1   | 2024-03-11 01:17:33.243 [cluster-ClusterId{value='65ee5b72363f7903392daf72', description='null'}-mongo:27017] DEBUG org.mongodb.driver.cluster - Updating cluster description to  {type=UNKNOWN, servers=[{address=mongo:27017, type=UNKNOWN, state=CONNECTING, exception={com.mongodb.MongoSocketException: mongo}, caused by {java.net.UnknownHostException: mongo}}]
api2-1   | 2024-03-11 01:17:33.743 [cluster-ClusterId{value='65ee5b72363f7903392daf72', description='null'}-mongo:27017] DEBUG org.mongodb.driver.cluster - Updating cluster description to  {type=UNKNOWN, servers=[{address=mongo:27017, type=UNKNOWN, state=CONNECTING, exception={com.mongodb.MongoSocketException: mongo}, caused by {java.net.UnknownHostException: mongo}}]
api2-1   | 2024-03-11 01:17:34.243 [cluster-ClusterId{value='65ee5b72363f7903392daf72', description='null'}-mongo:27017] DEBUG org.mongodb.driver.cluster - Updating cluster description to  {type=UNKNOWN, servers=[{address=mongo:27017, type=UNKNOWN, state=CONNECTING, exception={com.mongodb.MongoSocketException: mongo}, caused by {java.net.UnknownHostException: mongo}}]
api2-1   | 2024-03-11 01:17:34.743 [cluster-ClusterId{value='65ee5b72363f7903392daf72', description='null'}-mongo:27017] DEBUG org.mongodb.driver.cluster - Updating cluster description to  {type=UNKNOWN, servers=[{address=mongo:27017, type=UNKNOWN, state=CONNECTING, exception={com.mongodb.MongoSocketException: mongo}, caused by {java.net.UnknownHostException: mongo}}]
api2-1   | 2024-03-11 01:17:35.242 [cluster-ClusterId{value='65ee5b72363f7903392daf72', description='null'}-mongo:27017] DEBUG org.mongodb.driver.cluster - Updating cluster description to  {type=UNKNOWN, servers=[{address=mongo:27017, type=UNKNOWN, state=CONNECTING, exception={com.mongodb.MongoSocketException: mongo}, caused by {java.net.UnknownHostException: mongo}}]
api1-1   | 2024-03-11 01:17:40.150 [cluster-ClusterId{value='65ee5b72d80c9d0e9c47bf47', description='null'}-mongo:27017] DEBUG org.mongodb.driver.cluster - Updating cluster description to  {type=UNKNOWN, servers=[{address=mongo:27017, type=UNKNOWN, state=CONNECTING, exception={com.mongodb.MongoSocketException: mongo}, caused by {java.net.UnknownHostException: mongo}}]
api2-1   | 2024-03-11 01:17:40.249 [cluster-ClusterId{value='65ee5b72363f7903392daf72', description='null'}-mongo:27017] DEBUG org.mongodb.driver.cluster - Updating cluster description to  {type=UNKNOWN, servers=[{address=mongo:27017, type=UNKNOWN, state=CONNECTING, exception={com.mongodb.MongoSocketException: mongo}, caused by {java.net.UnknownHostException: mongo}}]
api2-1   | 2024-03-11 01:17:40.748 [cluster-ClusterId{value='65ee5b72363f7903392daf72', description='null'}-mongo:27017] DEBUG org.mongodb.driver.cluster - Updating cluster description to  {type=UNKNOWN, servers=[{address=mongo:27017, type=UNKNOWN, state=CONNECTING, exception={com.mongodb.MongoSocketException: mongo}, caused by {java.net.UnknownHostException: mongo}}]
api2-1   | 2024-03-11 01:17:41.248 [cluster-ClusterId{value='65ee5b72363f7903392daf72', description='null'}-mongo:27017] DEBUG org.mongodb.driver.cluster - Updating cluster description to  {type=UNKNOWN, servers=[{address=mongo:27017, type=UNKNOWN, state=CONNECTING, exception={com.mongodb.MongoSocketException: mongo}, caused by {java.net.UnknownHostException: mongo}}]
api2-1   | 2024-03-11 01:17:41.748 [cluster-ClusterId{value='65ee5b72363f7903392daf72', description='null'}-mongo:27017] DEBUG org.mongodb.driver.cluster - Updating cluster description to  {type=UNKNOWN, servers=[{address=mongo:27017, type=UNKNOWN, state=CONNECTING, exception={com.mongodb.MongoSocketException: mongo}, caused by {java.net.UnknownHostException: mongo}}]
api2-1   | 2024-03-11 01:17:42.248 [cluster-ClusterId{value='65ee5b72363f7903392daf72', description='null'}-mongo:27017] DEBUG org.mongodb.driver.cluster - Updating cluster description to  {type=UNKNOWN, servers=[{address=mongo:27017, type=UNKNOWN, state=CONNECTING, exception={com.mongodb.MongoSocketException: mongo}, caused by {java.net.UnknownHostException: mongo}}]
api2-1   | 2024-03-11 01:17:42.748 [cluster-ClusterId{value='65ee5b72363f7903392daf72', description='null'}-mongo:27017] DEBUG org.mongodb.driver.cluster - Updating cluster description to  {type=UNKNOWN, servers=[{address=mongo:27017, type=UNKNOWN, state=CONNECTING, exception={com.mongodb.MongoSocketException: mongo}, caused by {java.net.UnknownHostException: mongo}}]
api2-1   | 2024-03-11 01:17:43.249 [cluster-ClusterId{value='65ee5b72363f7903392daf72', description='null'}-mongo:27017] DEBUG org.mongodb.driver.cluster - Updating cluster description to  {type=UNKNOWN, servers=[{address=mongo:27017, type=UNKNOWN, state=CONNECTING, exception={com.mongodb.MongoSocketException: mongo}, caused by {java.net.UnknownHostException: mongo}}]
api2-1   | 2024-03-11 01:17:43.748 [cluster-ClusterId{value='65ee5b72363f7903392daf72', description='null'}-mongo:27017] DEBUG org.mongodb.driver.cluster - Updating cluster description to  {type=UNKNOWN, servers=[{address=mongo:27017, type=UNKNOWN, state=CONNECTING, exception={com.mongodb.MongoSocketException: mongo}, caused by {java.net.UnknownHostException: mongo}}]
api2-1   | 2024-03-11 01:17:44.248 [cluster-ClusterId{value='65ee5b72363f7903392daf72', description='null'}-mongo:27017] DEBUG org.mongodb.driver.cluster - Updating cluster description to  {type=UNKNOWN, servers=[{address=mongo:27017, type=UNKNOWN, state=CONNECTING, exception={com.mongodb.MongoSocketException: mongo}, caused by {java.net.UnknownHostException: mongo}}]
api2-1   | 2024-03-11 01:17:44.748 [cluster-ClusterId{value='65ee5b72363f7903392daf72', description='null'}-mongo:27017] DEBUG org.mongodb.driver.cluster - Updating cluster description to  {type=UNKNOWN, servers=[{address=mongo:27017, type=UNKNOWN, state=CONNECTING, exception={com.mongodb.MongoSocketException: mongo}, caused by {java.net.UnknownHostException: mongo}}]
api2-1   | 2024-03-11 01:17:45.248 [cluster-ClusterId{value='65ee5b72363f7903392daf72', description='null'}-mongo:27017] DEBUG org.mongodb.driver.cluster - Updating cluster description to  {type=UNKNOWN, servers=[{address=mongo:27017, type=UNKNOWN, state=CONNECTING, exception={com.mongodb.MongoSocketException: mongo}, caused by {java.net.UnknownHostException: mongo}}]
api2-1   | 2024-03-11 01:17:45.748 [cluster-ClusterId{value='65ee5b72363f7903392daf72', description='null'}-mongo:27017] DEBUG org.mongodb.driver.cluster - Updating cluster description to  {type=UNKNOWN, servers=[{address=mongo:27017, type=UNKNOWN, state=CONNECTING, exception={com.mongodb.MongoSocketException: mongo}, caused by {java.net.UnknownHostException: mongo}}]
api2-1   | 2024-03-11 01:17:46.248 [cluster-ClusterId{value='65ee5b72363f7903392daf72', description='null'}-mongo:27017] DEBUG org.mongodb.driver.cluster - Updating cluster description to  {type=UNKNOWN, servers=[{address=mongo:27017, type=UNKNOWN, state=CONNECTING, exception={com.mongodb.MongoSocketException: mongo}, caused by {java.net.UnknownHostException: mongo}}]
api2-1   | 2024-03-11 01:17:46.748 [cluster-ClusterId{value='65ee5b72363f7903392daf72', description='null'}-mongo:27017] DEBUG org.mongodb.driver.cluster - Updating cluster description to  {type=UNKNOWN, servers=[{address=mongo:27017, type=UNKNOWN, state=CONNECTING, exception={com.mongodb.MongoSocketException: mongo}, caused by {java.net.UnknownHostException: mongo}}]
api2-1   | 2024-03-11 01:17:47.248 [cluster-ClusterId{value='65ee5b72363f7903392daf72', description='null'}-mongo:27017] DEBUG org.mongodb.driver.cluster - Updating cluster description to  {type=UNKNOWN, servers=[{address=mongo:27017, type=UNKNOWN, state=CONNECTING, exception={com.mongodb.MongoSocketException: mongo}, caused by {java.net.UnknownHostException: mongo}}]
api2-1   | 2024-03-11 01:17:47.748 [cluster-ClusterId{value='65ee5b72363f7903392daf72', description='null'}-mongo:27017] DEBUG org.mongodb.driver.cluster - Updating cluster description to  {type=UNKNOWN, servers=[{address=mongo:27017, type=UNKNOWN, state=CONNECTING, exception={com.mongodb.MongoSocketException: mongo}, caused by {java.net.UnknownHostException: mongo}}]
api2-1   | 2024-03-11 01:17:48.248 [cluster-ClusterId{value='65ee5b72363f7903392daf72', description='null'}-mongo:27017] DEBUG org.mongodb.driver.cluster - Updating cluster description to  {type=UNKNOWN, servers=[{address=mongo:27017, type=UNKNOWN, state=CONNECTING, exception={com.mongodb.MongoSocketException: mongo}, caused by {java.net.UnknownHostException: mongo}}]
api2-1   | 2024-03-11 01:17:48.747 [cluster-ClusterId{value='65ee5b72363f7903392daf72', description='null'}-mongo:27017] DEBUG org.mongodb.driver.cluster - Updating cluster description to  {type=UNKNOWN, servers=[{address=mongo:27017, type=UNKNOWN, state=CONNECTING, exception={com.mongodb.MongoSocketException: mongo}, caused by {java.net.UnknownHostException: mongo}}]
api2-1   | 2024-03-11 01:17:49.248 [cluster-ClusterId{value='65ee5b72363f7903392daf72', description='null'}-mongo:27017] DEBUG org.mongodb.driver.cluster - Updating cluster description to  {type=UNKNOWN, servers=[{address=mongo:27017, type=UNKNOWN, state=CONNECTING, exception={com.mongodb.MongoSocketException: mongo}, caused by {java.net.UnknownHostException: mongo}}]
api2-1   | 2024-03-11 01:17:49.747 [cluster-ClusterId{value='65ee5b72363f7903392daf72', description='null'}-mongo:27017] DEBUG org.mongodb.driver.cluster - Updating cluster description to  {type=UNKNOWN, servers=[{address=mongo:27017, type=UNKNOWN, state=CONNECTING, exception={com.mongodb.MongoSocketException: mongo}, caused by {java.net.UnknownHostException: mongo}}]
api2-1   | 2024-03-11 01:17:50.243 [eventLoopGroupProxy-4-1] DEBUG org.mongodb.driver.operation - Unable to retry an operation due to the error "com.mongodb.MongoTimeoutException: Timed out after 30000 ms while waiting for a server that matches ReadPreferenceServerSelector{readPreference=primary}. Client view of cluster state is {type=UNKNOWN, servers=[{address=mongo:27017, type=UNKNOWN, state=CONNECTING, exception={com.mongodb.MongoSocketException: mongo}, caused by {java.net.UnknownHostException: mongo}}]"
api2-1   | 2024-03-11 01:17:50.243 [eventLoopGroupProxy-4-1] TRACE i.k.s.p.statuspages.StatusPages - Call /clientes/1/extrato failed with cause com.mongodb.MongoTimeoutException: Timed out after 30000 ms while waiting for a server that matches ReadPreferenceServerSelector{readPreference=primary}. Client view of cluster state is {type=UNKNOWN, servers=[{address=mongo:27017, type=UNKNOWN, state=CONNECTING, exception={com.mongodb.MongoSocketException: mongo}, caused by {java.net.UnknownHostException: mongo}}]
api2-1   | 2024-03-11 01:17:50.247 [cluster-ClusterId{value='65ee5b72363f7903392daf72', description='null'}-mongo:27017] DEBUG org.mongodb.driver.cluster - Updating cluster description to  {type=UNKNOWN, servers=[{address=mongo:27017, type=UNKNOWN, state=CONNECTING, exception={com.mongodb.MongoSocketException: mongo}, caused by {java.net.UnknownHostException: mongo}}]
api2-1   | com.mongodb.MongoTimeoutException: Timed out after 30000 ms while waiting for a server that matches ReadPreferenceServerSelector{readPreference=primary}. Client view of cluster state is {type=UNKNOWN, servers=[{address=mongo:27017, type=UNKNOWN, state=CONNECTING, exception={com.mongodb.MongoSocketException: mongo}, caused by {java.net.UnknownHostException: mongo}}]
api2-1   | 	at com.mongodb.internal.connection.BaseCluster.createTimeoutException(BaseCluster.java:380)
api2-1   | 	at com.mongodb.internal.connection.BaseCluster.selectServer(BaseCluster.java:125)
api2-1   | 	at com.mongodb.internal.connection.SingleServerCluster.selectServer(SingleServerCluster.java:46)
api2-1   | 	at com.mongodb.internal.binding.ClusterBinding.getReadConnectionSource(ClusterBinding.java:116)
api2-1   | 	at com.mongodb.client.internal.ClientSessionBinding.getConnectionSource(ClientSessionBinding.java:128)
api2-1   | 	at com.mongodb.client.internal.ClientSessionBinding.getReadConnectionSource(ClientSessionBinding.java:92)
api2-1   | 	at com.mongodb.internal.operation.SyncOperationHelper.withSuppliedResource(SyncOperationHelper.java:144)
api2-1   | 	at com.mongodb.internal.operation.SyncOperationHelper.withSourceAndConnection(SyncOperationHelper.java:125)
api2-1   | 	at com.mongodb.internal.operation.FindOperation.lambda$execute$2(FindOperation.java:322)
api2-1   | 	at com.mongodb.internal.operation.SyncOperationHelper.lambda$decorateReadWithRetries$12(SyncOperationHelper.java:292)
api2-1   | 	at com.mongodb.internal.async.function.RetryingSyncSupplier.get(RetryingSyncSupplier.java:67)
api2-1   | 	at com.mongodb.internal.operation.FindOperation.execute(FindOperation.java:333)
api2-1   | 	at com.mongodb.internal.operation.FindOperation.execute(FindOperation.java:73)
api2-1   | 	at com.mongodb.client.internal.MongoClientDelegate$DelegateOperationExecutor.execute(MongoClientDelegate.java:153)
api2-1   | 	at com.mongodb.client.internal.FindIterableImpl.first(FindIterableImpl.java:213)
api2-1   | 	at dev.h2r.infra.database.adapter.ClientDatabaseAdapter.find(ClientDatabaseAdapter.kt:58)
api2-1   | 	at dev.h2r.domain.usecase.StatementUseCase.execute(StatementUseCase.kt:13)
api2-1   | 	at dev.h2r.controller.ClientController.statement(ClientController.kt:29)
api2-1   | 	at dev.h2r.plugins.RoutingKt$routing$1$2.invokeSuspend(Routing.kt:18)
api2-1   | 	at dev.h2r.plugins.RoutingKt$routing$1$2.invoke(Routing.kt)
api2-1   | 	at dev.h2r.plugins.RoutingKt$routing$1$2.invoke(Routing.kt)
api2-1   | 	at io.ktor.server.routing.Route$buildPipeline$1$1.invokeSuspend(Route.kt:116)
api2-1   | 	at io.ktor.server.routing.Route$buildPipeline$1$1.invoke(Route.kt)
api2-1   | 	at io.ktor.server.routing.Route$buildPipeline$1$1.invoke(Route.kt)
api2-1   | 	at io.ktor.util.pipeline.SuspendFunctionGun.loop(SuspendFunctionGun.kt:120)
api2-1   | 	at io.ktor.util.pipeline.SuspendFunctionGun.proceed(SuspendFunctionGun.kt:78)
api2-1   | 	at io.ktor.util.pipeline.SuspendFunctionGun.execute$ktor_utils(SuspendFunctionGun.kt:98)
api2-1   | 	at io.ktor.util.pipeline.Pipeline.execute(Pipeline.kt:77)
api2-1   | 	at io.ktor.server.routing.Routing$executeResult$$inlined$execute$1.invokeSuspend(Pipeline.kt:478)
api2-1   | 	at io.ktor.server.routing.Routing$executeResult$$inlined$execute$1.invoke(Pipeline.kt)
api2-1   | 	at io.ktor.server.routing.Routing$executeResult$$inlined$execute$1.invoke(Pipeline.kt)
api2-1   | 	at io.ktor.util.debug.ContextUtilsKt.initContextInDebugMode(ContextUtils.kt:17)
api2-1   | 	at io.ktor.server.routing.Routing.executeResult(Routing.kt:190)
api2-1   | 	at io.ktor.server.routing.Routing.interceptor(Routing.kt:64)
api2-1   | 	at io.ktor.server.routing.Routing$Plugin$install$1.invokeSuspend(Routing.kt:140)
api2-1   | 	at io.ktor.server.routing.Routing$Plugin$install$1.invoke(Routing.kt)
api2-1   | 	at io.ktor.server.routing.Routing$Plugin$install$1.invoke(Routing.kt)
api2-1   | 	at io.ktor.util.pipeline.SuspendFunctionGun.loop(SuspendFunctionGun.kt:120)
api2-1   | 	at io.ktor.util.pipeline.SuspendFunctionGun.proceed(SuspendFunctionGun.kt:78)
api2-1   | 	at io.ktor.server.engine.BaseApplicationEngineKt$installDefaultTransformationChecker$1.invokeSuspend(BaseApplicationEngine.kt:124)
api2-1   | 2024-03-11 01:17:50.261 [eventLoopGroupProxy-4-1] TRACE i.k.s.p.statuspages.StatusPages - Executing (io.ktor.server.application.ApplicationCall, kotlin.Throwable) -> kotlin.Unit for exception com.mongodb.MongoTimeoutException: Timed out after 30000 ms while waiting for a server that matches ReadPreferenceServerSelector{readPreference=primary}. Client view of cluster state is {type=UNKNOWN, servers=[{address=mongo:27017, type=UNKNOWN, state=CONNECTING, exception={com.mongodb.MongoSocketException: mongo}, caused by {java.net.UnknownHostException: mongo}}] for call /clientes/1/extrato
api2-1   | 	at io.ktor.server.engine.BaseApplicationEngineKt$installDefaultTransformationChecker$1.invoke(BaseApplicationEngine.kt)
api2-1   | 	at io.ktor.server.engine.BaseApplicationEngineKt$installDefaultTransformationChecker$1.invoke(BaseApplicationEngine.kt)
api2-1   | 	at io.ktor.util.pipeline.SuspendFunctionGun.loop(SuspendFunctionGun.kt:120)
api2-1   | 	at io.ktor.util.pipeline.SuspendFunctionGun.proceed(SuspendFunctionGun.kt:78)
api2-1   | 	at io.ktor.server.application.hooks.CallFailed$install$1$1.invokeSuspend(CommonHooks.kt:45)
api2-1   | 	at io.ktor.server.application.hooks.CallFailed$install$1$1.invoke(CommonHooks.kt)
api2-1   | 	at io.ktor.server.application.hooks.CallFailed$install$1$1.invoke(CommonHooks.kt)
api2-1   | 	at kotlinx.coroutines.intrinsics.UndispatchedKt.startUndispatchedOrReturn(Undispatched.kt:78)
api2-1   | 	at kotlinx.coroutines.CoroutineScopeKt.coroutineScope(CoroutineScope.kt:264)
api2-1   | 	at io.ktor.server.application.hooks.CallFailed$install$1.invokeSuspend(CommonHooks.kt:44)
api2-1   | 	at io.ktor.server.application.hooks.CallFailed$install$1.invoke(CommonHooks.kt)
api2-1   | 	at io.ktor.server.application.hooks.CallFailed$install$1.invoke(CommonHooks.kt)
api2-1   | 	at io.ktor.util.pipeline.SuspendFunctionGun.loop(SuspendFunctionGun.kt:120)
api2-1   | 	at io.ktor.util.pipeline.SuspendFunctionGun.proceed(SuspendFunctionGun.kt:78)
api2-1   | 	at io.ktor.util.pipeline.SuspendFunctionGun.execute$ktor_utils(SuspendFunctionGun.kt:98)
api2-1   | 	at io.ktor.util.pipeline.Pipeline.execute(Pipeline.kt:77)
api2-1   | 	at io.ktor.server.engine.DefaultEnginePipelineKt$defaultEnginePipeline$1$invokeSuspend$$inlined$execute$1.invokeSuspend(Pipeline.kt:478)
api2-1   | 	at io.ktor.server.engine.DefaultEnginePipelineKt$defaultEnginePipeline$1$invokeSuspend$$inlined$execute$1.invoke(Pipeline.kt)
api2-1   | 	at io.ktor.server.engine.DefaultEnginePipelineKt$defaultEnginePipeline$1$invokeSuspend$$inlined$execute$1.invoke(Pipeline.kt)
api2-1   | 	at io.ktor.util.debug.ContextUtilsKt.initContextInDebugMode(ContextUtils.kt:17)
api2-1   | 	at io.ktor.server.engine.DefaultEnginePipelineKt$defaultEnginePipeline$1.invokeSuspend(DefaultEnginePipeline.kt:123)
api2-1   | 	at io.ktor.server.engine.DefaultEnginePipelineKt$defaultEnginePipeline$1.invoke(DefaultEnginePipeline.kt)
api2-1   | 	at io.ktor.server.engine.DefaultEnginePipelineKt$defaultEnginePipeline$1.invoke(DefaultEnginePipeline.kt)
api2-1   | 	at io.ktor.util.pipeline.SuspendFunctionGun.loop(SuspendFunctionGun.kt:120)
api2-1   | 	at io.ktor.util.pipeline.SuspendFunctionGun.proceed(SuspendFunctionGun.kt:78)
api2-1   | 	at io.ktor.util.pipeline.SuspendFunctionGun.execute$ktor_utils(SuspendFunctionGun.kt:98)
api2-1   | 	at io.ktor.util.pipeline.Pipeline.execute(Pipeline.kt:77)
api2-1   | 	at io.ktor.server.netty.NettyApplicationCallHandler$handleRequest$1$invokeSuspend$$inlined$execute$1.invokeSuspend(Pipeline.kt:478)
api2-1   | 	at io.ktor.server.netty.NettyApplicationCallHandler$handleRequest$1$invokeSuspend$$inlined$execute$1.invoke(Pipeline.kt)
api2-1   | 	at io.ktor.server.netty.NettyApplicationCallHandler$handleRequest$1$invokeSuspend$$inlined$execute$1.invoke(Pipeline.kt)
api2-1   | 	at io.ktor.util.debug.ContextUtilsKt.initContextInDebugMode(ContextUtils.kt:17)
api2-1   | 	at io.ktor.server.netty.NettyApplicationCallHandler$handleRequest$1.invokeSuspend(NettyApplicationCallHandler.kt:140)
api2-1   | 	at io.ktor.server.netty.NettyApplicationCallHandler$handleRequest$1.invoke(NettyApplicationCallHandler.kt)
api2-1   | 	at io.ktor.server.netty.NettyApplicationCallHandler$handleRequest$1.invoke(NettyApplicationCallHandler.kt)
api2-1   | 	at kotlinx.coroutines.intrinsics.UndispatchedKt.startCoroutineUndispatched(Undispatched.kt:44)
api2-1   | 	at kotlinx.coroutines.CoroutineStart.invoke(CoroutineStart.kt:112)
api2-1   | 	at kotlinx.coroutines.AbstractCoroutine.start(AbstractCoroutine.kt:126)
api2-1   | 	at kotlinx.coroutines.BuildersKt__Builders_commonKt.launch(Builders.common.kt:56)
api2-1   | 	at kotlinx.coroutines.BuildersKt.launch(Unknown Source)
api2-1   | 	at io.ktor.server.netty.NettyApplicationCallHandler.handleRequest(NettyApplicationCallHandler.kt:41)
api2-1   | 	at io.ktor.server.netty.NettyApplicationCallHandler.channelRead(NettyApplicationCallHandler.kt:33)
api2-1   | 	at io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:444)
api2-1   | 	at io.netty.channel.AbstractChannelHandlerContext.access$600(AbstractChannelHandlerContext.java:61)
api2-1   | 	at io.netty.channel.AbstractChannelHandlerContext$7.run(AbstractChannelHandlerContext.java:425)
api2-1   | 	at io.netty.util.concurrent.AbstractEventExecutor.runTask(AbstractEventExecutor.java:173)
api2-1   | 	at io.netty.util.concurrent.AbstractEventExecutor.safeExecute(AbstractEventExecutor.java:166)
api2-1   | 	at io.netty.util.concurrent.SingleThreadEventExecutor.runAllTasks(SingleThreadEventExecutor.java:470)
api2-1   | 	at io.netty.channel.nio.NioEventLoop.run(NioEventLoop.java:569)
api2-1   | 	at io.netty.util.concurrent.SingleThreadEventExecutor$4.run(SingleThreadEventExecutor.java:997)
api2-1   | 	at io.netty.util.internal.ThreadExecutorMap$2.run(ThreadExecutorMap.java:74)
api2-1   | 	at io.ktor.server.netty.EventLoopGroupProxy$Companion.create$lambda$1$lambda$0(NettyApplicationEngine.kt:296)
api2-1   | 	at io.netty.util.concurrent.FastThreadLocalRunnable.run(FastThreadLocalRunnable.java:30)
api2-1   | 	at java.base/java.lang.Thread.run(Thread.java:831)
api2-1   | 2024-03-11 01:17:50.264 [eventLoopGroupProxy-4-1] TRACE i.k.s.p.c.ContentNegotiation - Skipping because body is already converted.
nginx-1  | 172.30.0.1 - - [11/Mar/2024:01:17:50 +0000] "GET /clientes/1/extrato HTTP/1.1" 500 372 "-" "curl/7.81.0"
api1-1   | 2024-03-11 01:17:52.523 [eventLoopGroupProxy-4-1] TRACE io.ktor.routing.Routing - Trace for [clientes, 1, extrato]
api1-1   | /, segment:0 -> SUCCESS @ /
api1-1   |   /clientes, segment:1 -> SUCCESS @ /clientes
api1-1   |     /clientes/{id}, segment:2 -> SUCCESS; Parameters [id=[1]] @ /clientes/{id}
api1-1   |       /clientes/{id}/transacoes, segment:2 -> FAILURE "Selector didn't match" @ /clientes/{id}/transacoes
api1-1   |       /clientes/{id}/extrato, segment:3 -> SUCCESS @ /clientes/{id}/extrato
api1-1   |         /clientes/{id}/extrato/(method:GET), segment:3 -> SUCCESS @ /clientes/{id}/extrato/(method:GET)
api1-1   |   /health, segment:0 -> FAILURE "Selector didn't match" @ /health
api1-1   | Matched routes:
api1-1   |   "" -> "clientes" -> "{id}" -> "extrato" -> "(method:GET)"
api1-1   | Route resolve result:
api1-1   |   SUCCESS; Parameters [id=[1]] @ /clientes/{id}/extrato/(method:GET)
api1-1   | 2024-03-11 01:17:52.632 [eventLoopGroupProxy-4-1] INFO  org.mongodb.driver.cluster - No server chosen by ReadPreferenceServerSelector{readPreference=primary} from cluster description ClusterDescription{type=UNKNOWN, connectionMode=SINGLE, serverDescriptions=[ServerDescription{address=mongo:27017, type=UNKNOWN, state=CONNECTING, exception={com.mongodb.MongoSocketException: mongo}, caused by {java.net.UnknownHostException: mongo}}]}. Waiting for 30000 ms before timing out
api1-1   | 2024-03-11 01:17:55.153 [cluster-ClusterId{value='65ee5b72d80c9d0e9c47bf47', description='null'}-mongo:27017] DEBUG org.mongodb.driver.cluster - Updating cluster description to  {type=UNKNOWN, servers=[{address=mongo:27017, type=UNKNOWN, state=CONNECTING, exception={com.mongodb.MongoSocketException: mongo}, caused by {java.net.UnknownHostException: mongo}}]
api1-1   | 2024-03-11 01:17:55.653 [cluster-ClusterId{value='65ee5b72d80c9d0e9c47bf47', description='null'}-mongo:27017] DEBUG org.mongodb.driver.cluster - Updating cluster description to  {type=UNKNOWN, servers=[{address=mongo:27017, type=UNKNOWN, state=CONNECTING, exception={com.mongodb.MongoSocketException: mongo}, caused by {java.net.UnknownHostException: mongo}}]
api1-1   | 2024-03-11 01:17:56.153 [cluster-ClusterId{value='65ee5b72d80c9d0e9c47bf47', description='null'}-mongo:27017] DEBUG org.mongodb.driver.cluster - Updating cluster description to  {type=UNKNOWN, servers=[{address=mongo:27017, type=UNKNOWN, state=CONNECTING, exception={com.mongodb.MongoSocketException: mongo}, caused by {java.net.UnknownHostException: mongo}}]
api1-1   | 2024-03-11 01:17:56.654 [cluster-ClusterId{value='65ee5b72d80c9d0e9c47bf47', description='null'}-mongo:27017] DEBUG org.mongodb.driver.cluster - Updating cluster description to  {type=UNKNOWN, servers=[{address=mongo:27017, type=UNKNOWN, state=CONNECTING, exception={com.mongodb.MongoSocketException: mongo}, caused by {java.net.UnknownHostException: mongo}}]
api1-1   | 2024-03-11 01:17:57.154 [cluster-ClusterId{value='65ee5b72d80c9d0e9c47bf47', description='null'}-mongo:27017] DEBUG org.mongodb.driver.cluster - Updating cluster description to  {type=UNKNOWN, servers=[{address=mongo:27017, type=UNKNOWN, state=CONNECTING, exception={com.mongodb.MongoSocketException: mongo}, caused by {java.net.UnknownHostException: mongo}}]
api1-1   | 2024-03-11 01:17:57.653 [cluster-ClusterId{value='65ee5b72d80c9d0e9c47bf47', description='null'}-mongo:27017] DEBUG org.mongodb.driver.cluster - Updating cluster description to  {type=UNKNOWN, servers=[{address=mongo:27017, type=UNKNOWN, state=CONNECTING, exception={com.mongodb.MongoSocketException: mongo}, caused by {java.net.UnknownHostException: mongo}}]
api1-1   | 2024-03-11 01:17:58.153 [cluster-ClusterId{value='65ee5b72d80c9d0e9c47bf47', description='null'}-mongo:27017] DEBUG org.mongodb.driver.cluster - Updating cluster description to  {type=UNKNOWN, servers=[{address=mongo:27017, type=UNKNOWN, state=CONNECTING, exception={com.mongodb.MongoSocketException: mongo}, caused by {java.net.UnknownHostException: mongo}}]
api1-1   | 2024-03-11 01:17:58.653 [cluster-ClusterId{value='65ee5b72d80c9d0e9c47bf47', description='null'}-mongo:27017] DEBUG org.mongodb.driver.cluster - Updating cluster description to  {type=UNKNOWN, servers=[{address=mongo:27017, type=UNKNOWN, state=CONNECTING, exception={com.mongodb.MongoSocketException: mongo}, caused by {java.net.UnknownHostException: mongo}}]
api1-1   | 2024-03-11 01:17:59.153 [cluster-ClusterId{value='65ee5b72d80c9d0e9c47bf47', description='null'}-mongo:27017] DEBUG org.mongodb.driver.cluster - Updating cluster description to  {type=UNKNOWN, servers=[{address=mongo:27017, type=UNKNOWN, state=CONNECTING, exception={com.mongodb.MongoSocketException: mongo}, caused by {java.net.UnknownHostException: mongo}}]
api1-1   | 2024-03-11 01:17:59.653 [cluster-ClusterId{value='65ee5b72d80c9d0e9c47bf47', description='null'}-mongo:27017] DEBUG org.mongodb.driver.cluster - Updating cluster description to  {type=UNKNOWN, servers=[{address=mongo:27017, type=UNKNOWN, state=CONNECTING, exception={com.mongodb.MongoSocketException: mongo}, caused by {java.net.UnknownHostException: mongo}}]
api1-1   | 2024-03-11 01:18:00.153 [cluster-ClusterId{value='65ee5b72d80c9d0e9c47bf47', description='null'}-mongo:27017] DEBUG org.mongodb.driver.cluster - Updating cluster description to  {type=UNKNOWN, servers=[{address=mongo:27017, type=UNKNOWN, state=CONNECTING, exception={com.mongodb.MongoSocketException: mongo}, caused by {java.net.UnknownHostException: mongo}}]
api2-1   | 2024-03-11 01:18:00.248 [cluster-ClusterId{value='65ee5b72363f7903392daf72', description='null'}-mongo:27017] DEBUG org.mongodb.driver.cluster - Updating cluster description to  {type=UNKNOWN, servers=[{address=mongo:27017, type=UNKNOWN, state=CONNECTING, exception={com.mongodb.MongoSocketException: mongo}, caused by {java.net.UnknownHostException: mongo}}]
api1-1   | 2024-03-11 01:18:00.653 [cluster-ClusterId{value='65ee5b72d80c9d0e9c47bf47', description='null'}-mongo:27017] DEBUG org.mongodb.driver.cluster - Updating cluster description to  {type=UNKNOWN, servers=[{address=mongo:27017, type=UNKNOWN, state=CONNECTING, exception={com.mongodb.MongoSocketException: mongo}, caused by {java.net.UnknownHostException: mongo}}]
api1-1   | 2024-03-11 01:18:01.153 [cluster-ClusterId{value='65ee5b72d80c9d0e9c47bf47', description='null'}-mongo:27017] DEBUG org.mongodb.driver.cluster - Updating cluster description to  {type=UNKNOWN, servers=[{address=mongo:27017, type=UNKNOWN, state=CONNECTING, exception={com.mongodb.MongoSocketException: mongo}, caused by {java.net.UnknownHostException: mongo}}]
api1-1   | 2024-03-11 01:18:01.653 [cluster-ClusterId{value='65ee5b72d80c9d0e9c47bf47', description='null'}-mongo:27017] DEBUG org.mongodb.driver.cluster - Updating cluster description to  {type=UNKNOWN, servers=[{address=mongo:27017, type=UNKNOWN, state=CONNECTING, exception={com.mongodb.MongoSocketException: mongo}, caused by {java.net.UnknownHostException: mongo}}]
api1-1   | 2024-03-11 01:18:02.153 [cluster-ClusterId{value='65ee5b72d80c9d0e9c47bf47', description='null'}-mongo:27017] DEBUG org.mongodb.driver.cluster - Updating cluster description to  {type=UNKNOWN, servers=[{address=mongo:27017, type=UNKNOWN, state=CONNECTING, exception={com.mongodb.MongoSocketException: mongo}, caused by {java.net.UnknownHostException: mongo}}]
api1-1   | 2024-03-11 01:18:02.653 [cluster-ClusterId{value='65ee5b72d80c9d0e9c47bf47', description='null'}-mongo:27017] DEBUG org.mongodb.driver.cluster - Updating cluster description to  {type=UNKNOWN, servers=[{address=mongo:27017, type=UNKNOWN, state=CONNECTING, exception={com.mongodb.MongoSocketException: mongo}, caused by {java.net.UnknownHostException: mongo}}]
api1-1   | 2024-03-11 01:18:03.153 [cluster-ClusterId{value='65ee5b72d80c9d0e9c47bf47', description='null'}-mongo:27017] DEBUG org.mongodb.driver.cluster - Updating cluster description to  {type=UNKNOWN, servers=[{address=mongo:27017, type=UNKNOWN, state=CONNECTING, exception={com.mongodb.MongoSocketException: mongo}, caused by {java.net.UnknownHostException: mongo}}]
api1-1   | 2024-03-11 01:18:03.653 [cluster-ClusterId{value='65ee5b72d80c9d0e9c47bf47', description='null'}-mongo:27017] DEBUG org.mongodb.driver.cluster - Updating cluster description to  {type=UNKNOWN, servers=[{address=mongo:27017, type=UNKNOWN, state=CONNECTING, exception={com.mongodb.MongoSocketException: mongo}, caused by {java.net.UnknownHostException: mongo}}]
api1-1   | 2024-03-11 01:18:04.153 [cluster-ClusterId{value='65ee5b72d80c9d0e9c47bf47', description='null'}-mongo:27017] DEBUG org.mongodb.driver.cluster - Updating cluster description to  {type=UNKNOWN, servers=[{address=mongo:27017, type=UNKNOWN, state=CONNECTING, exception={com.mongodb.MongoSocketException: mongo}, caused by {java.net.UnknownHostException: mongo}}]
api1-1   | 2024-03-11 01:18:04.653 [cluster-ClusterId{value='65ee5b72d80c9d0e9c47bf47', description='null'}-mongo:27017] DEBUG org.mongodb.driver.cluster - Updating cluster description to  {type=UNKNOWN, servers=[{address=mongo:27017, type=UNKNOWN, state=CONNECTING, exception={com.mongodb.MongoSocketException: mongo}, caused by {java.net.UnknownHostException: mongo}}]
api1-1   | 2024-03-11 01:18:05.153 [cluster-ClusterId{value='65ee5b72d80c9d0e9c47bf47', description='null'}-mongo:27017] DEBUG org.mongodb.driver.cluster - Updating cluster description to  {type=UNKNOWN, servers=[{address=mongo:27017, type=UNKNOWN, state=CONNECTING, exception={com.mongodb.MongoSocketException: mongo}, caused by {java.net.UnknownHostException: mongo}}]
api1-1   | 2024-03-11 01:18:10.155 [cluster-ClusterId{value='65ee5b72d80c9d0e9c47bf47', description='null'}-mongo:27017] DEBUG org.mongodb.driver.cluster - Updating cluster description to  {type=UNKNOWN, servers=[{address=mongo:27017, type=UNKNOWN, state=CONNECTING, exception={com.mongodb.MongoSocketException: mongo}, caused by {java.net.UnknownHostException: mongo}}]
api2-1   | 2024-03-11 01:18:10.259 [cluster-ClusterId{value='65ee5b72363f7903392daf72', description='null'}-mongo:27017] DEBUG org.mongodb.driver.cluster - Updating cluster description to  {type=UNKNOWN, servers=[{address=mongo:27017, type=UNKNOWN, state=CONNECTING, exception={com.mongodb.MongoSocketException: mongo}, caused by {java.net.UnknownHostException: mongo}}]
api1-1   | 2024-03-11 01:18:10.655 [cluster-ClusterId{value='65ee5b72d80c9d0e9c47bf47', description='null'}-mongo:27017] DEBUG org.mongodb.driver.cluster - Updating cluster description to  {type=UNKNOWN, servers=[{address=mongo:27017, type=UNKNOWN, state=CONNECTING, exception={com.mongodb.MongoSocketException: mongo}, caused by {java.net.UnknownHostException: mongo}}]
api1-1   | 2024-03-11 01:18:11.155 [cluster-ClusterId{value='65ee5b72d80c9d0e9c47bf47', description='null'}-mongo:27017] DEBUG org.mongodb.driver.cluster - Updating cluster description to  {type=UNKNOWN, servers=[{address=mongo:27017, type=UNKNOWN, state=CONNECTING, exception={com.mongodb.MongoSocketException: mongo}, caused by {java.net.UnknownHostException: mongo}}]
api1-1   | 2024-03-11 01:18:11.655 [cluster-ClusterId{value='65ee5b72d80c9d0e9c47bf47', description='null'}-mongo:27017] DEBUG org.mongodb.driver.cluster - Updating cluster description to  {type=UNKNOWN, servers=[{address=mongo:27017, type=UNKNOWN, state=CONNECTING, exception={com.mongodb.MongoSocketException: mongo}, caused by {java.net.UnknownHostException: mongo}}]
api1-1   | 2024-03-11 01:18:12.155 [cluster-ClusterId{value='65ee5b72d80c9d0e9c47bf47', description='null'}-mongo:27017] DEBUG org.mongodb.driver.cluster - Updating cluster description to  {type=UNKNOWN, servers=[{address=mongo:27017, type=UNKNOWN, state=CONNECTING, exception={com.mongodb.MongoSocketException: mongo}, caused by {java.net.UnknownHostException: mongo}}]
api1-1   | 2024-03-11 01:18:12.656 [cluster-ClusterId{value='65ee5b72d80c9d0e9c47bf47', description='null'}-mongo:27017] DEBUG org.mongodb.driver.cluster - Updating cluster description to  {type=UNKNOWN, servers=[{address=mongo:27017, type=UNKNOWN, state=CONNECTING, exception={com.mongodb.MongoSocketException: mongo}, caused by {java.net.UnknownHostException: mongo}}]
api1-1   | 2024-03-11 01:18:13.156 [cluster-ClusterId{value='65ee5b72d80c9d0e9c47bf47', description='null'}-mongo:27017] DEBUG org.mongodb.driver.cluster - Updating cluster description to  {type=UNKNOWN, servers=[{address=mongo:27017, type=UNKNOWN, state=CONNECTING, exception={com.mongodb.MongoSocketException: mongo}, caused by {java.net.UnknownHostException: mongo}}]
api1-1   | 2024-03-11 01:18:13.656 [cluster-ClusterId{value='65ee5b72d80c9d0e9c47bf47', description='null'}-mongo:27017] DEBUG org.mongodb.driver.cluster - Updating cluster description to  {type=UNKNOWN, servers=[{address=mongo:27017, type=UNKNOWN, state=CONNECTING, exception={com.mongodb.MongoSocketException: mongo}, caused by {java.net.UnknownHostException: mongo}}]
api1-1   | 2024-03-11 01:18:14.156 [cluster-ClusterId{value='65ee5b72d80c9d0e9c47bf47', description='null'}-mongo:27017] DEBUG org.mongodb.driver.cluster - Updating cluster description to  {type=UNKNOWN, servers=[{address=mongo:27017, type=UNKNOWN, state=CONNECTING, exception={com.mongodb.MongoSocketException: mongo}, caused by {java.net.UnknownHostException: mongo}}]
api1-1   | 2024-03-11 01:18:14.656 [cluster-ClusterId{value='65ee5b72d80c9d0e9c47bf47', description='null'}-mongo:27017] DEBUG org.mongodb.driver.cluster - Updating cluster description to  {type=UNKNOWN, servers=[{address=mongo:27017, type=UNKNOWN, state=CONNECTING, exception={com.mongodb.MongoSocketException: mongo}, caused by {java.net.UnknownHostException: mongo}}]
