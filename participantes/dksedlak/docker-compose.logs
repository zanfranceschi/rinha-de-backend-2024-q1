 Network rinha-nginx-2024q1  Creating
 Network rinha-nginx-2024q1  Created
 Container dksedlak-database  Creating
 Container dksedlak-database  Created
 Container dksedlak-service-01  Creating
 Container dksedlak-service-02  Creating
 Container dksedlak-service-01  Created
 Container dksedlak-service-02  Created
 Container dksedlak-load-balancer  Creating
 Container dksedlak-load-balancer  Created
Attaching to dksedlak-database, dksedlak-load-balancer, dksedlak-service-01, dksedlak-service-02
dksedlak-database       | The files belonging to this database system will be owned by user "postgres".
dksedlak-database       | This user must also own the server process.
dksedlak-database       | 
dksedlak-database       | The database cluster will be initialized with locale "en_US.utf8".
dksedlak-database       | The default database encoding has accordingly been set to "UTF8".
dksedlak-database       | The default text search configuration will be set to "english".
dksedlak-database       | 
dksedlak-database       | Data page checksums are disabled.
dksedlak-database       | 
dksedlak-database       | fixing permissions on existing directory /var/lib/postgresql/data ... ok
dksedlak-database       | creating subdirectories ... ok
dksedlak-database       | selecting dynamic shared memory implementation ... posix
dksedlak-database       | selecting default max_connections ... 100
dksedlak-database       | selecting default shared_buffers ... 128MB
dksedlak-database       | selecting default time zone ... Etc/UTC
dksedlak-database       | creating configuration files ... ok
dksedlak-database       | running bootstrap script ... ok
dksedlak-database       | performing post-bootstrap initialization ... ok
dksedlak-database       | syncing data to disk ... ok
dksedlak-database       | 
dksedlak-database       | 
dksedlak-database       | Success. You can now start the database server using:
dksedlak-database       | 
dksedlak-database       |     pg_ctl -D /var/lib/postgresql/data -l logfile start
dksedlak-database       | 
dksedlak-database       | initdb: warning: enabling "trust" authentication for local connections
dksedlak-database       | initdb: hint: You can change this by editing pg_hba.conf or using the option -A, or --auth-local and --auth-host, the next time you run initdb.
dksedlak-database       | waiting for server to start....2024-02-27 00:19:52.576 UTC [48] LOG:  starting PostgreSQL 16.2 (Debian 16.2-1.pgdg120+2) on x86_64-pc-linux-gnu, compiled by gcc (Debian 12.2.0-14) 12.2.0, 64-bit
dksedlak-database       | 2024-02-27 00:19:52.579 UTC [48] LOG:  listening on Unix socket "/var/run/postgresql/.s.PGSQL.5432"
dksedlak-database       | 2024-02-27 00:19:52.587 UTC [51] LOG:  database system was shut down at 2024-02-27 00:19:51 UTC
dksedlak-database       | 2024-02-27 00:19:52.592 UTC [48] LOG:  database system is ready to accept connections
dksedlak-database       |  done
dksedlak-database       | server started
dksedlak-database       | CREATE DATABASE
dksedlak-database       | 
dksedlak-database       | 
dksedlak-database       | /usr/local/bin/docker-entrypoint.sh: running /docker-entrypoint-initdb.d/script.sql
dksedlak-database       | CREATE TABLE
dksedlak-database       | INSERT 0 1
dksedlak-database       | INSERT 0 1
dksedlak-database       | INSERT 0 1
dksedlak-database       | INSERT 0 1
dksedlak-database       | INSERT 0 1
dksedlak-database       | 
dksedlak-database       | 
dksedlak-database       | waiting for server to shut down...2024-02-27 00:19:52.802 UTC [48] LOG:  received fast shutdown request
dksedlak-database       | .2024-02-27 00:19:52.805 UTC [48] LOG:  aborting any active transactions
dksedlak-database       | 2024-02-27 00:19:52.806 UTC [48] LOG:  background worker "logical replication launcher" (PID 54) exited with exit code 1
dksedlak-database       | 2024-02-27 00:19:52.806 UTC [49] LOG:  shutting down
dksedlak-database       | 2024-02-27 00:19:52.809 UTC [49] LOG:  checkpoint starting: shutdown immediate
dksedlak-database       | 2024-02-27 00:19:53.302 UTC [49] LOG:  checkpoint complete: wrote 926 buffers (5.7%); 0 WAL file(s) added, 0 removed, 0 recycled; write=0.407 s, sync=0.075 s, total=0.496 s; sync files=305, longest=0.054 s, average=0.001 s; distance=4274 kB, estimate=4274 kB; lsn=0/19175C0, redo lsn=0/19175C0
dksedlak-database       | 2024-02-27 00:19:53.307 UTC [48] LOG:  database system is shut down
dksedlak-database       |  done
dksedlak-database       | server stopped
dksedlak-database       | 
dksedlak-database       | PostgreSQL init process complete; ready for start up.
dksedlak-database       | 
dksedlak-database       | 2024-02-27 00:19:53.427 UTC [1] LOG:  starting PostgreSQL 16.2 (Debian 16.2-1.pgdg120+2) on x86_64-pc-linux-gnu, compiled by gcc (Debian 12.2.0-14) 12.2.0, 64-bit
dksedlak-database       | 2024-02-27 00:19:53.427 UTC [1] LOG:  listening on IPv4 address "0.0.0.0", port 5432
dksedlak-database       | 2024-02-27 00:19:53.427 UTC [1] LOG:  listening on IPv6 address "::", port 5432
dksedlak-database       | 2024-02-27 00:19:53.433 UTC [1] LOG:  listening on Unix socket "/var/run/postgresql/.s.PGSQL.5432"
dksedlak-database       | 2024-02-27 00:19:53.439 UTC [66] LOG:  database system was shut down at 2024-02-27 00:19:53 UTC
dksedlak-database       | 2024-02-27 00:19:53.445 UTC [1] LOG:  database system is ready to accept connections
dksedlak-service-02     | {"level":"info","pid":1,"time":"2024-02-27 00:19:54.401","message":"starting service ..."}
dksedlak-service-02     | {"level":"info","pid":1,"time":"2024-02-27 00:19:54.402","message":"loading configurations ..."}
dksedlak-service-02     | {"level":"info","pid":1,"time":"2024-02-27 00:19:54.402","message":"connection to the database (PostgreSQL) ..."}
dksedlak-service-01     | {"level":"info","pid":1,"time":"2024-02-27 00:19:54.440","message":"starting service ..."}
dksedlak-service-01     | {"level":"info","pid":1,"time":"2024-02-27 00:19:54.440","message":"loading configurations ..."}
dksedlak-service-01     | {"level":"info","pid":1,"time":"2024-02-27 00:19:54.441","message":"connection to the database (PostgreSQL) ..."}
dksedlak-load-balancer  | /docker-entrypoint.sh: /docker-entrypoint.d/ is not empty, will attempt to perform configuration
dksedlak-load-balancer  | /docker-entrypoint.sh: Looking for shell scripts in /docker-entrypoint.d/
dksedlak-load-balancer  | /docker-entrypoint.sh: Launching /docker-entrypoint.d/10-listen-on-ipv6-by-default.sh
dksedlak-load-balancer  | 10-listen-on-ipv6-by-default.sh: info: Getting the checksum of /etc/nginx/conf.d/default.conf
dksedlak-load-balancer  | 10-listen-on-ipv6-by-default.sh: info: Enabled listen on IPv6 in /etc/nginx/conf.d/default.conf
dksedlak-load-balancer  | /docker-entrypoint.sh: Sourcing /docker-entrypoint.d/15-local-resolvers.envsh
dksedlak-load-balancer  | /docker-entrypoint.sh: Launching /docker-entrypoint.d/20-envsubst-on-templates.sh
dksedlak-load-balancer  | /docker-entrypoint.sh: Launching /docker-entrypoint.d/30-tune-worker-processes.sh
dksedlak-load-balancer  | /docker-entrypoint.sh: Configuration complete; ready for start up
dksedlak-database       | 2024-02-27 00:20:13.558 UTC [116] ERROR:  new row for relation "accounts" violates check constraint "check_balance_limit"
dksedlak-database       | 2024-02-27 00:20:13.558 UTC [116] DETAIL:  Failing row contains (2, 80000, -81606, {"{\"type\":\"d\",\"description\":\"A7Z8SnZYNB\",\"value\":1437,...).
dksedlak-database       | 2024-02-27 00:20:13.558 UTC [116] STATEMENT:  UPDATE accounts
dksedlak-database       | 			SET balance = balance - $2,
dksedlak-database       | 				last_transactions =
dksedlak-database       | 					CASE WHEN array_length(last_transactions, 1) > 10
dksedlak-database       | 						THEN COALESCE(last_transactions[2:array_length(last_transactions, 1)], ARRAY[]::JSON[]) || ARRAY[$3]::JSON[]
dksedlak-database       | 						ELSE COALESCE(last_transactions, ARRAY[]::JSON[]) || ARRAY[$3]::JSON[]
dksedlak-database       | 					END
dksedlak-database       | 			WHERE id = $1
dksedlak-database       | 			RETURNING credit_limit, balance
dksedlak-database       | 2024-02-27 00:20:15.249 UTC [116] ERROR:  new row for relation "accounts" violates check constraint "check_balance_limit"
dksedlak-database       | 2024-02-27 00:20:15.249 UTC [116] DETAIL:  Failing row contains (2, 80000, -85414, {"{\"type\":\"d\",\"description\":\"J79aTzNGa0\",\"value\":3605,...).
dksedlak-database       | 2024-02-27 00:20:15.249 UTC [116] STATEMENT:  UPDATE accounts
dksedlak-database       | 			SET balance = balance - $2,
dksedlak-database       | 				last_transactions =
dksedlak-database       | 					CASE WHEN array_length(last_transactions, 1) > 10
dksedlak-database       | 						THEN COALESCE(last_transactions[2:array_length(last_transactions, 1)], ARRAY[]::JSON[]) || ARRAY[$3]::JSON[]
dksedlak-database       | 						ELSE COALESCE(last_transactions, ARRAY[]::JSON[]) || ARRAY[$3]::JSON[]
dksedlak-database       | 					END
dksedlak-database       | 			WHERE id = $1
dksedlak-database       | 			RETURNING credit_limit, balance
dksedlak-database       | 2024-02-27 00:20:15.460 UTC [113] ERROR:  new row for relation "accounts" violates check constraint "check_balance_limit"
dksedlak-database       | 2024-02-27 00:20:15.460 UTC [113] DETAIL:  Failing row contains (2, 80000, -88353, {"{\"type\":\"d\",\"description\":\"jOj9GrBC6x\",\"value\":8310,...).
dksedlak-database       | 2024-02-27 00:20:15.460 UTC [113] STATEMENT:  UPDATE accounts
dksedlak-database       | 			SET balance = balance - $2,
dksedlak-database       | 				last_transactions =
dksedlak-database       | 					CASE WHEN array_length(last_transactions, 1) > 10
dksedlak-database       | 						THEN COALESCE(last_transactions[2:array_length(last_transactions, 1)], ARRAY[]::JSON[]) || ARRAY[$3]::JSON[]
dksedlak-database       | 						ELSE COALESCE(last_transactions, ARRAY[]::JSON[]) || ARRAY[$3]::JSON[]
dksedlak-database       | 					END
dksedlak-database       | 			WHERE id = $1
dksedlak-database       | 			RETURNING credit_limit, balance
dksedlak-database       | 2024-02-27 00:20:15.565 UTC [116] ERROR:  new row for relation "accounts" violates check constraint "check_balance_limit"
dksedlak-database       | 2024-02-27 00:20:15.565 UTC [116] DETAIL:  Failing row contains (2, 80000, -84479, {"{\"type\":\"d\",\"description\":\"jOj9GrBC6x\",\"value\":8310,...).
dksedlak-database       | 2024-02-27 00:20:15.565 UTC [116] STATEMENT:  UPDATE accounts
dksedlak-database       | 			SET balance = balance - $2,
dksedlak-database       | 				last_transactions =
dksedlak-database       | 					CASE WHEN array_length(last_transactions, 1) > 10
dksedlak-database       | 						THEN COALESCE(last_transactions[2:array_length(last_transactions, 1)], ARRAY[]::JSON[]) || ARRAY[$3]::JSON[]
dksedlak-database       | 						ELSE COALESCE(last_transactions, ARRAY[]::JSON[]) || ARRAY[$3]::JSON[]
dksedlak-database       | 					END
dksedlak-database       | 			WHERE id = $1
dksedlak-database       | 			RETURNING credit_limit, balance
dksedlak-database       | 2024-02-27 00:20:15.670 UTC [113] ERROR:  new row for relation "accounts" violates check constraint "check_balance_limit"
dksedlak-database       | 2024-02-27 00:20:15.670 UTC [113] DETAIL:  Failing row contains (2, 80000, -80389, {"{\"type\":\"d\",\"description\":\"jOj9GrBC6x\",\"value\":8310,...).
dksedlak-database       | 2024-02-27 00:20:15.670 UTC [113] STATEMENT:  UPDATE accounts
dksedlak-database       | 			SET balance = balance - $2,
dksedlak-database       | 				last_transactions =
dksedlak-database       | 					CASE WHEN array_length(last_transactions, 1) > 10
dksedlak-database       | 						THEN COALESCE(last_transactions[2:array_length(last_transactions, 1)], ARRAY[]::JSON[]) || ARRAY[$3]::JSON[]
dksedlak-database       | 						ELSE COALESCE(last_transactions, ARRAY[]::JSON[]) || ARRAY[$3]::JSON[]
dksedlak-database       | 					END
dksedlak-database       | 			WHERE id = $1
dksedlak-database       | 			RETURNING credit_limit, balance
dksedlak-database       | 2024-02-27 00:20:16.142 UTC [113] ERROR:  new row for relation "accounts" violates check constraint "check_balance_limit"
dksedlak-database       | 2024-02-27 00:20:16.142 UTC [113] DETAIL:  Failing row contains (2, 80000, -81664, {"{\"type\":\"c\",\"description\":\"bglua0Ts28\",\"value\":1214,...).
dksedlak-database       | 2024-02-27 00:20:16.142 UTC [113] STATEMENT:  UPDATE accounts
dksedlak-database       | 			SET balance = balance - $2,
dksedlak-database       | 				last_transactions =
dksedlak-database       | 					CASE WHEN array_length(last_transactions, 1) > 10
dksedlak-database       | 						THEN COALESCE(last_transactions[2:array_length(last_transactions, 1)], ARRAY[]::JSON[]) || ARRAY[$3]::JSON[]
dksedlak-database       | 						ELSE COALESCE(last_transactions, ARRAY[]::JSON[]) || ARRAY[$3]::JSON[]
dksedlak-database       | 					END
dksedlak-database       | 			WHERE id = $1
dksedlak-database       | 			RETURNING credit_limit, balance
dksedlak-database       | 2024-02-27 00:20:16.542 UTC [116] ERROR:  new row for relation "accounts" violates check constraint "check_balance_limit"
dksedlak-database       | 2024-02-27 00:20:16.542 UTC [116] DETAIL:  Failing row contains (2, 80000, -84922, {"{\"type\":\"c\",\"description\":\"bglua0Ts28\",\"value\":1214,...).
dksedlak-database       | 2024-02-27 00:20:16.542 UTC [116] STATEMENT:  UPDATE accounts
dksedlak-database       | 			SET balance = balance - $2,
dksedlak-database       | 				last_transactions =
dksedlak-database       | 					CASE WHEN array_length(last_transactions, 1) > 10
dksedlak-database       | 						THEN COALESCE(last_transactions[2:array_length(last_transactions, 1)], ARRAY[]::JSON[]) || ARRAY[$3]::JSON[]
dksedlak-database       | 						ELSE COALESCE(last_transactions, ARRAY[]::JSON[]) || ARRAY[$3]::JSON[]
dksedlak-database       | 					END
dksedlak-database       | 			WHERE id = $1
dksedlak-database       | 			RETURNING credit_limit, balance
dksedlak-database       | 2024-02-27 00:20:16.992 UTC [113] ERROR:  new row for relation "accounts" violates check constraint "check_balance_limit"
dksedlak-database       | 2024-02-27 00:20:16.992 UTC [113] DETAIL:  Failing row contains (2, 80000, -85955, {"{\"type\":\"c\",\"description\":\"Z86NSbioU8\",\"value\":6835,...).
dksedlak-database       | 2024-02-27 00:20:16.992 UTC [113] STATEMENT:  UPDATE accounts
dksedlak-database       | 			SET balance = balance - $2,
dksedlak-database       | 				last_transactions =
dksedlak-database       | 					CASE WHEN array_length(last_transactions, 1) > 10
dksedlak-database       | 						THEN COALESCE(last_transactions[2:array_length(last_transactions, 1)], ARRAY[]::JSON[]) || ARRAY[$3]::JSON[]
dksedlak-database       | 						ELSE COALESCE(last_transactions, ARRAY[]::JSON[]) || ARRAY[$3]::JSON[]
dksedlak-database       | 					END
dksedlak-database       | 			WHERE id = $1
dksedlak-database       | 			RETURNING credit_limit, balance
dksedlak-database       | 2024-02-27 00:20:17.637 UTC [113] ERROR:  new row for relation "accounts" violates check constraint "check_balance_limit"
dksedlak-database       | 2024-02-27 00:20:17.637 UTC [113] DETAIL:  Failing row contains (2, 80000, -88436, {"{\"type\":\"c\",\"description\":\"0dKoS80PzJ\",\"value\":4564,...).
dksedlak-database       | 2024-02-27 00:20:17.637 UTC [113] STATEMENT:  UPDATE accounts
dksedlak-database       | 			SET balance = balance - $2,
dksedlak-database       | 				last_transactions =
dksedlak-database       | 					CASE WHEN array_length(last_transactions, 1) > 10
dksedlak-database       | 						THEN COALESCE(last_transactions[2:array_length(last_transactions, 1)], ARRAY[]::JSON[]) || ARRAY[$3]::JSON[]
dksedlak-database       | 						ELSE COALESCE(last_transactions, ARRAY[]::JSON[]) || ARRAY[$3]::JSON[]
dksedlak-database       | 					END
dksedlak-database       | 			WHERE id = $1
dksedlak-database       | 			RETURNING credit_limit, balance
dksedlak-database       | 2024-02-27 00:20:17.864 UTC [113] ERROR:  new row for relation "accounts" violates check constraint "check_balance_limit"
dksedlak-database       | 2024-02-27 00:20:17.864 UTC [113] DETAIL:  Failing row contains (2, 80000, -87944, {"{\"type\":\"c\",\"description\":\"0dKoS80PzJ\",\"value\":4564,...).
dksedlak-database       | 2024-02-27 00:20:17.864 UTC [113] STATEMENT:  UPDATE accounts
dksedlak-database       | 			SET balance = balance - $2,
dksedlak-database       | 				last_transactions =
dksedlak-database       | 					CASE WHEN array_length(last_transactions, 1) > 10
dksedlak-database       | 						THEN COALESCE(last_transactions[2:array_length(last_transactions, 1)], ARRAY[]::JSON[]) || ARRAY[$3]::JSON[]
dksedlak-database       | 						ELSE COALESCE(last_transactions, ARRAY[]::JSON[]) || ARRAY[$3]::JSON[]
dksedlak-database       | 					END
dksedlak-database       | 			WHERE id = $1
dksedlak-database       | 			RETURNING credit_limit, balance
dksedlak-database       | 2024-02-27 00:20:17.911 UTC [116] ERROR:  new row for relation "accounts" violates check constraint "check_balance_limit"
dksedlak-database       | 2024-02-27 00:20:17.911 UTC [116] DETAIL:  Failing row contains (2, 80000, -80051, {"{\"type\":\"c\",\"description\":\"0dKoS80PzJ\",\"value\":4564,...).
dksedlak-database       | 2024-02-27 00:20:17.911 UTC [116] STATEMENT:  UPDATE accounts
dksedlak-database       | 			SET balance = balance - $2,
dksedlak-database       | 				last_transactions =
dksedlak-database       | 					CASE WHEN array_length(last_transactions, 1) > 10
dksedlak-database       | 						THEN COALESCE(last_transactions[2:array_length(last_transactions, 1)], ARRAY[]::JSON[]) || ARRAY[$3]::JSON[]
dksedlak-database       | 						ELSE COALESCE(last_transactions, ARRAY[]::JSON[]) || ARRAY[$3]::JSON[]
dksedlak-database       | 					END
dksedlak-database       | 			WHERE id = $1
dksedlak-database       | 			RETURNING credit_limit, balance
dksedlak-database       | 2024-02-27 00:20:18.092 UTC [103] ERROR:  new row for relation "accounts" violates check constraint "check_balance_limit"
dksedlak-database       | 2024-02-27 00:20:18.092 UTC [103] DETAIL:  Failing row contains (2, 80000, -89060, {"{\"type\":\"c\",\"description\":\"0dKoS80PzJ\",\"value\":4564,...).
dksedlak-database       | 2024-02-27 00:20:18.092 UTC [103] STATEMENT:  UPDATE accounts
dksedlak-database       | 			SET balance = balance - $2,
dksedlak-database       | 				last_transactions =
dksedlak-database       | 					CASE WHEN array_length(last_transactions, 1) > 10
dksedlak-database       | 						THEN COALESCE(last_transactions[2:array_length(last_transactions, 1)], ARRAY[]::JSON[]) || ARRAY[$3]::JSON[]
dksedlak-database       | 						ELSE COALESCE(last_transactions, ARRAY[]::JSON[]) || ARRAY[$3]::JSON[]
dksedlak-database       | 					END
dksedlak-database       | 			WHERE id = $1
dksedlak-database       | 			RETURNING credit_limit, balance
dksedlak-database       | 2024-02-27 00:20:18.300 UTC [113] ERROR:  new row for relation "accounts" violates check constraint "check_balance_limit"
dksedlak-database       | 2024-02-27 00:20:18.300 UTC [113] DETAIL:  Failing row contains (2, 80000, -84740, {"{\"type\":\"d\",\"description\":\"J9HUUzoKVl\",\"value\":7092,...).
dksedlak-database       | 2024-02-27 00:20:18.300 UTC [113] STATEMENT:  UPDATE accounts
dksedlak-database       | 			SET balance = balance - $2,
dksedlak-database       | 				last_transactions =
dksedlak-database       | 					CASE WHEN array_length(last_transactions, 1) > 10
dksedlak-database       | 						THEN COALESCE(last_transactions[2:array_length(last_transactions, 1)], ARRAY[]::JSON[]) || ARRAY[$3]::JSON[]
dksedlak-database       | 						ELSE COALESCE(last_transactions, ARRAY[]::JSON[]) || ARRAY[$3]::JSON[]
dksedlak-database       | 					END
dksedlak-database       | 			WHERE id = $1
dksedlak-database       | 			RETURNING credit_limit, balance
dksedlak-database       | 2024-02-27 00:20:18.425 UTC [103] ERROR:  new row for relation "accounts" violates check constraint "check_balance_limit"
dksedlak-database       | 2024-02-27 00:20:18.425 UTC [103] DETAIL:  Failing row contains (2, 80000, -86953, {"{\"type\":\"d\",\"description\":\"J9HUUzoKVl\",\"value\":7092,...).
dksedlak-database       | 2024-02-27 00:20:18.425 UTC [103] STATEMENT:  UPDATE accounts
dksedlak-database       | 			SET balance = balance - $2,
dksedlak-database       | 				last_transactions =
dksedlak-database       | 					CASE WHEN array_length(last_transactions, 1) > 10
dksedlak-database       | 						THEN COALESCE(last_transactions[2:array_length(last_transactions, 1)], ARRAY[]::JSON[]) || ARRAY[$3]::JSON[]
dksedlak-database       | 						ELSE COALESCE(last_transactions, ARRAY[]::JSON[]) || ARRAY[$3]::JSON[]
dksedlak-database       | 					END
dksedlak-database       | 			WHERE id = $1
dksedlak-database       | 			RETURNING credit_limit, balance
dksedlak-database       | 2024-02-27 00:20:18.550 UTC [103] ERROR:  new row for relation "accounts" violates check constraint "check_balance_limit"
dksedlak-database       | 2024-02-27 00:20:18.550 UTC [103] DETAIL:  Failing row contains (2, 80000, -87121, {"{\"type\":\"d\",\"description\":\"J9HUUzoKVl\",\"value\":7092,...).
dksedlak-database       | 2024-02-27 00:20:18.550 UTC [103] STATEMENT:  UPDATE accounts
dksedlak-database       | 			SET balance = balance - $2,
dksedlak-database       | 				last_transactions =
dksedlak-database       | 					CASE WHEN array_length(last_transactions, 1) > 10
dksedlak-database       | 						THEN COALESCE(last_transactions[2:array_length(last_transactions, 1)], ARRAY[]::JSON[]) || ARRAY[$3]::JSON[]
dksedlak-database       | 						ELSE COALESCE(last_transactions, ARRAY[]::JSON[]) || ARRAY[$3]::JSON[]
dksedlak-database       | 					END
dksedlak-database       | 			WHERE id = $1
dksedlak-database       | 			RETURNING credit_limit, balance
dksedlak-database       | 2024-02-27 00:20:18.592 UTC [103] ERROR:  new row for relation "accounts" violates check constraint "check_balance_limit"
dksedlak-database       | 2024-02-27 00:20:18.592 UTC [103] DETAIL:  Failing row contains (2, 80000, -80346, {"{\"type\":\"d\",\"description\":\"J9HUUzoKVl\",\"value\":7092,...).
dksedlak-database       | 2024-02-27 00:20:18.592 UTC [103] STATEMENT:  UPDATE accounts
dksedlak-database       | 			SET balance = balance - $2,
dksedlak-database       | 				last_transactions =
dksedlak-database       | 					CASE WHEN array_length(last_transactions, 1) > 10
dksedlak-database       | 						THEN COALESCE(last_transactions[2:array_length(last_transactions, 1)], ARRAY[]::JSON[]) || ARRAY[$3]::JSON[]
dksedlak-database       | 						ELSE COALESCE(last_transactions, ARRAY[]::JSON[]) || ARRAY[$3]::JSON[]
dksedlak-database       | 					END
dksedlak-database       | 			WHERE id = $1
dksedlak-database       | 			RETURNING credit_limit, balance
dksedlak-database       | 2024-02-27 00:20:18.883 UTC [103] ERROR:  new row for relation "accounts" violates check constraint "check_balance_limit"
dksedlak-database       | 2024-02-27 00:20:18.883 UTC [103] DETAIL:  Failing row contains (2, 80000, -83347, {"{\"type\":\"c\",\"description\":\"CXC4ISu2rH\",\"value\":4218,...).
dksedlak-database       | 2024-02-27 00:20:18.883 UTC [103] STATEMENT:  UPDATE accounts
dksedlak-database       | 			SET balance = balance - $2,
dksedlak-database       | 				last_transactions =
dksedlak-database       | 					CASE WHEN array_length(last_transactions, 1) > 10
dksedlak-database       | 						THEN COALESCE(last_transactions[2:array_length(last_transactions, 1)], ARRAY[]::JSON[]) || ARRAY[$3]::JSON[]
dksedlak-database       | 						ELSE COALESCE(last_transactions, ARRAY[]::JSON[]) || ARRAY[$3]::JSON[]
dksedlak-database       | 					END
dksedlak-database       | 			WHERE id = $1
dksedlak-database       | 			RETURNING credit_limit, balance
dksedlak-database       | 2024-02-27 00:20:18.926 UTC [113] ERROR:  new row for relation "accounts" violates check constraint "check_balance_limit"
dksedlak-database       | 2024-02-27 00:20:18.926 UTC [113] DETAIL:  Failing row contains (2, 80000, -80255, {"{\"type\":\"c\",\"description\":\"CXC4ISu2rH\",\"value\":4218,...).
dksedlak-database       | 2024-02-27 00:20:18.926 UTC [113] STATEMENT:  UPDATE accounts
dksedlak-database       | 			SET balance = balance - $2,
dksedlak-database       | 				last_transactions =
dksedlak-database       | 					CASE WHEN array_length(last_transactions, 1) > 10
dksedlak-database       | 						THEN COALESCE(last_transactions[2:array_length(last_transactions, 1)], ARRAY[]::JSON[]) || ARRAY[$3]::JSON[]
dksedlak-database       | 						ELSE COALESCE(last_transactions, ARRAY[]::JSON[]) || ARRAY[$3]::JSON[]
dksedlak-database       | 					END
dksedlak-database       | 			WHERE id = $1
dksedlak-database       | 			RETURNING credit_limit, balance
dksedlak-database       | 2024-02-27 00:20:19.332 UTC [112] ERROR:  new row for relation "accounts" violates check constraint "check_balance_limit"
dksedlak-database       | 2024-02-27 00:20:19.332 UTC [112] DETAIL:  Failing row contains (2, 80000, -82302, {"{\"type\":\"d\",\"description\":\"OQQaBpc9On\",\"value\":6966,...).
dksedlak-database       | 2024-02-27 00:20:19.332 UTC [112] STATEMENT:  UPDATE accounts
dksedlak-database       | 			SET balance = balance - $2,
dksedlak-database       | 				last_transactions =
dksedlak-database       | 					CASE WHEN array_length(last_transactions, 1) > 10
dksedlak-database       | 						THEN COALESCE(last_transactions[2:array_length(last_transactions, 1)], ARRAY[]::JSON[]) || ARRAY[$3]::JSON[]
dksedlak-database       | 						ELSE COALESCE(last_transactions, ARRAY[]::JSON[]) || ARRAY[$3]::JSON[]
dksedlak-database       | 					END
dksedlak-database       | 			WHERE id = $1
dksedlak-database       | 			RETURNING credit_limit, balance
dksedlak-database       | 2024-02-27 00:20:19.772 UTC [112] ERROR:  new row for relation "accounts" violates check constraint "check_balance_limit"
dksedlak-database       | 2024-02-27 00:20:19.772 UTC [112] DETAIL:  Failing row contains (2, 80000, -82208, {"{\"type\":\"d\",\"description\":\"q6GvdqXpwF\",\"value\":536,\...).
dksedlak-database       | 2024-02-27 00:20:19.772 UTC [112] STATEMENT:  UPDATE accounts
dksedlak-database       | 			SET balance = balance - $2,
dksedlak-database       | 				last_transactions =
dksedlak-database       | 					CASE WHEN array_length(last_transactions, 1) > 10
dksedlak-database       | 						THEN COALESCE(last_transactions[2:array_length(last_transactions, 1)], ARRAY[]::JSON[]) || ARRAY[$3]::JSON[]
dksedlak-database       | 						ELSE COALESCE(last_transactions, ARRAY[]::JSON[]) || ARRAY[$3]::JSON[]
dksedlak-database       | 					END
dksedlak-database       | 			WHERE id = $1
dksedlak-database       | 			RETURNING credit_limit, balance
dksedlak-database       | 2024-02-27 00:20:19.933 UTC [112] ERROR:  new row for relation "accounts" violates check constraint "check_balance_limit"
dksedlak-database       | 2024-02-27 00:20:19.933 UTC [112] DETAIL:  Failing row contains (2, 80000, -85380, {"{\"type\":\"c\",\"description\":\"e8kxZMRc4y\",\"value\":52,\"...).
dksedlak-database       | 2024-02-27 00:20:19.933 UTC [112] STATEMENT:  UPDATE accounts
dksedlak-database       | 			SET balance = balance - $2,
dksedlak-database       | 				last_transactions =
dksedlak-database       | 					CASE WHEN array_length(last_transactions, 1) > 10
dksedlak-database       | 						THEN COALESCE(last_transactions[2:array_length(last_transactions, 1)], ARRAY[]::JSON[]) || ARRAY[$3]::JSON[]
dksedlak-database       | 						ELSE COALESCE(last_transactions, ARRAY[]::JSON[]) || ARRAY[$3]::JSON[]
dksedlak-database       | 					END
dksedlak-database       | 			WHERE id = $1
dksedlak-database       | 			RETURNING credit_limit, balance
dksedlak-database       | 2024-02-27 00:20:21.712 UTC [99] ERROR:  new row for relation "accounts" violates check constraint "check_balance_limit"
dksedlak-database       | 2024-02-27 00:20:21.712 UTC [99] DETAIL:  Failing row contains (1, 100000, -109142, {"{\"type\":\"d\",\"description\":\"pl8WffShfG\",\"value\":2774,...).
dksedlak-database       | 2024-02-27 00:20:21.712 UTC [99] STATEMENT:  UPDATE accounts
dksedlak-database       | 			SET balance = balance - $2,
dksedlak-database       | 				last_transactions =
dksedlak-database       | 					CASE WHEN array_length(last_transactions, 1) > 10
dksedlak-database       | 						THEN COALESCE(last_transactions[2:array_length(last_transactions, 1)], ARRAY[]::JSON[]) || ARRAY[$3]::JSON[]
dksedlak-database       | 						ELSE COALESCE(last_transactions, ARRAY[]::JSON[]) || ARRAY[$3]::JSON[]
dksedlak-database       | 					END
dksedlak-database       | 			WHERE id = $1
dksedlak-database       | 			RETURNING credit_limit, balance
dksedlak-database       | 2024-02-27 00:20:21.747 UTC [115] ERROR:  new row for relation "accounts" violates check constraint "check_balance_limit"
dksedlak-database       | 2024-02-27 00:20:21.747 UTC [115] DETAIL:  Failing row contains (1, 100000, -107319, {"{\"type\":\"d\",\"description\":\"pl8WffShfG\",\"value\":2774,...).
dksedlak-database       | 2024-02-27 00:20:21.747 UTC [115] STATEMENT:  UPDATE accounts
dksedlak-database       | 			SET balance = balance - $2,
dksedlak-database       | 				last_transactions =
dksedlak-database       | 					CASE WHEN array_length(last_transactions, 1) > 10
dksedlak-database       | 						THEN COALESCE(last_transactions[2:array_length(last_transactions, 1)], ARRAY[]::JSON[]) || ARRAY[$3]::JSON[]
dksedlak-database       | 						ELSE COALESCE(last_transactions, ARRAY[]::JSON[]) || ARRAY[$3]::JSON[]
dksedlak-database       | 					END
dksedlak-database       | 			WHERE id = $1
dksedlak-database       | 			RETURNING credit_limit, balance
dksedlak-database       | 2024-02-27 00:20:22.124 UTC [97] ERROR:  new row for relation "accounts" violates check constraint "check_balance_limit"
dksedlak-database       | 2024-02-27 00:20:22.124 UTC [97] DETAIL:  Failing row contains (1, 100000, -105718, {"{\"type\":\"c\",\"description\":\"reiWbPUygp\",\"value\":3213,...).
dksedlak-database       | 2024-02-27 00:20:22.124 UTC [97] STATEMENT:  UPDATE accounts
dksedlak-database       | 			SET balance = balance - $2,
dksedlak-database       | 				last_transactions =
dksedlak-database       | 					CASE WHEN array_length(last_transactions, 1) > 10
dksedlak-database       | 						THEN COALESCE(last_transactions[2:array_length(last_transactions, 1)], ARRAY[]::JSON[]) || ARRAY[$3]::JSON[]
dksedlak-database       | 						ELSE COALESCE(last_transactions, ARRAY[]::JSON[]) || ARRAY[$3]::JSON[]
dksedlak-database       | 					END
dksedlak-database       | 			WHERE id = $1
dksedlak-database       | 			RETURNING credit_limit, balance
dksedlak-database       | 2024-02-27 00:20:22.446 UTC [97] ERROR:  new row for relation "accounts" violates check constraint "check_balance_limit"
dksedlak-database       | 2024-02-27 00:20:22.446 UTC [97] DETAIL:  Failing row contains (1, 100000, -105848, {"{\"type\":\"c\",\"description\":\"reiWbPUygp\",\"value\":3213,...).
dksedlak-database       | 2024-02-27 00:20:22.446 UTC [97] STATEMENT:  UPDATE accounts
dksedlak-database       | 			SET balance = balance - $2,
dksedlak-database       | 				last_transactions =
dksedlak-database       | 					CASE WHEN array_length(last_transactions, 1) > 10
dksedlak-database       | 						THEN COALESCE(last_transactions[2:array_length(last_transactions, 1)], ARRAY[]::JSON[]) || ARRAY[$3]::JSON[]
dksedlak-database       | 						ELSE COALESCE(last_transactions, ARRAY[]::JSON[]) || ARRAY[$3]::JSON[]
dksedlak-database       | 					END
dksedlak-database       | 			WHERE id = $1
dksedlak-database       | 			RETURNING credit_limit, balance
dksedlak-database       | 2024-02-27 00:20:22.511 UTC [97] ERROR:  new row for relation "accounts" violates check constraint "check_balance_limit"
dksedlak-database       | 2024-02-27 00:20:22.511 UTC [97] DETAIL:  Failing row contains (1, 100000, -109314, {"{\"type\":\"c\",\"description\":\"reiWbPUygp\",\"value\":3213,...).
dksedlak-database       | 2024-02-27 00:20:22.511 UTC [97] STATEMENT:  UPDATE accounts
dksedlak-database       | 			SET balance = balance - $2,
dksedlak-database       | 				last_transactions =
dksedlak-database       | 					CASE WHEN array_length(last_transactions, 1) > 10
dksedlak-database       | 						THEN COALESCE(last_transactions[2:array_length(last_transactions, 1)], ARRAY[]::JSON[]) || ARRAY[$3]::JSON[]
dksedlak-database       | 						ELSE COALESCE(last_transactions, ARRAY[]::JSON[]) || ARRAY[$3]::JSON[]
dksedlak-database       | 					END
dksedlak-database       | 			WHERE id = $1
dksedlak-database       | 			RETURNING credit_limit, balance
dksedlak-database       | 2024-02-27 00:20:22.543 UTC [97] ERROR:  new row for relation "accounts" violates check constraint "check_balance_limit"
dksedlak-database       | 2024-02-27 00:20:22.543 UTC [97] DETAIL:  Failing row contains (1, 100000, -106243, {"{\"type\":\"d\",\"description\":\"G5Sseuv618\",\"value\":3549,...).
dksedlak-database       | 2024-02-27 00:20:22.543 UTC [97] STATEMENT:  UPDATE accounts
dksedlak-database       | 			SET balance = balance - $2,
dksedlak-database       | 				last_transactions =
dksedlak-database       | 					CASE WHEN array_length(last_transactions, 1) > 10
dksedlak-database       | 						THEN COALESCE(last_transactions[2:array_length(last_transactions, 1)], ARRAY[]::JSON[]) || ARRAY[$3]::JSON[]
dksedlak-database       | 						ELSE COALESCE(last_transactions, ARRAY[]::JSON[]) || ARRAY[$3]::JSON[]
dksedlak-database       | 					END
dksedlak-database       | 			WHERE id = $1
dksedlak-database       | 			RETURNING credit_limit, balance
dksedlak-database       | 2024-02-27 00:20:22.575 UTC [115] ERROR:  new row for relation "accounts" violates check constraint "check_balance_limit"
dksedlak-database       | 2024-02-27 00:20:22.575 UTC [115] DETAIL:  Failing row contains (1, 100000, -101388, {"{\"type\":\"d\",\"description\":\"G5Sseuv618\",\"value\":3549,...).
dksedlak-database       | 2024-02-27 00:20:22.575 UTC [115] STATEMENT:  UPDATE accounts
dksedlak-database       | 			SET balance = balance - $2,
dksedlak-database       | 				last_transactions =
dksedlak-database       | 					CASE WHEN array_length(last_transactions, 1) > 10
dksedlak-database       | 						THEN COALESCE(last_transactions[2:array_length(last_transactions, 1)], ARRAY[]::JSON[]) || ARRAY[$3]::JSON[]
dksedlak-database       | 						ELSE COALESCE(last_transactions, ARRAY[]::JSON[]) || ARRAY[$3]::JSON[]
dksedlak-database       | 					END
dksedlak-database       | 			WHERE id = $1
dksedlak-database       | 			RETURNING credit_limit, balance
dksedlak-database       | 2024-02-27 00:20:23.181 UTC [115] ERROR:  new row for relation "accounts" violates check constraint "check_balance_limit"
dksedlak-database       | 2024-02-27 00:20:23.181 UTC [115] DETAIL:  Failing row contains (1, 100000, -100647, {"{\"type\":\"d\",\"description\":\"bIqVDfryfB\",\"value\":8075,...).
dksedlak-database       | 2024-02-27 00:20:23.181 UTC [115] STATEMENT:  UPDATE accounts
dksedlak-database       | 			SET balance = balance - $2,
dksedlak-database       | 				last_transactions =
dksedlak-database       | 					CASE WHEN array_length(last_transactions, 1) > 10
dksedlak-database       | 						THEN COALESCE(last_transactions[2:array_length(last_transactions, 1)], ARRAY[]::JSON[]) || ARRAY[$3]::JSON[]
dksedlak-database       | 						ELSE COALESCE(last_transactions, ARRAY[]::JSON[]) || ARRAY[$3]::JSON[]
dksedlak-database       | 					END
dksedlak-database       | 			WHERE id = $1
dksedlak-database       | 			RETURNING credit_limit, balance
dksedlak-database       | 2024-02-27 00:20:24.092 UTC [126] ERROR:  new row for relation "accounts" violates check constraint "check_balance_limit"
dksedlak-database       | 2024-02-27 00:20:24.092 UTC [126] DETAIL:  Failing row contains (2, 80000, -81792, {"{\"type\":\"c\",\"description\":\"XVfQyHvhOO\",\"value\":6820,...).
dksedlak-database       | 2024-02-27 00:20:24.092 UTC [126] STATEMENT:  UPDATE accounts
dksedlak-database       | 			SET balance = balance - $2,
dksedlak-database       | 				last_transactions =
dksedlak-database       | 					CASE WHEN array_length(last_transactions, 1) > 10
dksedlak-database       | 						THEN COALESCE(last_transactions[2:array_length(last_transactions, 1)], ARRAY[]::JSON[]) || ARRAY[$3]::JSON[]
dksedlak-database       | 						ELSE COALESCE(last_transactions, ARRAY[]::JSON[]) || ARRAY[$3]::JSON[]
dksedlak-database       | 					END
dksedlak-database       | 			WHERE id = $1
dksedlak-database       | 			RETURNING credit_limit, balance
dksedlak-database       | 2024-02-27 00:20:24.205 UTC [115] ERROR:  new row for relation "accounts" violates check constraint "check_balance_limit"
dksedlak-database       | 2024-02-27 00:20:24.205 UTC [115] DETAIL:  Failing row contains (2, 80000, -87894, {"{\"type\":\"c\",\"description\":\"A2ex22cLbF\",\"value\":3630,...).
dksedlak-database       | 2024-02-27 00:20:24.205 UTC [115] STATEMENT:  UPDATE accounts
dksedlak-database       | 			SET balance = balance - $2,
dksedlak-database       | 				last_transactions =
dksedlak-database       | 					CASE WHEN array_length(last_transactions, 1) > 10
dksedlak-database       | 						THEN COALESCE(last_transactions[2:array_length(last_transactions, 1)], ARRAY[]::JSON[]) || ARRAY[$3]::JSON[]
dksedlak-database       | 						ELSE COALESCE(last_transactions, ARRAY[]::JSON[]) || ARRAY[$3]::JSON[]
dksedlak-database       | 					END
dksedlak-database       | 			WHERE id = $1
dksedlak-database       | 			RETURNING credit_limit, balance
dksedlak-database       | 2024-02-27 00:20:24.233 UTC [115] ERROR:  new row for relation "accounts" violates check constraint "check_balance_limit"
dksedlak-database       | 2024-02-27 00:20:24.233 UTC [115] DETAIL:  Failing row contains (2, 80000, -85758, {"{\"type\":\"c\",\"description\":\"A2ex22cLbF\",\"value\":3630,...).
dksedlak-database       | 2024-02-27 00:20:24.233 UTC [115] STATEMENT:  UPDATE accounts
dksedlak-database       | 			SET balance = balance - $2,
dksedlak-database       | 				last_transactions =
dksedlak-database       | 					CASE WHEN array_length(last_transactions, 1) > 10
dksedlak-database       | 						THEN COALESCE(last_transactions[2:array_length(last_transactions, 1)], ARRAY[]::JSON[]) || ARRAY[$3]::JSON[]
dksedlak-database       | 						ELSE COALESCE(last_transactions, ARRAY[]::JSON[]) || ARRAY[$3]::JSON[]
dksedlak-database       | 					END
dksedlak-database       | 			WHERE id = $1
dksedlak-database       | 			RETURNING credit_limit, balance
dksedlak-database       | 2024-02-27 00:20:24.290 UTC [99] ERROR:  new row for relation "accounts" violates check constraint "check_balance_limit"
dksedlak-database       | 2024-02-27 00:20:24.290 UTC [99] DETAIL:  Failing row contains (2, 80000, -80308, {"{\"type\":\"c\",\"description\":\"A2ex22cLbF\",\"value\":3630,...).
dksedlak-database       | 2024-02-27 00:20:24.290 UTC [99] STATEMENT:  UPDATE accounts
dksedlak-database       | 			SET balance = balance - $2,
dksedlak-database       | 				last_transactions =
dksedlak-database       | 					CASE WHEN array_length(last_transactions, 1) > 10
dksedlak-database       | 						THEN COALESCE(last_transactions[2:array_length(last_transactions, 1)], ARRAY[]::JSON[]) || ARRAY[$3]::JSON[]
dksedlak-database       | 						ELSE COALESCE(last_transactions, ARRAY[]::JSON[]) || ARRAY[$3]::JSON[]
dksedlak-database       | 					END
dksedlak-database       | 			WHERE id = $1
dksedlak-database       | 			RETURNING credit_limit, balance
dksedlak-database       | 2024-02-27 00:20:24.348 UTC [115] ERROR:  new row for relation "accounts" violates check constraint "check_balance_limit"
dksedlak-database       | 2024-02-27 00:20:24.348 UTC [115] DETAIL:  Failing row contains (2, 80000, -89311, {"{\"type\":\"c\",\"description\":\"A2ex22cLbF\",\"value\":3630,...).
dksedlak-database       | 2024-02-27 00:20:24.348 UTC [115] STATEMENT:  UPDATE accounts
dksedlak-database       | 			SET balance = balance - $2,
dksedlak-database       | 				last_transactions =
dksedlak-database       | 					CASE WHEN array_length(last_transactions, 1) > 10
dksedlak-database       | 						THEN COALESCE(last_transactions[2:array_length(last_transactions, 1)], ARRAY[]::JSON[]) || ARRAY[$3]::JSON[]
dksedlak-database       | 						ELSE COALESCE(last_transactions, ARRAY[]::JSON[]) || ARRAY[$3]::JSON[]
dksedlak-database       | 					END
dksedlak-database       | 			WHERE id = $1
dksedlak-database       | 			RETURNING credit_limit, balance
dksedlak-database       | 2024-02-27 00:20:24.433 UTC [115] ERROR:  new row for relation "accounts" violates check constraint "check_balance_limit"
dksedlak-database       | 2024-02-27 00:20:24.433 UTC [115] DETAIL:  Failing row contains (2, 80000, -89234, {"{\"type\":\"c\",\"description\":\"A2ex22cLbF\",\"value\":3630,...).
dksedlak-database       | 2024-02-27 00:20:24.433 UTC [115] STATEMENT:  UPDATE accounts
dksedlak-database       | 			SET balance = balance - $2,
dksedlak-database       | 				last_transactions =
dksedlak-database       | 					CASE WHEN array_length(last_transactions, 1) > 10
dksedlak-database       | 						THEN COALESCE(last_transactions[2:array_length(last_transactions, 1)], ARRAY[]::JSON[]) || ARRAY[$3]::JSON[]
dksedlak-database       | 						ELSE COALESCE(last_transactions, ARRAY[]::JSON[]) || ARRAY[$3]::JSON[]
dksedlak-database       | 					END
dksedlak-database       | 			WHERE id = $1
dksedlak-database       | 			RETURNING credit_limit, balance
dksedlak-database       | 2024-02-27 00:20:24.462 UTC [115] ERROR:  new row for relation "accounts" violates check constraint "check_balance_limit"
dksedlak-database       | 2024-02-27 00:20:24.462 UTC [115] DETAIL:  Failing row contains (2, 80000, -83696, {"{\"type\":\"c\",\"description\":\"A2ex22cLbF\",\"value\":3630,...).
dksedlak-database       | 2024-02-27 00:20:24.462 UTC [115] STATEMENT:  UPDATE accounts
dksedlak-database       | 			SET balance = balance - $2,
dksedlak-database       | 				last_transactions =
dksedlak-database       | 					CASE WHEN array_length(last_transactions, 1) > 10
dksedlak-database       | 						THEN COALESCE(last_transactions[2:array_length(last_transactions, 1)], ARRAY[]::JSON[]) || ARRAY[$3]::JSON[]
dksedlak-database       | 						ELSE COALESCE(last_transactions, ARRAY[]::JSON[]) || ARRAY[$3]::JSON[]
dksedlak-database       | 					END
dksedlak-database       | 			WHERE id = $1
dksedlak-database       | 			RETURNING credit_limit, balance
dksedlak-database       | 2024-02-27 00:20:24.519 UTC [99] ERROR:  new row for relation "accounts" violates check constraint "check_balance_limit"
dksedlak-database       | 2024-02-27 00:20:24.519 UTC [99] DETAIL:  Failing row contains (2, 80000, -80505, {"{\"type\":\"d\",\"description\":\"x4LEjYHxiF\",\"value\":7387,...).
dksedlak-database       | 2024-02-27 00:20:24.519 UTC [99] STATEMENT:  UPDATE accounts
dksedlak-database       | 			SET balance = balance - $2,
dksedlak-database       | 				last_transactions =
dksedlak-database       | 					CASE WHEN array_length(last_transactions, 1) > 10
dksedlak-database       | 						THEN COALESCE(last_transactions[2:array_length(last_transactions, 1)], ARRAY[]::JSON[]) || ARRAY[$3]::JSON[]
dksedlak-database       | 						ELSE COALESCE(last_transactions, ARRAY[]::JSON[]) || ARRAY[$3]::JSON[]
dksedlak-database       | 					END
dksedlak-database       | 			WHERE id = $1
dksedlak-database       | 			RETURNING credit_limit, balance
dksedlak-database       | 2024-02-27 00:20:25.118 UTC [126] ERROR:  new row for relation "accounts" violates check constraint "check_balance_limit"
dksedlak-database       | 2024-02-27 00:20:25.118 UTC [126] DETAIL:  Failing row contains (2, 80000, -81481, {"{\"type\":\"d\",\"description\":\"HTp3aTTReU\",\"value\":3722,...).
dksedlak-database       | 2024-02-27 00:20:25.118 UTC [126] STATEMENT:  UPDATE accounts
dksedlak-database       | 			SET balance = balance - $2,
