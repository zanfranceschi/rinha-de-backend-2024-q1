 Network rinha-nginx-2024q1-host  Creating
 Network rinha-nginx-2024q1-host  Created
 Container rinha-service-postgres-1  Creating
 Container rinha-service-postgres-1  Created
 Container rinha-service-api2-1  Creating
 Container rinha-service-api1-1  Creating
 Container rinha-service-api2-1  Created
 Container rinha-service-api1-1  Created
 Container rinha-service-nginx-1  Creating
 Container rinha-service-nginx-1  Created
Attaching to api1-1, api2-1, nginx-1, postgres-1
postgres-1  | The files belonging to this database system will be owned by user "postgres".
postgres-1  | This user must also own the server process.
postgres-1  | 
postgres-1  | The database cluster will be initialized with locale "en_US.utf8".
postgres-1  | The default database encoding has accordingly been set to "UTF8".
postgres-1  | The default text search configuration will be set to "english".
postgres-1  | 
postgres-1  | Data page checksums are disabled.
postgres-1  | 
postgres-1  | fixing permissions on existing directory /var/lib/postgresql/data ... ok
postgres-1  | creating subdirectories ... ok
postgres-1  | selecting dynamic shared memory implementation ... posix
postgres-1  | selecting default max_connections ... 100
postgres-1  | selecting default shared_buffers ... 128MB
postgres-1  | selecting default time zone ... Etc/UTC
postgres-1  | creating configuration files ... ok
postgres-1  | running bootstrap script ... ok
api1-1      | 
api1-1      |   .   ____          _            __ _ _
api1-1      |  /\\ / ___'_ __ _ _(_)_ __  __ _ \ \ \ \
api1-1      | ( ( )\___ | '_ | '_| | '_ \/ _` | \ \ \ \
api1-1      |  \\/  ___)| |_)| | | | | || (_| |  ) ) ) )
api1-1      |   '  |____| .__|_| |_|_| |_\__, | / / / /
api1-1      |  =========|_|==============|___/=/_/_/_/
api1-1      |  :: Spring Boot ::                (v3.2.2)
api1-1      | 
api2-1      | 
api2-1      |   .   ____          _            __ _ _
api2-1      |  /\\ / ___'_ __ _ _(_)_ __  __ _ \ \ \ \
api2-1      | ( ( )\___ | '_ | '_| | '_ \/ _` | \ \ \ \
api2-1      |  \\/  ___)| |_)| | | | | || (_| |  ) ) ) )
api2-1      |   '  |____| .__|_| |_|_| |_\__, | / / / /
api2-1      |  =========|_|==============|___/=/_/_/_/
api2-1      |  :: Spring Boot ::                (v3.2.2)
api2-1      | 
api1-1      | 2024-03-01T01:39:46.435Z  INFO 1 --- [           main] c.r.RinhaBackendApplicationKt            : Starting AOT-processed RinhaBackendApplicationKt using Java 21.0.2 with PID 1 (/server started by root in /)
api1-1      | 2024-03-01T01:39:46.435Z  INFO 1 --- [           main] c.r.RinhaBackendApplicationKt            : No active profile set, falling back to 1 default profile: "default"
api2-1      | 2024-03-01T01:39:46.436Z  INFO 1 --- [           main] c.r.RinhaBackendApplicationKt            : Starting AOT-processed RinhaBackendApplicationKt using Java 21.0.2 with PID 1 (/server started by root in /)
api2-1      | 2024-03-01T01:39:46.436Z  INFO 1 --- [           main] c.r.RinhaBackendApplicationKt            : No active profile set, falling back to 1 default profile: "default"
api2-1      | 2024-03-01T01:39:46.545Z  INFO 1 --- [           main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat initialized with port 8000 (http)
api1-1      | 2024-03-01T01:39:46.546Z  INFO 1 --- [           main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat initialized with port 8000 (http)
api1-1      | 2024-03-01T01:39:46.546Z  INFO 1 --- [           main] o.apache.catalina.core.StandardService   : Starting service [Tomcat]
api1-1      | 2024-03-01T01:39:46.546Z  INFO 1 --- [           main] o.apache.catalina.core.StandardEngine    : Starting Servlet engine: [Apache Tomcat/10.1.18]
postgres-1  | performing post-bootstrap initialization ... ok
api2-1      | 2024-03-01T01:39:46.616Z  INFO 1 --- [           main] o.apache.catalina.core.StandardService   : Starting service [Tomcat]
api2-1      | 2024-03-01T01:39:46.616Z  INFO 1 --- [           main] o.apache.catalina.core.StandardEngine    : Starting Servlet engine: [Apache Tomcat/10.1.18]
api2-1      | 2024-03-01T01:39:46.624Z  INFO 1 --- [           main] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring embedded WebApplicationContext
api2-1      | 2024-03-01T01:39:46.624Z  INFO 1 --- [           main] w.s.c.ServletWebServerApplicationContext : Root WebApplicationContext: initialization completed in 188 ms
api1-1      | 2024-03-01T01:39:46.624Z  INFO 1 --- [           main] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring embedded WebApplicationContext
api1-1      | 2024-03-01T01:39:46.624Z  INFO 1 --- [           main] w.s.c.ServletWebServerApplicationContext : Root WebApplicationContext: initialization completed in 189 ms
api2-1      | 2024-03-01T01:39:46.718Z  INFO 1 --- [           main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Starting...
api1-1      | 2024-03-01T01:39:46.721Z  INFO 1 --- [           main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Starting...
nginx-1     | /docker-entrypoint.sh: /docker-entrypoint.d/ is not empty, will attempt to perform configuration
nginx-1     | /docker-entrypoint.sh: Looking for shell scripts in /docker-entrypoint.d/
nginx-1     | /docker-entrypoint.sh: Launching /docker-entrypoint.d/10-listen-on-ipv6-by-default.sh
nginx-1     | 10-listen-on-ipv6-by-default.sh: info: Getting the checksum of /etc/nginx/conf.d/default.conf
nginx-1     | 10-listen-on-ipv6-by-default.sh: info: Enabled listen on IPv6 in /etc/nginx/conf.d/default.conf
nginx-1     | /docker-entrypoint.sh: Sourcing /docker-entrypoint.d/15-local-resolvers.envsh
nginx-1     | /docker-entrypoint.sh: Launching /docker-entrypoint.d/20-envsubst-on-templates.sh
nginx-1     | /docker-entrypoint.sh: Launching /docker-entrypoint.d/30-tune-worker-processes.sh
nginx-1     | /docker-entrypoint.sh: Configuration complete; ready for start up
postgres-1  | initdb: warning: enabling "trust" authentication for local connections
postgres-1  | initdb: hint: You can change this by editing pg_hba.conf or using the option -A, or --auth-local and --auth-host, the next time you run initdb.
postgres-1  | syncing data to disk ... ok
postgres-1  | 
postgres-1  | 
postgres-1  | Success. You can now start the database server using:
postgres-1  | 
postgres-1  |     pg_ctl -D /var/lib/postgresql/data -l logfile start
postgres-1  | 
postgres-1  | waiting for server to start....2024-03-01 01:39:47.180 UTC [35] LOG:  starting PostgreSQL 16.2 (Debian 16.2-1.pgdg120+2) on x86_64-pc-linux-gnu, compiled by gcc (Debian 12.2.0-14) 12.2.0, 64-bit
postgres-1  | 2024-03-01 01:39:47.180 UTC [35] LOG:  listening on Unix socket "/var/run/postgresql/.s.PGSQL.5432"
postgres-1  | 2024-03-01 01:39:47.182 UTC [38] LOG:  database system was shut down at 2024-03-01 01:39:46 UTC
postgres-1  | 2024-03-01 01:39:47.185 UTC [35] LOG:  database system is ready to accept connections
postgres-1  |  done
postgres-1  | server started
postgres-1  | CREATE DATABASE
postgres-1  | 
postgres-1  | 
postgres-1  | /usr/local/bin/docker-entrypoint.sh: ignoring /docker-entrypoint-initdb.d/*
postgres-1  | 
postgres-1  | waiting for server to shut down...2024-03-01 01:39:47.343 UTC [35] LOG:  received fast shutdown request
postgres-1  | .2024-03-01 01:39:47.343 UTC [35] LOG:  aborting any active transactions
postgres-1  | 2024-03-01 01:39:47.345 UTC [35] LOG:  background worker "logical replication launcher" (PID 41) exited with exit code 1
postgres-1  | 2024-03-01 01:39:47.345 UTC [36] LOG:  shutting down
postgres-1  | 2024-03-01 01:39:47.345 UTC [36] LOG:  checkpoint starting: shutdown immediate
postgres-1  | 2024-03-01 01:39:47.351 UTC [36] LOG:  checkpoint complete: wrote 923 buffers (5.6%); 0 WAL file(s) added, 0 removed, 0 recycled; write=0.006 s, sync=0.001 s, total=0.006 s; sync files=0, longest=0.000 s, average=0.000 s; distance=4256 kB, estimate=4256 kB; lsn=0/1912D30, redo lsn=0/1912D30
postgres-1  | 2024-03-01 01:39:47.355 UTC [35] LOG:  database system is shut down
postgres-1  |  done
postgres-1  | server stopped
postgres-1  | 
postgres-1  | PostgreSQL init process complete; ready for start up.
postgres-1  | 
postgres-1  | 2024-03-01 01:39:47.458 UTC [1] LOG:  starting PostgreSQL 16.2 (Debian 16.2-1.pgdg120+2) on x86_64-pc-linux-gnu, compiled by gcc (Debian 12.2.0-14) 12.2.0, 64-bit
postgres-1  | 2024-03-01 01:39:47.458 UTC [1] LOG:  listening on IPv4 address "0.0.0.0", port 5432
postgres-1  | 2024-03-01 01:39:47.458 UTC [1] LOG:  listening on IPv6 address "::", port 5432
postgres-1  | 2024-03-01 01:39:47.458 UTC [1] LOG:  listening on Unix socket "/var/run/postgresql/.s.PGSQL.5432"
postgres-1  | 2024-03-01 01:39:47.460 UTC [51] LOG:  database system was shut down at 2024-03-01 01:39:47 UTC
postgres-1  | 2024-03-01 01:39:47.463 UTC [1] LOG:  database system is ready to accept connections
api2-1      | 2024-03-01T01:39:47.719Z ERROR 1 --- [           main] com.zaxxer.hikari.pool.HikariPool        : HikariPool-1 - Exception during pool initialization.
api2-1      | 
api2-1      | org.postgresql.util.PSQLException: Connection to postgres:5432 refused. Check that the hostname and port are correct and that the postmaster is accepting TCP/IP connections.
api2-1      | 	at org.postgresql.core.v3.ConnectionFactoryImpl.openConnectionImpl(ConnectionFactoryImpl.java:342) ~[na:na]
api2-1      | 	at org.postgresql.core.ConnectionFactory.openConnection(ConnectionFactory.java:54) ~[server:42.6.0]
api2-1      | 	at org.postgresql.jdbc.PgConnection.<init>(PgConnection.java:263) ~[na:na]
api2-1      | 	at org.postgresql.Driver.makeConnection(Driver.java:443) ~[server:42.6.0]
api2-1      | 	at org.postgresql.Driver.connect(Driver.java:297) ~[server:42.6.0]
api2-1      | 	at com.zaxxer.hikari.util.DriverDataSource.getConnection(DriverDataSource.java:138) ~[na:na]
api2-1      | 	at com.zaxxer.hikari.pool.PoolBase.newConnection(PoolBase.java:359) ~[server:na]
api2-1      | 	at com.zaxxer.hikari.pool.PoolBase.newPoolEntry(PoolBase.java:201) ~[server:na]
api2-1      | 	at com.zaxxer.hikari.pool.HikariPool.createPoolEntry(HikariPool.java:470) ~[server:na]
api2-1      | 	at com.zaxxer.hikari.pool.HikariPool.checkFailFast(HikariPool.java:561) ~[server:na]
api2-1      | 	at com.zaxxer.hikari.pool.HikariPool.<init>(HikariPool.java:100) ~[server:na]
api2-1      | 	at com.zaxxer.hikari.HikariDataSource.getConnection(HikariDataSource.java:112) ~[server:na]
api2-1      | 	at org.flywaydb.core.api.configuration.ClassicConfiguration.setDataSource(ClassicConfiguration.java:1094) ~[server:na]
api2-1      | 	at org.flywaydb.core.api.configuration.FluentConfiguration.dataSource(FluentConfiguration.java:624) ~[server:na]
api2-1      | 	at org.springframework.boot.autoconfigure.flyway.FlywayAutoConfiguration$FlywayConfiguration.configureDataSource(FlywayAutoConfiguration.java:185) ~[server:na]
api2-1      | 	at org.springframework.boot.autoconfigure.flyway.FlywayAutoConfiguration$FlywayConfiguration.flyway(FlywayAutoConfiguration.java:172) ~[server:na]
api2-1      | 	at org.springframework.boot.autoconfigure.flyway.FlywayAutoConfiguration__BeanDefinitions$FlywayConfiguration.lambda$getFlywayInstanceSupplier$3(FlywayAutoConfiguration__BeanDefinitions.java:141) ~[na:na]
api2-1      | 	at org.springframework.util.function.ThrowingBiFunction.apply(ThrowingBiFunction.java:68) ~[server:6.1.3]
api2-1      | 	at org.springframework.util.function.ThrowingBiFunction.apply(ThrowingBiFunction.java:54) ~[server:6.1.3]
api2-1      | 	at org.springframework.beans.factory.aot.BeanInstanceSupplier.lambda$get$2(BeanInstanceSupplier.java:206) ~[na:na]
api2-1      | 	at org.springframework.util.function.ThrowingSupplier.get(ThrowingSupplier.java:58) ~[server:6.1.3]
api2-1      | 	at org.springframework.util.function.ThrowingSupplier.get(ThrowingSupplier.java:46) ~[server:6.1.3]
api2-1      | 	at org.springframework.beans.factory.aot.BeanInstanceSupplier.invokeBeanSupplier(BeanInstanceSupplier.java:218) ~[na:na]
api2-1      | 	at org.springframework.beans.factory.aot.BeanInstanceSupplier.get(BeanInstanceSupplier.java:206) ~[na:na]
api2-1      | 	at org.springframework.beans.factory.support.DefaultListableBeanFactory.obtainInstanceFromSupplier(DefaultListableBeanFactory.java:949) ~[server:6.1.3]
api2-1      | 	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.obtainFromSupplier(AbstractAutowireCapableBeanFactory.java:1216) ~[server:6.1.3]
api2-1      | 	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBeanInstance(AbstractAutowireCapableBeanFactory.java:1160) ~[server:6.1.3]
api2-1      | 	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:561) ~[server:6.1.3]
api2-1      | 	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:521) ~[server:6.1.3]
api2-1      | 	at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:325) ~[server:6.1.3]
api2-1      | 	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:234) ~[server:6.1.3]
api2-1      | 	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:323) ~[server:6.1.3]
api2-1      | 	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:199) ~[server:6.1.3]
api2-1      | 	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:312) ~[server:6.1.3]
api2-1      | 	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:199) ~[server:6.1.3]
api2-1      | 	at org.springframework.context.support.AbstractApplicationContext.getBean(AbstractApplicationContext.java:1231) ~[server:6.1.3]
api2-1      | 	at org.springframework.context.support.AbstractApplicationContext.finishBeanFactoryInitialization(AbstractApplicationContext.java:949) ~[server:6.1.3]
api2-1      | 	at org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:624) ~[server:6.1.3]
api2-1      | 	at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.refresh(ServletWebServerApplicationContext.java:146) ~[server:3.2.2]
api2-1      | 	at org.springframework.boot.SpringApplication.refresh(SpringApplication.java:754) ~[server:3.2.2]
api2-1      | 	at org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:456) ~[server:3.2.2]
api2-1      | 	at org.springframework.boot.SpringApplication.run(SpringApplication.java:334) ~[server:3.2.2]
api2-1      | 	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1354) ~[server:3.2.2]
api2-1      | 	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1343) ~[server:3.2.2]
api2-1      | 	at com.rinhabackend.RinhaBackendApplicationKt.main(RinhaBackendApplication.kt:13) ~[server:na]
api2-1      | 	at java.base@21.0.2/java.lang.invoke.LambdaForm$DMH/sa346b79c.invokeStaticInit(LambdaForm$DMH) ~[na:na]
api2-1      | Caused by: java.net.ConnectException: Connection refused
api2-1      | 	at java.base@21.0.2/sun.nio.ch.Net.pollConnect(Native Method) ~[na:na]
api2-1      | 	at java.base@21.0.2/sun.nio.ch.Net.pollConnectNow(Net.java:682) ~[na:na]
api2-1      | 	at java.base@21.0.2/sun.nio.ch.NioSocketImpl.timedFinishConnect(NioSocketImpl.java:542) ~[na:na]
api2-1      | 	at java.base@21.0.2/sun.nio.ch.NioSocketImpl.connect(NioSocketImpl.java:592) ~[na:na]
api2-1      | 	at java.base@21.0.2/java.net.SocksSocketImpl.connect(SocksSocketImpl.java:327) ~[na:na]
api2-1      | 	at java.base@21.0.2/java.net.Socket.connect(Socket.java:751) ~[server:na]
api2-1      | 	at org.postgresql.core.PGStream.createSocket(PGStream.java:243) ~[server:42.6.0]
api2-1      | 	at org.postgresql.core.PGStream.<init>(PGStream.java:98) ~[server:42.6.0]
api2-1      | 	at org.postgresql.core.v3.ConnectionFactoryImpl.tryConnect(ConnectionFactoryImpl.java:132) ~[na:na]
api2-1      | 	at org.postgresql.core.v3.ConnectionFactoryImpl.openConnectionImpl(ConnectionFactoryImpl.java:258) ~[na:na]
api2-1      | 	... 45 common frames omitted
api2-1      | 
api2-1      | 2024-03-01T01:39:47.722Z  INFO 1 --- [           main] o.f.c.internal.license.VersionPrinter    : Flyway Community Edition 9.22.3 by Redgate
api2-1      | 2024-03-01T01:39:47.722Z  INFO 1 --- [           main] o.f.c.internal.license.VersionPrinter    : See release notes here: https://rd.gt/416ObMi
api2-1      | 2024-03-01T01:39:47.722Z  INFO 1 --- [           main] o.f.c.internal.license.VersionPrinter    : 
api2-1      | 2024-03-01T01:39:47.722Z  WARN 1 --- [           main] o.f.c.i.s.classpath.ClassPathScanner     : Unable to scan location: /migration (unsupported protocol: resource)
api2-1      | 2024-03-01T01:39:47.722Z  WARN 1 --- [           main] o.f.c.i.s.classpath.ClassPathScanner     : Unable to scan location: /migration (unsupported protocol: resource)
api2-1      | 2024-03-01T01:39:47.723Z  INFO 1 --- [           main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Starting...
api1-1      | 2024-03-01T01:39:47.723Z ERROR 1 --- [           main] com.zaxxer.hikari.pool.HikariPool        : HikariPool-1 - Exception during pool initialization.
api1-1      | 
api1-1      | org.postgresql.util.PSQLException: Connection to postgres:5432 refused. Check that the hostname and port are correct and that the postmaster is accepting TCP/IP connections.
api1-1      | 	at org.postgresql.core.v3.ConnectionFactoryImpl.openConnectionImpl(ConnectionFactoryImpl.java:342) ~[na:na]
api1-1      | 	at org.postgresql.core.ConnectionFactory.openConnection(ConnectionFactory.java:54) ~[server:42.6.0]
api1-1      | 	at org.postgresql.jdbc.PgConnection.<init>(PgConnection.java:263) ~[na:na]
api1-1      | 	at org.postgresql.Driver.makeConnection(Driver.java:443) ~[server:42.6.0]
api1-1      | 	at org.postgresql.Driver.connect(Driver.java:297) ~[server:42.6.0]
api1-1      | 	at com.zaxxer.hikari.util.DriverDataSource.getConnection(DriverDataSource.java:138) ~[na:na]
api1-1      | 	at com.zaxxer.hikari.pool.PoolBase.newConnection(PoolBase.java:359) ~[server:na]
api1-1      | 	at com.zaxxer.hikari.pool.PoolBase.newPoolEntry(PoolBase.java:201) ~[server:na]
api1-1      | 	at com.zaxxer.hikari.pool.HikariPool.createPoolEntry(HikariPool.java:470) ~[server:na]
api1-1      | 	at com.zaxxer.hikari.pool.HikariPool.checkFailFast(HikariPool.java:561) ~[server:na]
api1-1      | 	at com.zaxxer.hikari.pool.HikariPool.<init>(HikariPool.java:100) ~[server:na]
api1-1      | 	at com.zaxxer.hikari.HikariDataSource.getConnection(HikariDataSource.java:112) ~[server:na]
api1-1      | 	at org.flywaydb.core.api.configuration.ClassicConfiguration.setDataSource(ClassicConfiguration.java:1094) ~[server:na]
api1-1      | 	at org.flywaydb.core.api.configuration.FluentConfiguration.dataSource(FluentConfiguration.java:624) ~[server:na]
api1-1      | 	at org.springframework.boot.autoconfigure.flyway.FlywayAutoConfiguration$FlywayConfiguration.configureDataSource(FlywayAutoConfiguration.java:185) ~[server:na]
api1-1      | 	at org.springframework.boot.autoconfigure.flyway.FlywayAutoConfiguration$FlywayConfiguration.flyway(FlywayAutoConfiguration.java:172) ~[server:na]
api1-1      | 	at org.springframework.boot.autoconfigure.flyway.FlywayAutoConfiguration__BeanDefinitions$FlywayConfiguration.lambda$getFlywayInstanceSupplier$3(FlywayAutoConfiguration__BeanDefinitions.java:141) ~[na:na]
api1-1      | 	at org.springframework.util.function.ThrowingBiFunction.apply(ThrowingBiFunction.java:68) ~[server:6.1.3]
api1-1      | 	at org.springframework.util.function.ThrowingBiFunction.apply(ThrowingBiFunction.java:54) ~[server:6.1.3]
api1-1      | 	at org.springframework.beans.factory.aot.BeanInstanceSupplier.lambda$get$2(BeanInstanceSupplier.java:206) ~[na:na]
api1-1      | 	at org.springframework.util.function.ThrowingSupplier.get(ThrowingSupplier.java:58) ~[server:6.1.3]
api1-1      | 	at org.springframework.util.function.ThrowingSupplier.get(ThrowingSupplier.java:46) ~[server:6.1.3]
api1-1      | 	at org.springframework.beans.factory.aot.BeanInstanceSupplier.invokeBeanSupplier(BeanInstanceSupplier.java:218) ~[na:na]
api1-1      | 	at org.springframework.beans.factory.aot.BeanInstanceSupplier.get(BeanInstanceSupplier.java:206) ~[na:na]
api1-1      | 	at org.springframework.beans.factory.support.DefaultListableBeanFactory.obtainInstanceFromSupplier(DefaultListableBeanFactory.java:949) ~[server:6.1.3]
api1-1      | 	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.obtainFromSupplier(AbstractAutowireCapableBeanFactory.java:1216) ~[server:6.1.3]
api1-1      | 	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBeanInstance(AbstractAutowireCapableBeanFactory.java:1160) ~[server:6.1.3]
api1-1      | 	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:561) ~[server:6.1.3]
api1-1      | 	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:521) ~[server:6.1.3]
api1-1      | 	at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:325) ~[server:6.1.3]
api1-1      | 	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:234) ~[server:6.1.3]
api1-1      | 	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:323) ~[server:6.1.3]
api1-1      | 	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:199) ~[server:6.1.3]
api1-1      | 	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:312) ~[server:6.1.3]
api1-1      | 	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:199) ~[server:6.1.3]
api1-1      | 	at org.springframework.context.support.AbstractApplicationContext.getBean(AbstractApplicationContext.java:1231) ~[server:6.1.3]
api1-1      | 	at org.springframework.context.support.AbstractApplicationContext.finishBeanFactoryInitialization(AbstractApplicationContext.java:949) ~[server:6.1.3]
api1-1      | 	at org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:624) ~[server:6.1.3]
api1-1      | 	at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.refresh(ServletWebServerApplicationContext.java:146) ~[server:3.2.2]
api1-1      | 	at org.springframework.boot.SpringApplication.refresh(SpringApplication.java:754) ~[server:3.2.2]
api1-1      | 	at org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:456) ~[server:3.2.2]
api1-1      | 	at org.springframework.boot.SpringApplication.run(SpringApplication.java:334) ~[server:3.2.2]
api1-1      | 	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1354) ~[server:3.2.2]
api1-1      | 	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1343) ~[server:3.2.2]
api1-1      | 	at com.rinhabackend.RinhaBackendApplicationKt.main(RinhaBackendApplication.kt:13) ~[server:na]
api1-1      | 	at java.base@21.0.2/java.lang.invoke.LambdaForm$DMH/sa346b79c.invokeStaticInit(LambdaForm$DMH) ~[na:na]
api1-1      | Caused by: java.net.ConnectException: Connection refused
api1-1      | 	at java.base@21.0.2/sun.nio.ch.Net.pollConnect(Native Method) ~[na:na]
api1-1      | 	at java.base@21.0.2/sun.nio.ch.Net.pollConnectNow(Net.java:682) ~[na:na]
api1-1      | 	at java.base@21.0.2/sun.nio.ch.NioSocketImpl.timedFinishConnect(NioSocketImpl.java:542) ~[na:na]
api1-1      | 	at java.base@21.0.2/sun.nio.ch.NioSocketImpl.connect(NioSocketImpl.java:592) ~[na:na]
api1-1      | 	at java.base@21.0.2/java.net.SocksSocketImpl.connect(SocksSocketImpl.java:327) ~[na:na]
api1-1      | 	at java.base@21.0.2/java.net.Socket.connect(Socket.java:751) ~[server:na]
api1-1      | 	at org.postgresql.core.PGStream.createSocket(PGStream.java:243) ~[server:42.6.0]
api1-1      | 	at org.postgresql.core.PGStream.<init>(PGStream.java:98) ~[server:42.6.0]
api1-1      | 	at org.postgresql.core.v3.ConnectionFactoryImpl.tryConnect(ConnectionFactoryImpl.java:132) ~[na:na]
api1-1      | 	at org.postgresql.core.v3.ConnectionFactoryImpl.openConnectionImpl(ConnectionFactoryImpl.java:258) ~[na:na]
api1-1      | 	... 45 common frames omitted
api1-1      | 
api1-1      | 2024-03-01T01:39:47.725Z  INFO 1 --- [           main] o.f.c.internal.license.VersionPrinter    : Flyway Community Edition 9.22.3 by Redgate
api1-1      | 2024-03-01T01:39:47.725Z  INFO 1 --- [           main] o.f.c.internal.license.VersionPrinter    : See release notes here: https://rd.gt/416ObMi
api1-1      | 2024-03-01T01:39:47.725Z  INFO 1 --- [           main] o.f.c.internal.license.VersionPrinter    : 
api1-1      | 2024-03-01T01:39:47.725Z  WARN 1 --- [           main] o.f.c.i.s.classpath.ClassPathScanner     : Unable to scan location: /migration (unsupported protocol: resource)
api1-1      | 2024-03-01T01:39:47.725Z  WARN 1 --- [           main] o.f.c.i.s.classpath.ClassPathScanner     : Unable to scan location: /migration (unsupported protocol: resource)
api1-1      | 2024-03-01T01:39:47.726Z  INFO 1 --- [           main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Starting...
api2-1      | 2024-03-01T01:39:47.735Z  INFO 1 --- [           main] com.zaxxer.hikari.pool.HikariPool        : HikariPool-1 - Added connection org.postgresql.jdbc.PgConnection@48d77465
api2-1      | 2024-03-01T01:39:47.735Z  INFO 1 --- [           main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Start completed.
api2-1      | 2024-03-01T01:39:47.736Z  INFO 1 --- [           main] org.flywaydb.core.FlywayExecutor         : Database: jdbc:postgresql://postgres:5432/postgres_db (PostgreSQL 16.2)
api2-1      | 2024-03-01T01:39:47.737Z  WARN 1 --- [           main] o.f.c.internal.database.base.Database    : Flyway upgrade recommended: PostgreSQL 16.2 is newer than this version of Flyway and support has not been tested. The latest supported version of PostgreSQL is 15.
api1-1      | 2024-03-01T01:39:47.738Z  INFO 1 --- [           main] com.zaxxer.hikari.pool.HikariPool        : HikariPool-1 - Added connection org.postgresql.jdbc.PgConnection@5903f33e
api1-1      | 2024-03-01T01:39:47.738Z  INFO 1 --- [           main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Start completed.
api1-1      | 2024-03-01T01:39:47.738Z  INFO 1 --- [           main] org.flywaydb.core.FlywayExecutor         : Database: jdbc:postgresql://postgres:5432/postgres_db (PostgreSQL 16.2)
api1-1      | 2024-03-01T01:39:47.739Z  WARN 1 --- [           main] o.f.c.internal.database.base.Database    : Flyway upgrade recommended: PostgreSQL 16.2 is newer than this version of Flyway and support has not been tested. The latest supported version of PostgreSQL is 15.
api2-1      | 2024-03-01T01:39:47.739Z  INFO 1 --- [           main] o.f.c.i.s.JdbcTableSchemaHistory         : Schema history table "public"."flyway_schema_history" does not exist yet
api2-1      | 2024-03-01T01:39:47.740Z  INFO 1 --- [           main] o.f.core.internal.command.DbValidate     : Successfully validated 1 migration (execution time 00:00.001s)
api1-1      | 2024-03-01T01:39:47.740Z  INFO 1 --- [           main] o.f.c.i.s.JdbcTableSchemaHistory         : Schema history table "public"."flyway_schema_history" does not exist yet
api1-1      | 2024-03-01T01:39:47.741Z  INFO 1 --- [           main] o.f.core.internal.command.DbValidate     : Successfully validated 1 migration (execution time 00:00.001s)
api2-1      | 2024-03-01T01:39:47.743Z  INFO 1 --- [           main] o.f.c.i.s.JdbcTableSchemaHistory         : Creating Schema History table "public"."flyway_schema_history" ...
api2-1      | 2024-03-01T01:39:47.755Z  INFO 1 --- [           main] o.f.core.internal.command.DbMigrate      : Current version of schema "public": << Empty Schema >>
api2-1      | 2024-03-01T01:39:47.755Z  INFO 1 --- [           main] o.f.core.internal.command.DbMigrate      : Migrating schema "public" to version "1 - CREATE TABLE"
api2-1      | 2024-03-01T01:39:47.760Z  INFO 1 --- [           main] o.f.core.internal.command.DbMigrate      : Successfully applied 1 migration to schema "public", now at version v1 (execution time 00:00.003s)
api2-1      | 2024-03-01T01:39:47.823Z  INFO 1 --- [           main] o.hibernate.jpa.internal.util.LogHelper  : HHH000204: Processing PersistenceUnitInfo [name: default]
api2-1      | 2024-03-01T01:39:47.826Z  INFO 1 --- [           main] org.hibernate.Version                    : HHH000412: Hibernate ORM core version 6.4.1.Final
api2-1      | 2024-03-01T01:39:47.828Z  INFO 1 --- [           main] o.h.c.internal.RegionFactoryInitiator    : HHH000026: Second-level cache disabled
api2-1      | 2024-03-01T01:39:47.833Z  WARN 1 --- [           main] org.hibernate.orm.deprecation            : HHH90000025: PostgreSQLDialect does not need to be specified explicitly using 'hibernate.dialect' (remove the property setting and it will be selected by default)
api2-1      | 2024-03-01T01:39:47.928Z  INFO 1 --- [           main] o.h.e.t.j.p.i.JtaPlatformInitiator       : HHH000489: No JTA platform available (set 'hibernate.transaction.jta.platform' to enable JTA platform integration)
api2-1      | 2024-03-01T01:39:47.928Z  INFO 1 --- [           main] j.LocalContainerEntityManagerFactoryBean : Initialized JPA EntityManagerFactory for persistence unit 'default'
api2-1      | 2024-03-01T01:39:47.940Z  INFO 1 --- [           main] o.s.d.j.r.query.QueryEnhancerFactory     : Hibernate is in classpath; If applicable, HQL parser will be used.
api2-1      | 2024-03-01T01:39:48.332Z  INFO 1 --- [           main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat started on port 8000 (http) with context path ''
api2-1      | 2024-03-01T01:39:48.333Z  INFO 1 --- [           main] c.r.RinhaBackendApplicationKt            : Started RinhaBackendApplicationKt in 1.915 seconds (process running for 1.983)
api1-1      | 2024-03-01T01:39:48.746Z  INFO 1 --- [           main] o.f.core.internal.command.DbMigrate      : Current version of schema "public": 1
api1-1      | 2024-03-01T01:39:48.746Z  INFO 1 --- [           main] o.f.core.internal.command.DbMigrate      : Schema "public" is up to date. No migration necessary.
api1-1      | 2024-03-01T01:39:48.755Z  INFO 1 --- [           main] o.hibernate.jpa.internal.util.LogHelper  : HHH000204: Processing PersistenceUnitInfo [name: default]
api1-1      | 2024-03-01T01:39:48.757Z  INFO 1 --- [           main] org.hibernate.Version                    : HHH000412: Hibernate ORM core version 6.4.1.Final
api1-1      | 2024-03-01T01:39:48.758Z  INFO 1 --- [           main] o.h.c.internal.RegionFactoryInitiator    : HHH000026: Second-level cache disabled
api1-1      | 2024-03-01T01:39:48.762Z  WARN 1 --- [           main] org.hibernate.orm.deprecation            : HHH90000025: PostgreSQLDialect does not need to be specified explicitly using 'hibernate.dialect' (remove the property setting and it will be selected by default)
api1-1      | 2024-03-01T01:39:48.822Z  INFO 1 --- [           main] o.h.e.t.j.p.i.JtaPlatformInitiator       : HHH000489: No JTA platform available (set 'hibernate.transaction.jta.platform' to enable JTA platform integration)
api1-1      | 2024-03-01T01:39:48.822Z  INFO 1 --- [           main] j.LocalContainerEntityManagerFactoryBean : Initialized JPA EntityManagerFactory for persistence unit 'default'
api1-1      | 2024-03-01T01:39:48.834Z  INFO 1 --- [           main] o.s.d.j.r.query.QueryEnhancerFactory     : Hibernate is in classpath; If applicable, HQL parser will be used.
api1-1      | 2024-03-01T01:39:49.135Z  INFO 1 --- [           main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat started on port 8000 (http) with context path ''
api1-1      | 2024-03-01T01:39:49.136Z  INFO 1 --- [           main] c.r.RinhaBackendApplicationKt            : Started RinhaBackendApplicationKt in 2.778 seconds (process running for 2.782)
api1-1      | 2024-03-01T01:39:49.808Z  INFO 1 --- [nio-8000-exec-1] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring DispatcherServlet 'dispatcherServlet'
api1-1      | 2024-03-01T01:39:49.808Z  INFO 1 --- [nio-8000-exec-1] o.s.web.servlet.DispatcherServlet        : Initializing Servlet 'dispatcherServlet'
api1-1      | 2024-03-01T01:39:49.809Z  INFO 1 --- [nio-8000-exec-1] o.s.web.servlet.DispatcherServlet        : Completed initialization in 1 ms
api2-1      | 2024-03-01T01:39:49.821Z  INFO 1 --- [nio-8000-exec-1] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring DispatcherServlet 'dispatcherServlet'
api2-1      | 2024-03-01T01:39:49.821Z  INFO 1 --- [nio-8000-exec-1] o.s.web.servlet.DispatcherServlet        : Initializing Servlet 'dispatcherServlet'
api2-1      | 2024-03-01T01:39:49.821Z  INFO 1 --- [nio-8000-exec-1] o.s.web.servlet.DispatcherServlet        : Completed initialization in 0 ms
api1-1      | 2024-03-01T01:39:58.767Z  WARN 1 --- [nio-8000-exec-2] .w.s.m.s.DefaultHandlerExceptionResolver : Resolved [org.springframework.http.converter.HttpMessageNotReadableException: JSON parse error: Cannot coerce Floating-point value (1.2) to `int` value (but could if coercion was enabled using `CoercionConfig`)]
api2-1      | 2024-03-01T01:39:58.765Z  WARN 1 --- [nio-8000-exec-9] .w.s.m.s.DefaultHandlerExceptionResolver : Resolved [org.springframework.http.converter.HttpMessageNotReadableException: JSON parse error: Cannot coerce Floating-point value (1.2) to `int` value (but could if coercion was enabled using `CoercionConfig`)]
api1-1      | 2024-03-01T01:39:58.769Z  WARN 1 --- [io-8000-exec-13] .w.s.m.s.DefaultHandlerExceptionResolver : Resolved [org.springframework.http.converter.HttpMessageNotReadableException: JSON parse error: Cannot coerce Floating-point value (1.2) to `int` value (but could if coercion was enabled using `CoercionConfig`)]
api2-1      | 2024-03-01T01:39:58.769Z  WARN 1 --- [nio-8000-exec-6] .w.s.m.s.DefaultHandlerExceptionResolver : Resolved [org.springframework.http.converter.HttpMessageNotReadableException: JSON parse error: Cannot coerce Floating-point value (1.2) to `int` value (but could if coercion was enabled using `CoercionConfig`)]
api2-1      | 2024-03-01T01:39:58.772Z  WARN 1 --- [nio-8000-exec-5] .w.s.m.s.DefaultHandlerExceptionResolver : Resolved [org.springframework.http.converter.HttpMessageNotReadableException: JSON parse error: Cannot coerce Floating-point value (1.2) to `int` value (but could if coercion was enabled using `CoercionConfig`)]
nginx-1 exited with code 0
nginx-1 exited with code 0
api2-1      | 2024-03-01T01:44:02.905Z  INFO 1 --- [ionShutdownHook] j.LocalContainerEntityManagerFactoryBean : Closing JPA EntityManagerFactory for persistence unit 'default'
api2-1      | 2024-03-01T01:44:02.905Z  INFO 1 --- [ionShutdownHook] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown initiated...
api2-1      | 2024-03-01T01:44:02.908Z  INFO 1 --- [ionShutdownHook] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown completed.
api1-1      | 2024-03-01T01:44:02.911Z  INFO 1 --- [ionShutdownHook] j.LocalContainerEntityManagerFactoryBean : Closing JPA EntityManagerFactory for persistence unit 'default'
api1-1      | 2024-03-01T01:44:02.912Z  INFO 1 --- [ionShutdownHook] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown initiated...
api1-1      | 2024-03-01T01:44:02.915Z  INFO 1 --- [ionShutdownHook] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown completed.
api2-1 exited with code 0
api2-1 exited with code 143
api1-1 exited with code 0
api1-1 exited with code 143
postgres-1  | 2024-03-01 01:44:03.697 UTC [1] LOG:  received fast shutdown request
postgres-1  | 2024-03-01 01:44:03.697 UTC [1] LOG:  aborting any active transactions
postgres-1  | 2024-03-01 01:44:03.699 UTC [1] LOG:  background worker "logical replication launcher" (PID 54) exited with exit code 1
postgres-1  | 2024-03-01 01:44:03.699 UTC [49] LOG:  shutting down
postgres-1  | 2024-03-01 01:44:03.699 UTC [49] LOG:  checkpoint starting: shutdown immediate
postgres-1  | 2024-03-01 01:44:03.703 UTC [49] LOG:  checkpoint complete: wrote 734 buffers (4.5%); 0 WAL file(s) added, 0 removed, 1 recycled; write=0.004 s, sync=0.001 s, total=0.005 s; sync files=0, longest=0.000 s, average=0.000 s; distance=16968 kB, estimate=16968 kB; lsn=0/29A5078, redo lsn=0/29A5078
postgres-1  | 2024-03-01 01:44:03.707 UTC [1] LOG:  database system is shut down
postgres-1 exited with code 0
