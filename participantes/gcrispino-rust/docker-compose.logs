 Network rinha-nginx-2024q1-rust  Creating
 Network rinha-nginx-2024q1-rust  Created
 Container gcrispino-rust-db-1  Creating
 Container gcrispino-rust-db-1  Created
 Container gcrispino-rust-rinha-server-2  Creating
 Container gcrispino-rust-rinha-server-1  Creating
 Container gcrispino-rust-rinha-server-1  Created
 Container gcrispino-rust-rinha-server-2  Created
 Container gcrispino-rust-nginx-1  Creating
 Container gcrispino-rust-nginx-1  Created
Attaching to db-1, nginx-1, rinha-server-1, rinha-server-2
db-1            | The files belonging to this database system will be owned by user "postgres".
db-1            | This user must also own the server process.
db-1            | 
db-1            | The database cluster will be initialized with locale "en_US.utf8".
db-1            | The default database encoding has accordingly been set to "UTF8".
db-1            | The default text search configuration will be set to "english".
db-1            | 
db-1            | Data page checksums are disabled.
db-1            | 
db-1            | fixing permissions on existing directory /var/lib/postgresql/data ... ok
db-1            | creating subdirectories ... ok
db-1            | selecting dynamic shared memory implementation ... posix
db-1            | selecting default max_connections ... 100
db-1            | selecting default shared_buffers ... 128MB
db-1            | selecting default time zone ... Etc/UTC
db-1            | creating configuration files ... ok
db-1            | running bootstrap script ... ok
rinha-server-2  | Config: Config { port: 8080, db_n_max_connections: 5, db_conn_string: "postgres://user:password@db/rinha?sslmode=disable" }
db-1            | performing post-bootstrap initialization ... ok
rinha-server-1  | Config: Config { port: 8080, db_n_max_connections: 5, db_conn_string: "postgres://user:password@db/rinha?sslmode=disable" }
db-1            | initdb: warning: enabling "trust" authentication for local connections
db-1            | initdb: hint: You can change this by editing pg_hba.conf or using the option -A, or --auth-local and --auth-host, the next time you run initdb.
db-1            | syncing data to disk ... ok
db-1            | 
db-1            | 
db-1            | Success. You can now start the database server using:
db-1            | 
db-1            |     pg_ctl -D /var/lib/postgresql/data -l logfile start
db-1            | 
db-1            | waiting for server to start....2024-03-10 03:55:09.167 UTC [48] LOG:  starting PostgreSQL 16.2 (Debian 16.2-1.pgdg120+2) on x86_64-pc-linux-gnu, compiled by gcc (Debian 12.2.0-14) 12.2.0, 64-bit
db-1            | 2024-03-10 03:55:09.170 UTC [48] LOG:  listening on Unix socket "/var/run/postgresql/.s.PGSQL.5432"
db-1            | 2024-03-10 03:55:09.179 UTC [51] LOG:  database system was shut down at 2024-03-10 03:55:08 UTC
db-1            | 2024-03-10 03:55:09.185 UTC [48] LOG:  database system is ready to accept connections
db-1            |  done
db-1            | server started
nginx-1         | /docker-entrypoint.sh: /docker-entrypoint.d/ is not empty, will attempt to perform configuration
nginx-1         | /docker-entrypoint.sh: Looking for shell scripts in /docker-entrypoint.d/
nginx-1         | /docker-entrypoint.sh: Launching /docker-entrypoint.d/10-listen-on-ipv6-by-default.sh
nginx-1         | 10-listen-on-ipv6-by-default.sh: info: Getting the checksum of /etc/nginx/conf.d/default.conf
nginx-1         | 10-listen-on-ipv6-by-default.sh: info: Enabled listen on IPv6 in /etc/nginx/conf.d/default.conf
nginx-1         | /docker-entrypoint.sh: Sourcing /docker-entrypoint.d/15-local-resolvers.envsh
nginx-1         | /docker-entrypoint.sh: Launching /docker-entrypoint.d/20-envsubst-on-templates.sh
nginx-1         | /docker-entrypoint.sh: Launching /docker-entrypoint.d/30-tune-worker-processes.sh
nginx-1         | /docker-entrypoint.sh: Configuration complete; ready for start up
db-1            | CREATE DATABASE
db-1            | 
db-1            | 
db-1            | /usr/local/bin/docker-entrypoint.sh: running /docker-entrypoint-initdb.d/script.sql
db-1            | CREATE TABLE
db-1            | CREATE TABLE
db-1            | ALTER TABLE
db-1            | 
db-1            | 
db-1            | /usr/local/bin/docker-entrypoint.sh: running /docker-entrypoint-initdb.d/seeds.sql
db-1            | INSERT 0 5
db-1            | 
db-1            | 
db-1            | waiting for server to shut down....2024-03-10 03:55:09.420 UTC [48] LOG:  received fast shutdown request
db-1            | 2024-03-10 03:55:09.423 UTC [48] LOG:  aborting any active transactions
db-1            | 2024-03-10 03:55:09.425 UTC [48] LOG:  background worker "logical replication launcher" (PID 54) exited with exit code 1
db-1            | 2024-03-10 03:55:09.425 UTC [49] LOG:  shutting down
db-1            | 2024-03-10 03:55:09.428 UTC [49] LOG:  checkpoint starting: shutdown immediate
db-1            | 2024-03-10 03:55:09.888 UTC [49] LOG:  checkpoint complete: wrote 938 buffers (5.7%); 0 WAL file(s) added, 0 removed, 0 recycled; write=0.369 s, sync=0.078 s, total=0.463 s; sync files=307, longest=0.055 s, average=0.001 s; distance=4289 kB, estimate=4289 kB; lsn=0/191B1C8, redo lsn=0/191B1C8
db-1            | 2024-03-10 03:55:09.893 UTC [48] LOG:  database system is shut down
db-1            |  done
db-1            | server stopped
db-1            | 
db-1            | PostgreSQL init process complete; ready for start up.
db-1            | 
db-1            | 2024-03-10 03:55:09.944 UTC [1] LOG:  starting PostgreSQL 16.2 (Debian 16.2-1.pgdg120+2) on x86_64-pc-linux-gnu, compiled by gcc (Debian 12.2.0-14) 12.2.0, 64-bit
db-1            | 2024-03-10 03:55:09.944 UTC [1] LOG:  listening on IPv4 address "0.0.0.0", port 5432
db-1            | 2024-03-10 03:55:09.944 UTC [1] LOG:  listening on IPv6 address "::", port 5432
db-1            | 2024-03-10 03:55:09.950 UTC [1] LOG:  listening on Unix socket "/var/run/postgresql/.s.PGSQL.5432"
db-1            | 2024-03-10 03:55:09.959 UTC [68] LOG:  database system was shut down at 2024-03-10 03:55:09 UTC
db-1            | 2024-03-10 03:55:09.967 UTC [1] LOG:  database system is ready to accept connections
rinha-server-1  | [2024-03-10T03:55:10Z INFO  actix_server::builder] starting 1 workers
rinha-server-1  | [2024-03-10T03:55:10Z INFO  actix_server::server] Tokio runtime found; starting in existing Tokio runtime
rinha-server-2  | [2024-03-10T03:55:10Z INFO  actix_server::builder] starting 1 workers
rinha-server-2  | [2024-03-10T03:55:10Z INFO  actix_server::server] Tokio runtime found; starting in existing Tokio runtime
rinha-server-1  | [2024-03-10T03:55:11Z DEBUG sqlx::query] summary="SELECT c.id as customer_id, …" db.statement="\n\nSELECT\n  c.id as customer_id,\n  c.limit as customer_limit,\n  c.balance as customer_balance,\n  c.created_at as customer_created_at,\n  t.id as transaction_id,\n  t.value as transaction_value,\n  t.type as transaction_type,\n  t.description as transaction_description,\n  t.customer_id as transaction_customer_id,\n  t.created_at as transaction_created_at\nFROM\n  customers c\n  LEFT JOIN transactions t ON c.id = t.customer_id\nWHERE\n  c.id = $1\nORDER BY\n  t.created_at DESC\nLIMIT\n  10\n" rows_affected=1 rows_returned=1 elapsed=1.901282ms
rinha-server-1  | [2024-03-10T03:55:11Z INFO  actix_web::middleware::logger] 172.28.0.5 "GET /clientes/1/extrato HTTP/1.0" 200 108 "-" "curl/7.81.0" 0.002433
nginx-1         | 172.28.0.1 - - [10/Mar/2024:03:55:11 +0000] "GET /clientes/1/extrato HTTP/1.1" 200 108 "-" "curl/7.81.0"
rinha-server-2  | [2024-03-10T03:55:11Z DEBUG sqlx::query] summary="SELECT c.id as customer_id, …" db.statement="\n\nSELECT\n  c.id as customer_id,\n  c.limit as customer_limit,\n  c.balance as customer_balance,\n  c.created_at as customer_created_at,\n  t.id as transaction_id,\n  t.value as transaction_value,\n  t.type as transaction_type,\n  t.description as transaction_description,\n  t.customer_id as transaction_customer_id,\n  t.created_at as transaction_created_at\nFROM\n  customers c\n  LEFT JOIN transactions t ON c.id = t.customer_id\nWHERE\n  c.id = $1\nORDER BY\n  t.created_at DESC\nLIMIT\n  10\n" rows_affected=1 rows_returned=1 elapsed=1.147703ms
rinha-server-2  | [2024-03-10T03:55:11Z INFO  actix_web::middleware::logger] 172.28.0.5 "GET /clientes/1/extrato HTTP/1.0" 200 108 "-" "curl/7.81.0" 0.001560
nginx-1         | 172.28.0.1 - - [10/Mar/2024:03:55:11 +0000] "GET /clientes/1/extrato HTTP/1.1" 200 108 "-" "curl/7.81.0"
rinha-server-2  | [2024-03-10T03:55:15Z DEBUG sqlx::query] summary="with c AS (SELECT …" db.statement="\n\nwith c AS (\n  SELECT\n    *\n  FROM\n    customers c\n  WHERE\n    id = $2\n),\nu AS (\n  UPDATE\n    customers c2\n  SET\n    balance = balance + $1\n  WHERE\n    id = $2\n    AND (balance + $1) >= - \"limit\" RETURNING id,\n    \"limit\",\n    balance\n),\ncu AS (\n  SELECT\n    COUNT(*)\n  FROM\n    u\n)\nSELECT\n  c.limit,\n  c.balance,\n  cu.count as count_update\nFROM\n  c,\n  cu\n" rows_affected=0 rows_returned=1 elapsed=857.682µs
rinha-server-2  | [2024-03-10T03:55:15Z DEBUG sqlx::query] summary="INSERT INTO transactions (value, …" db.statement="\n\nINSERT INTO\n  transactions (value, \"type\", description, customer_id)\nVALUES\n  ($1, $2, $3, $4)\n" rows_affected=1 rows_returned=0 elapsed=5.311977ms
nginx-1         | 172.28.0.1 - - [10/Mar/2024:03:55:15 +0000] "POST /clientes/1/transacoes HTTP/1.1" 200 28 "-" "Agente do Caos - 2024/Q1"
rinha-server-1  | [2024-03-10T03:55:15Z DEBUG sqlx::query] summary="with c AS (SELECT …" db.statement="\n\nwith c AS (\n  SELECT\n    *\n  FROM\n    customers c\n  WHERE\n    id = $2\n),\nu AS (\n  UPDATE\n    customers c2\n  SET\n    balance = balance + $1\n  WHERE\n    id = $2\n    AND (balance + $1) >= - \"limit\" RETURNING id,\n    \"limit\",\n    balance\n),\ncu AS (\n  SELECT\n    COUNT(*)\n  FROM\n    u\n)\nSELECT\n  c.limit,\n  c.balance,\n  cu.count as count_update\nFROM\n  c,\n  cu\n" rows_affected=0 rows_returned=1 elapsed=15.842279ms
rinha-server-2  | [2024-03-10T03:55:15Z DEBUG sqlx::query] summary="COMMIT" db.statement="" rows_affected=0 rows_returned=0 elapsed=8.829042ms
rinha-server-2  | [2024-03-10T03:55:15Z INFO  actix_web::middleware::logger] 172.28.0.5 "POST /clientes/1/transacoes HTTP/1.0" 200 28 "-" "Agente do Caos - 2024/Q1" 0.016274
rinha-server-1  | [2024-03-10T03:55:15Z DEBUG sqlx::query] summary="INSERT INTO transactions (value, …" db.statement="\n\nINSERT INTO\n  transactions (value, \"type\", description, customer_id)\nVALUES\n  ($1, $2, $3, $4)\n" rows_affected=1 rows_returned=0 elapsed=1.484314ms
rinha-server-1  | [2024-03-10T03:55:15Z DEBUG sqlx::query] summary="with c AS (SELECT …" db.statement="\n\nwith c AS (\n  SELECT\n    *\n  FROM\n    customers c\n  WHERE\n    id = $2\n),\nu AS (\n  UPDATE\n    customers c2\n  SET\n    balance = balance + $1\n  WHERE\n    id = $2\n    AND (balance + $1) >= - \"limit\" RETURNING id,\n    \"limit\",\n    balance\n),\ncu AS (\n  SELECT\n    COUNT(*)\n  FROM\n    u\n)\nSELECT\n  c.limit,\n  c.balance,\n  cu.count as count_update\nFROM\n  c,\n  cu\n" rows_affected=0 rows_returned=1 elapsed=17.698456ms
rinha-server-1  | [2024-03-10T03:55:15Z DEBUG sqlx::query] summary="COMMIT" db.statement="" rows_affected=0 rows_returned=0 elapsed=9.289463ms
rinha-server-1  | [2024-03-10T03:55:15Z INFO  actix_web::middleware::logger] 172.28.0.5 "POST /clientes/1/transacoes HTTP/1.0" 200 28 "-" "Agente do Caos - 2024/Q1" 0.029655
nginx-1         | 172.28.0.1 - - [10/Mar/2024:03:55:15 +0000] "POST /clientes/1/transacoes HTTP/1.1" 200 28 "-" "Agente do Caos - 2024/Q1"
rinha-server-1  | [2024-03-10T03:55:15Z DEBUG sqlx::query] summary="INSERT INTO transactions (value, …" db.statement="\n\nINSERT INTO\n  transactions (value, \"type\", description, customer_id)\nVALUES\n  ($1, $2, $3, $4)\n" rows_affected=1 rows_returned=0 elapsed=11.476808ms
rinha-server-2  | [2024-03-10T03:55:15Z DEBUG sqlx::query] summary="with c AS (SELECT …" db.statement="\n\nwith c AS (\n  SELECT\n    *\n  FROM\n    customers c\n  WHERE\n    id = $2\n),\nu AS (\n  UPDATE\n    customers c2\n  SET\n    balance = balance + $1\n  WHERE\n    id = $2\n    AND (balance + $1) >= - \"limit\" RETURNING id,\n    \"limit\",\n    balance\n),\ncu AS (\n  SELECT\n    COUNT(*)\n  FROM\n    u\n)\nSELECT\n  c.limit,\n  c.balance,\n  cu.count as count_update\nFROM\n  c,\n  cu\n" rows_affected=0 rows_returned=1 elapsed=3.602436ms
nginx-1         | 172.28.0.1 - - [10/Mar/2024:03:55:15 +0000] "POST /clientes/1/transacoes HTTP/1.1" 200 28 "-" "Agente do Caos - 2024/Q1"
rinha-server-1  | [2024-03-10T03:55:15Z DEBUG sqlx::query] summary="COMMIT" db.statement="" rows_affected=0 rows_returned=0 elapsed=1.736056ms
rinha-server-1  | [2024-03-10T03:55:15Z INFO  actix_web::middleware::logger] 172.28.0.5 "POST /clientes/1/transacoes HTTP/1.0" 200 28 "-" "Agente do Caos - 2024/Q1" 0.040309
rinha-server-2  | [2024-03-10T03:55:15Z DEBUG sqlx::query] summary="INSERT INTO transactions (value, …" db.statement="\n\nINSERT INTO\n  transactions (value, \"type\", description, customer_id)\nVALUES\n  ($1, $2, $3, $4)\n" rows_affected=1 rows_returned=0 elapsed=1.398604ms
nginx-1         | 172.28.0.1 - - [10/Mar/2024:03:55:15 +0000] "POST /clientes/1/transacoes HTTP/1.1" 200 28 "-" "Agente do Caos - 2024/Q1"
rinha-server-1  | [2024-03-10T03:55:15Z DEBUG sqlx::query] summary="with c AS (SELECT …" db.statement="\n\nwith c AS (\n  SELECT\n    *\n  FROM\n    customers c\n  WHERE\n    id = $2\n),\nu AS (\n  UPDATE\n    customers c2\n  SET\n    balance = balance + $1\n  WHERE\n    id = $2\n    AND (balance + $1) >= - \"limit\" RETURNING id,\n    \"limit\",\n    balance\n),\ncu AS (\n  SELECT\n    COUNT(*)\n  FROM\n    u\n)\nSELECT\n  c.limit,\n  c.balance,\n  cu.count as count_update\nFROM\n  c,\n  cu\n" rows_affected=0 rows_returned=1 elapsed=4.342814ms
rinha-server-2  | [2024-03-10T03:55:15Z DEBUG sqlx::query] summary="COMMIT" db.statement="" rows_affected=0 rows_returned=0 elapsed=2.459814ms
rinha-server-2  | [2024-03-10T03:55:15Z INFO  actix_web::middleware::logger] 172.28.0.5 "POST /clientes/1/transacoes HTTP/1.0" 200 28 "-" "Agente do Caos - 2024/Q1" 0.036412
rinha-server-1  | [2024-03-10T03:55:15Z DEBUG sqlx::query] summary="INSERT INTO transactions (value, …" db.statement="\n\nINSERT INTO\n  transactions (value, \"type\", description, customer_id)\nVALUES\n  ($1, $2, $3, $4)\n" rows_affected=1 rows_returned=0 elapsed=352.182µs
nginx-1         | 172.28.0.1 - - [10/Mar/2024:03:55:15 +0000] "POST /clientes/1/transacoes HTTP/1.1" 200 28 "-" "Agente do Caos - 2024/Q1"
rinha-server-2  | [2024-03-10T03:55:15Z DEBUG sqlx::query] summary="with c AS (SELECT …" db.statement="\n\nwith c AS (\n  SELECT\n    *\n  FROM\n    customers c\n  WHERE\n    id = $2\n),\nu AS (\n  UPDATE\n    customers c2\n  SET\n    balance = balance + $1\n  WHERE\n    id = $2\n    AND (balance + $1) >= - \"limit\" RETURNING id,\n    \"limit\",\n    balance\n),\ncu AS (\n  SELECT\n    COUNT(*)\n  FROM\n    u\n)\nSELECT\n  c.limit,\n  c.balance,\n  cu.count as count_update\nFROM\n  c,\n  cu\n" rows_affected=0 rows_returned=1 elapsed=28.760773ms
rinha-server-1  | [2024-03-10T03:55:15Z DEBUG sqlx::query] summary="COMMIT" db.statement="" rows_affected=0 rows_returned=0 elapsed=2.593723ms
rinha-server-1  | [2024-03-10T03:55:15Z INFO  actix_web::middleware::logger] 172.28.0.5 "POST /clientes/1/transacoes HTTP/1.0" 200 28 "-" "Agente do Caos - 2024/Q1" 0.032108
rinha-server-2  | [2024-03-10T03:55:15Z DEBUG sqlx::query] summary="INSERT INTO transactions (value, …" db.statement="\n\nINSERT INTO\n  transactions (value, \"type\", description, customer_id)\nVALUES\n  ($1, $2, $3, $4)\n" rows_affected=1 rows_returned=0 elapsed=833.111µs
rinha-server-2  | [2024-03-10T03:55:15Z DEBUG sqlx::query] summary="COMMIT" db.statement="" rows_affected=0 rows_returned=0 elapsed=2.369126ms
rinha-server-2  | [2024-03-10T03:55:15Z INFO  actix_web::middleware::logger] 172.28.0.5 "POST /clientes/1/transacoes HTTP/1.0" 200 28 "-" "Agente do Caos - 2024/Q1" 0.051792
rinha-server-2  | [2024-03-10T03:55:15Z DEBUG sqlx::query] summary="with c AS (SELECT …" db.statement="\n\nwith c AS (\n  SELECT\n    *\n  FROM\n    customers c\n  WHERE\n    id = $2\n),\nu AS (\n  UPDATE\n    customers c2\n  SET\n    balance = balance + $1\n  WHERE\n    id = $2\n    AND (balance + $1) >= - \"limit\" RETURNING id,\n    \"limit\",\n    balance\n),\ncu AS (\n  SELECT\n    COUNT(*)\n  FROM\n    u\n)\nSELECT\n  c.limit,\n  c.balance,\n  cu.count as count_update\nFROM\n  c,\n  cu\n" rows_affected=0 rows_returned=1 elapsed=32.850926ms
nginx-1         | 172.28.0.1 - - [10/Mar/2024:03:55:15 +0000] "POST /clientes/1/transacoes HTTP/1.1" 200 28 "-" "Agente do Caos - 2024/Q1"
rinha-server-2  | [2024-03-10T03:55:15Z DEBUG sqlx::query] summary="INSERT INTO transactions (value, …" db.statement="\n\nINSERT INTO\n  transactions (value, \"type\", description, customer_id)\nVALUES\n  ($1, $2, $3, $4)\n" rows_affected=1 rows_returned=0 elapsed=438.596µs
rinha-server-2  | [2024-03-10T03:55:15Z DEBUG sqlx::query] summary="COMMIT" db.statement="" rows_affected=0 rows_returned=0 elapsed=1.843737ms
rinha-server-2  | [2024-03-10T03:55:15Z INFO  actix_web::middleware::logger] 172.28.0.5 "POST /clientes/1/transacoes HTTP/1.0" 200 28 "-" "Agente do Caos - 2024/Q1" 0.039210
rinha-server-1  | [2024-03-10T03:55:15Z DEBUG sqlx::query] summary="with c AS (SELECT …" db.statement="\n\nwith c AS (\n  SELECT\n    *\n  FROM\n    customers c\n  WHERE\n    id = $2\n),\nu AS (\n  UPDATE\n    customers c2\n  SET\n    balance = balance + $1\n  WHERE\n    id = $2\n    AND (balance + $1) >= - \"limit\" RETURNING id,\n    \"limit\",\n    balance\n),\ncu AS (\n  SELECT\n    COUNT(*)\n  FROM\n    u\n)\nSELECT\n  c.limit,\n  c.balance,\n  cu.count as count_update\nFROM\n  c,\n  cu\n" rows_affected=0 rows_returned=1 elapsed=6.130865ms
nginx-1         | 172.28.0.1 - - [10/Mar/2024:03:55:15 +0000] "POST /clientes/1/transacoes HTTP/1.1" 200 28 "-" "Agente do Caos - 2024/Q1"
rinha-server-1  | [2024-03-10T03:55:15Z DEBUG sqlx::query] summary="INSERT INTO transactions (value, …" db.statement="\n\nINSERT INTO\n  transactions (value, \"type\", description, customer_id)\nVALUES\n  ($1, $2, $3, $4)\n" rows_affected=1 rows_returned=0 elapsed=248.277µs
nginx-1         | 172.28.0.1 - - [10/Mar/2024:03:55:15 +0000] "POST /clientes/1/transacoes HTTP/1.1" 200 28 "-" "Agente do Caos - 2024/Q1"
rinha-server-1  | [2024-03-10T03:55:15Z DEBUG sqlx::query] summary="COMMIT" db.statement="" rows_affected=0 rows_returned=0 elapsed=1.404721ms
rinha-server-1  | [2024-03-10T03:55:15Z INFO  actix_web::middleware::logger] 172.28.0.5 "POST /clientes/1/transacoes HTTP/1.0" 200 28 "-" "Agente do Caos - 2024/Q1" 0.040334
rinha-server-1  | [2024-03-10T03:55:15Z DEBUG sqlx::query] summary="with c AS (SELECT …" db.statement="\n\nwith c AS (\n  SELECT\n    *\n  FROM\n    customers c\n  WHERE\n    id = $2\n),\nu AS (\n  UPDATE\n    customers c2\n  SET\n    balance = balance + $1\n  WHERE\n    id = $2\n    AND (balance + $1) >= - \"limit\" RETURNING id,\n    \"limit\",\n    balance\n),\ncu AS (\n  SELECT\n    COUNT(*)\n  FROM\n    u\n)\nSELECT\n  c.limit,\n  c.balance,\n  cu.count as count_update\nFROM\n  c,\n  cu\n" rows_affected=0 rows_returned=1 elapsed=251.877µs
rinha-server-1  | [2024-03-10T03:55:15Z DEBUG sqlx::query] summary="INSERT INTO transactions (value, …" db.statement="\n\nINSERT INTO\n  transactions (value, \"type\", description, customer_id)\nVALUES\n  ($1, $2, $3, $4)\n" rows_affected=1 rows_returned=0 elapsed=315.847µs
rinha-server-2  | [2024-03-10T03:55:15Z DEBUG sqlx::query] summary="with c AS (SELECT …" db.statement="\n\nwith c AS (\n  SELECT\n    *\n  FROM\n    customers c\n  WHERE\n    id = $2\n),\nu AS (\n  UPDATE\n    customers c2\n  SET\n    balance = balance + $1\n  WHERE\n    id = $2\n    AND (balance + $1) >= - \"limit\" RETURNING id,\n    \"limit\",\n    balance\n),\ncu AS (\n  SELECT\n    COUNT(*)\n  FROM\n    u\n)\nSELECT\n  c.limit,\n  c.balance,\n  cu.count as count_update\nFROM\n  c,\n  cu\n" rows_affected=0 rows_returned=1 elapsed=4.731869ms
nginx-1         | 172.28.0.1 - - [10/Mar/2024:03:55:15 +0000] "POST /clientes/1/transacoes HTTP/1.1" 200 28 "-" "Agente do Caos - 2024/Q1"
rinha-server-1  | [2024-03-10T03:55:15Z DEBUG sqlx::query] summary="COMMIT" db.statement="" rows_affected=0 rows_returned=0 elapsed=1.826149ms
rinha-server-1  | [2024-03-10T03:55:15Z INFO  actix_web::middleware::logger] 172.28.0.5 "POST /clientes/1/transacoes HTTP/1.0" 200 28 "-" "Agente do Caos - 2024/Q1" 0.043345
rinha-server-2  | [2024-03-10T03:55:15Z DEBUG sqlx::query] summary="INSERT INTO transactions (value, …" db.statement="\n\nINSERT INTO\n  transactions (value, \"type\", description, customer_id)\nVALUES\n  ($1, $2, $3, $4)\n" rows_affected=1 rows_returned=0 elapsed=272.554µs
nginx-1         | 172.28.0.1 - - [10/Mar/2024:03:55:15 +0000] "POST /clientes/1/transacoes HTTP/1.1" 200 28 "-" "Agente do Caos - 2024/Q1"
rinha-server-2  | [2024-03-10T03:55:15Z DEBUG sqlx::query] summary="COMMIT" db.statement="" rows_affected=0 rows_returned=0 elapsed=2.812586ms
rinha-server-2  | [2024-03-10T03:55:15Z INFO  actix_web::middleware::logger] 172.28.0.5 "POST /clientes/1/transacoes HTTP/1.0" 200 28 "-" "Agente do Caos - 2024/Q1" 0.047439
rinha-server-2  | [2024-03-10T03:55:15Z DEBUG sqlx::query] summary="with c AS (SELECT …" db.statement="\n\nwith c AS (\n  SELECT\n    *\n  FROM\n    customers c\n  WHERE\n    id = $2\n),\nu AS (\n  UPDATE\n    customers c2\n  SET\n    balance = balance + $1\n  WHERE\n    id = $2\n    AND (balance + $1) >= - \"limit\" RETURNING id,\n    \"limit\",\n    balance\n),\ncu AS (\n  SELECT\n    COUNT(*)\n  FROM\n    u\n)\nSELECT\n  c.limit,\n  c.balance,\n  cu.count as count_update\nFROM\n  c,\n  cu\n" rows_affected=0 rows_returned=1 elapsed=18.165446ms
rinha-server-2  | [2024-03-10T03:55:15Z DEBUG sqlx::query] summary="INSERT INTO transactions (value, …" db.statement="\n\nINSERT INTO\n  transactions (value, \"type\", description, customer_id)\nVALUES\n  ($1, $2, $3, $4)\n" rows_affected=1 rows_returned=0 elapsed=342.755µs
nginx-1         | 172.28.0.1 - - [10/Mar/2024:03:55:15 +0000] "POST /clientes/1/transacoes HTTP/1.1" 200 28 "-" "Agente do Caos - 2024/Q1"
rinha-server-2  | [2024-03-10T03:55:15Z DEBUG sqlx::query] summary="COMMIT" db.statement="" rows_affected=0 rows_returned=0 elapsed=2.164694ms
rinha-server-2  | [2024-03-10T03:55:15Z INFO  actix_web::middleware::logger] 172.28.0.5 "POST /clientes/1/transacoes HTTP/1.0" 200 28 "-" "Agente do Caos - 2024/Q1" 0.050732
rinha-server-2  | [2024-03-10T03:55:15Z DEBUG sqlx::query] summary="with c AS (SELECT …" db.statement="\n\nwith c AS (\n  SELECT\n    *\n  FROM\n    customers c\n  WHERE\n    id = $2\n),\nu AS (\n  UPDATE\n    customers c2\n  SET\n    balance = balance + $1\n  WHERE\n    id = $2\n    AND (balance + $1) >= - \"limit\" RETURNING id,\n    \"limit\",\n    balance\n),\ncu AS (\n  SELECT\n    COUNT(*)\n  FROM\n    u\n)\nSELECT\n  c.limit,\n  c.balance,\n  cu.count as count_update\nFROM\n  c,\n  cu\n" rows_affected=0 rows_returned=1 elapsed=26.817789ms
rinha-server-2  | [2024-03-10T03:55:15Z DEBUG sqlx::query] summary="INSERT INTO transactions (value, …" db.statement="\n\nINSERT INTO\n  transactions (value, \"type\", description, customer_id)\nVALUES\n  ($1, $2, $3, $4)\n" rows_affected=1 rows_returned=0 elapsed=728.858µs
rinha-server-1  | [2024-03-10T03:55:15Z DEBUG sqlx::query] summary="with c AS (SELECT …" db.statement="\n\nwith c AS (\n  SELECT\n    *\n  FROM\n    customers c\n  WHERE\n    id = $2\n),\nu AS (\n  UPDATE\n    customers c2\n  SET\n    balance = balance + $1\n  WHERE\n    id = $2\n    AND (balance + $1) >= - \"limit\" RETURNING id,\n    \"limit\",\n    balance\n),\ncu AS (\n  SELECT\n    COUNT(*)\n  FROM\n    u\n)\nSELECT\n  c.limit,\n  c.balance,\n  cu.count as count_update\nFROM\n  c,\n  cu\n" rows_affected=0 rows_returned=1 elapsed=9.777746ms
rinha-server-1  | [2024-03-10T03:55:15Z DEBUG sqlx::query] summary="INSERT INTO transactions (value, …" db.statement="\n\nINSERT INTO\n  transactions (value, \"type\", description, customer_id)\nVALUES\n  ($1, $2, $3, $4)\n" rows_affected=1 rows_returned=0 elapsed=331.109µs
nginx-1         | 172.28.0.1 - - [10/Mar/2024:03:55:15 +0000] "POST /clientes/1/transacoes HTTP/1.1" 200 28 "-" "Agente do Caos - 2024/Q1"
rinha-server-2  | [2024-03-10T03:55:15Z DEBUG sqlx::query] summary="COMMIT" db.statement="" rows_affected=0 rows_returned=0 elapsed=2.157784ms
rinha-server-2  | [2024-03-10T03:55:15Z INFO  actix_web::middleware::logger] 172.28.0.5 "POST /clientes/1/transacoes HTTP/1.0" 200 28 "-" "Agente do Caos - 2024/Q1" 0.054257
nginx-1         | 172.28.0.1 - - [10/Mar/2024:03:55:15 +0000] "POST /clientes/1/transacoes HTTP/1.1" 200 29 "-" "Agente do Caos - 2024/Q1"
rinha-server-1  | [2024-03-10T03:55:15Z DEBUG sqlx::query] summary="COMMIT" db.statement="" rows_affected=0 rows_returned=0 elapsed=1.435127ms
rinha-server-1  | [2024-03-10T03:55:15Z INFO  actix_web::middleware::logger] 172.28.0.5 "POST /clientes/1/transacoes HTTP/1.0" 200 29 "-" "Agente do Caos - 2024/Q1" 0.054893
rinha-server-2  | [2024-03-10T03:55:15Z DEBUG sqlx::query] summary="with c AS (SELECT …" db.statement="\n\nwith c AS (\n  SELECT\n    *\n  FROM\n    customers c\n  WHERE\n    id = $2\n),\nu AS (\n  UPDATE\n    customers c2\n  SET\n    balance = balance + $1\n  WHERE\n    id = $2\n    AND (balance + $1) >= - \"limit\" RETURNING id,\n    \"limit\",\n    balance\n),\ncu AS (\n  SELECT\n    COUNT(*)\n  FROM\n    u\n)\nSELECT\n  c.limit,\n  c.balance,\n  cu.count as count_update\nFROM\n  c,\n  cu\n" rows_affected=0 rows_returned=1 elapsed=4.235142ms
rinha-server-2  | [2024-03-10T03:55:15Z DEBUG sqlx::query] summary="INSERT INTO transactions (value, …" db.statement="\n\nINSERT INTO\n  transactions (value, \"type\", description, customer_id)\nVALUES\n  ($1, $2, $3, $4)\n" rows_affected=1 rows_returned=0 elapsed=369.804µs
nginx-1         | 172.28.0.1 - - [10/Mar/2024:03:55:15 +0000] "POST /clientes/1/transacoes HTTP/1.1" 200 29 "-" "Agente do Caos - 2024/Q1"
rinha-server-2  | [2024-03-10T03:55:15Z DEBUG sqlx::query] summary="COMMIT" db.statement="" rows_affected=0 rows_returned=0 elapsed=2.190212ms
rinha-server-2  | [2024-03-10T03:55:15Z INFO  actix_web::middleware::logger] 172.28.0.5 "POST /clientes/1/transacoes HTTP/1.0" 200 29 "-" "Agente do Caos - 2024/Q1" 0.048425
rinha-server-1  | [2024-03-10T03:55:15Z DEBUG sqlx::query] summary="with c AS (SELECT …" db.statement="\n\nwith c AS (\n  SELECT\n    *\n  FROM\n    customers c\n  WHERE\n    id = $2\n),\nu AS (\n  UPDATE\n    customers c2\n  SET\n    balance = balance + $1\n  WHERE\n    id = $2\n    AND (balance + $1) >= - \"limit\" RETURNING id,\n    \"limit\",\n    balance\n),\ncu AS (\n  SELECT\n    COUNT(*)\n  FROM\n    u\n)\nSELECT\n  c.limit,\n  c.balance,\n  cu.count as count_update\nFROM\n  c,\n  cu\n" rows_affected=0 rows_returned=1 elapsed=36.415491ms
rinha-server-1  | [2024-03-10T03:55:15Z DEBUG sqlx::query] summary="INSERT INTO transactions (value, …" db.statement="\n\nINSERT INTO\n  transactions (value, \"type\", description, customer_id)\nVALUES\n  ($1, $2, $3, $4)\n" rows_affected=1 rows_returned=0 elapsed=911.712µs
rinha-server-1  | [2024-03-10T03:55:15Z DEBUG sqlx::query] summary="COMMIT" db.statement="" rows_affected=0 rows_returned=0 elapsed=7.234697ms
rinha-server-1  | [2024-03-10T03:55:15Z INFO  actix_web::middleware::logger] 172.28.0.5 "POST /clientes/1/transacoes HTTP/1.0" 200 28 "-" "Agente do Caos - 2024/Q1" 0.067619
nginx-1         | 172.28.0.1 - - [10/Mar/2024:03:55:15 +0000] "POST /clientes/1/transacoes HTTP/1.1" 200 28 "-" "Agente do Caos - 2024/Q1"
rinha-server-1  | [2024-03-10T03:55:15Z DEBUG sqlx::query] summary="with c AS (SELECT …" db.statement="\n\nwith c AS (\n  SELECT\n    *\n  FROM\n    customers c\n  WHERE\n    id = $2\n),\nu AS (\n  UPDATE\n    customers c2\n  SET\n    balance = balance + $1\n  WHERE\n    id = $2\n    AND (balance + $1) >= - \"limit\" RETURNING id,\n    \"limit\",\n    balance\n),\ncu AS (\n  SELECT\n    COUNT(*)\n  FROM\n    u\n)\nSELECT\n  c.limit,\n  c.balance,\n  cu.count as count_update\nFROM\n  c,\n  cu\n" rows_affected=0 rows_returned=1 elapsed=11.443844ms
rinha-server-1  | [2024-03-10T03:55:15Z DEBUG sqlx::query] summary="INSERT INTO transactions (value, …" db.statement="\n\nINSERT INTO\n  transactions (value, \"type\", description, customer_id)\nVALUES\n  ($1, $2, $3, $4)\n" rows_affected=1 rows_returned=0 elapsed=365.087µs
nginx-1         | 172.28.0.1 - - [10/Mar/2024:03:55:15 +0000] "POST /clientes/1/transacoes HTTP/1.1" 200 29 "-" "Agente do Caos - 2024/Q1"
rinha-server-1  | [2024-03-10T03:55:15Z DEBUG sqlx::query] summary="COMMIT" db.statement="" rows_affected=0 rows_returned=0 elapsed=2.720588ms
rinha-server-1  | [2024-03-10T03:55:15Z INFO  actix_web::middleware::logger] 172.28.0.5 "POST /clientes/1/transacoes HTTP/1.0" 200 29 "-" "Agente do Caos - 2024/Q1" 0.060319
rinha-server-2  | [2024-03-10T03:55:15Z DEBUG sqlx::query] summary="with c AS (SELECT …" db.statement="\n\nwith c AS (\n  SELECT\n    *\n  FROM\n    customers c\n  WHERE\n    id = $2\n),\nu AS (\n  UPDATE\n    customers c2\n  SET\n    balance = balance + $1\n  WHERE\n    id = $2\n    AND (balance + $1) >= - \"limit\" RETURNING id,\n    \"limit\",\n    balance\n),\ncu AS (\n  SELECT\n    COUNT(*)\n  FROM\n    u\n)\nSELECT\n  c.limit,\n  c.balance,\n  cu.count as count_update\nFROM\n  c,\n  cu\n" rows_affected=0 rows_returned=1 elapsed=34.378536ms
rinha-server-2  | [2024-03-10T03:55:15Z DEBUG sqlx::query] summary="INSERT INTO transactions (value, …" db.statement="\n\nINSERT INTO\n  transactions (value, \"type\", description, customer_id)\nVALUES\n  ($1, $2, $3, $4)\n" rows_affected=1 rows_returned=0 elapsed=238.757µs
nginx-1         | 172.28.0.1 - - [10/Mar/2024:03:55:15 +0000] "POST /clientes/1/transacoes HTTP/1.1" 200 28 "-" "Agente do Caos - 2024/Q1"
rinha-server-2  | [2024-03-10T03:55:15Z DEBUG sqlx::query] summary="COMMIT" db.statement="" rows_affected=0 rows_returned=0 elapsed=2.324116ms
rinha-server-2  | [2024-03-10T03:55:15Z INFO  actix_web::middleware::logger] 172.28.0.5 "POST /clientes/1/transacoes HTTP/1.0" 200 28 "-" "Agente do Caos - 2024/Q1" 0.074815
rinha-server-2  | [2024-03-10T03:55:15Z DEBUG sqlx::query] summary="with c AS (SELECT …" db.statement="\n\nwith c AS (\n  SELECT\n    *\n  FROM\n    customers c\n  WHERE\n    id = $2\n),\nu AS (\n  UPDATE\n    customers c2\n  SET\n    balance = balance + $1\n  WHERE\n    id = $2\n    AND (balance + $1) >= - \"limit\" RETURNING id,\n    \"limit\",\n    balance\n),\ncu AS (\n  SELECT\n    COUNT(*)\n  FROM\n    u\n)\nSELECT\n  c.limit,\n  c.balance,\n  cu.count as count_update\nFROM\n  c,\n  cu\n" rows_affected=0 rows_returned=1 elapsed=49.238628ms
rinha-server-2  | [2024-03-10T03:55:15Z DEBUG sqlx::query] summary="INSERT INTO transactions (value, …" db.statement="\n\nINSERT INTO\n  transactions (value, \"type\", description, customer_id)\nVALUES\n  ($1, $2, $3, $4)\n" rows_affected=1 rows_returned=0 elapsed=816.021µs
rinha-server-2  | [2024-03-10T03:55:15Z DEBUG sqlx::query] summary="COMMIT" db.statement="" rows_affected=0 rows_returned=0 elapsed=1.446659ms
rinha-server-2  | [2024-03-10T03:55:15Z INFO  actix_web::middleware::logger] 172.28.0.5 "POST /clientes/1/transacoes HTTP/1.0" 200 28 "-" "Agente do Caos - 2024/Q1" 0.084800
rinha-server-1  | [2024-03-10T03:55:15Z DEBUG sqlx::query] summary="with c AS (SELECT …" db.statement="\n\nwith c AS (\n  SELECT\n    *\n  FROM\n    customers c\n  WHERE\n    id = $2\n),\nu AS (\n  UPDATE\n    customers c2\n  SET\n    balance = balance + $1\n  WHERE\n    id = $2\n    AND (balance + $1) >= - \"limit\" RETURNING id,\n    \"limit\",\n    balance\n),\ncu AS (\n  SELECT\n    COUNT(*)\n  FROM\n    u\n)\nSELECT\n  c.limit,\n  c.balance,\n  cu.count as count_update\nFROM\n  c,\n  cu\n" rows_affected=0 rows_returned=1 elapsed=73.895814ms
nginx-1         | 172.28.0.1 - - [10/Mar/2024:03:55:15 +0000] "POST /clientes/1/transacoes HTTP/1.1" 200 28 "-" "Agente do Caos - 2024/Q1"
rinha-server-1  | [2024-03-10T03:55:15Z DEBUG sqlx::query] summary="INSERT INTO transactions (value, …" db.statement="\n\nINSERT INTO\n  transactions (value, \"type\", description, customer_id)\nVALUES\n  ($1, $2, $3, $4)\n" rows_affected=1 rows_returned=0 elapsed=960.356µs
rinha-server-1  | [2024-03-10T03:55:15Z DEBUG sqlx::query] summary="COMMIT" db.statement="" rows_affected=0 rows_returned=0 elapsed=1.235287ms
rinha-server-1  | [2024-03-10T03:55:15Z INFO  actix_web::middleware::logger] 172.28.0.5 "POST /clientes/1/transacoes HTTP/1.0" 200 28 "-" "Agente do Caos - 2024/Q1" 0.090525
nginx-1         | 172.28.0.1 - - [10/Mar/2024:03:55:15 +0000] "POST /clientes/1/transacoes HTTP/1.1" 200 28 "-" "Agente do Caos - 2024/Q1"
rinha-server-1  | [2024-03-10T03:55:15Z DEBUG sqlx::query] summary="with c AS (SELECT …" db.statement="\n\nwith c AS (\n  SELECT\n    *\n  FROM\n    customers c\n  WHERE\n    id = $2\n),\nu AS (\n  UPDATE\n    customers c2\n  SET\n    balance = balance + $1\n  WHERE\n    id = $2\n    AND (balance + $1) >= - \"limit\" RETURNING id,\n    \"limit\",\n    balance\n),\ncu AS (\n  SELECT\n    COUNT(*)\n  FROM\n    u\n)\nSELECT\n  c.limit,\n  c.balance,\n  cu.count as count_update\nFROM\n  c,\n  cu\n" rows_affected=0 rows_returned=1 elapsed=11.076989ms
rinha-server-1  | [2024-03-10T03:55:15Z DEBUG sqlx::query] summary="INSERT INTO transactions (value, …" db.statement="\n\nINSERT INTO\n  transactions (value, \"type\", description, customer_id)\nVALUES\n  ($1, $2, $3, $4)\n" rows_affected=1 rows_returned=0 elapsed=212.119µs
rinha-server-1  | [2024-03-10T03:55:15Z DEBUG sqlx::query] summary="COMMIT" db.statement="" rows_affected=0 rows_returned=0 elapsed=1.373943ms
rinha-server-1  | [2024-03-10T03:55:15Z INFO  actix_web::middleware::logger] 172.28.0.5 "POST /clientes/1/transacoes HTTP/1.0" 200 29 "-" "Agente do Caos - 2024/Q1" 0.070894
nginx-1         | 172.28.0.1 - - [10/Mar/2024:03:55:15 +0000] "POST /clientes/1/transacoes HTTP/1.1" 200 29 "-" "Agente do Caos - 2024/Q1"
rinha-server-2  | [2024-03-10T03:55:15Z DEBUG sqlx::query] summary="with c AS (SELECT …" db.statement="\n\nwith c AS (\n  SELECT\n    *\n  FROM\n    customers c\n  WHERE\n    id = $2\n),\nu AS (\n  UPDATE\n    customers c2\n  SET\n    balance = balance + $1\n  WHERE\n    id = $2\n    AND (balance + $1) >= - \"limit\" RETURNING id,\n    \"limit\",\n    balance\n),\ncu AS (\n  SELECT\n    COUNT(*)\n  FROM\n    u\n)\nSELECT\n  c.limit,\n  c.balance,\n  cu.count as count_update\nFROM\n  c,\n  cu\n" rows_affected=0 rows_returned=1 elapsed=28.187451ms
rinha-server-2  | [2024-03-10T03:55:15Z DEBUG sqlx::query] summary="INSERT INTO transactions (value, …" db.statement="\n\nINSERT INTO\n  transactions (value, \"type\", description, customer_id)\nVALUES\n  ($1, $2, $3, $4)\n" rows_affected=1 rows_returned=0 elapsed=215.819µs
rinha-server-2  | [2024-03-10T03:55:15Z DEBUG sqlx::query] summary="COMMIT" db.statement="" rows_affected=0 rows_returned=0 elapsed=1.434922ms
rinha-server-2  | [2024-03-10T03:55:15Z INFO  actix_web::middleware::logger] 172.28.0.5 "POST /clientes/1/transacoes HTTP/1.0" 200 29 "-" "Agente do Caos - 2024/Q1" 0.073552
nginx-1         | 172.28.0.1 - - [10/Mar/2024:03:55:15 +0000] "POST /clientes/1/transacoes HTTP/1.1" 200 29 "-" "Agente do Caos - 2024/Q1"
rinha-server-2  | [2024-03-10T03:55:15Z DEBUG sqlx::query] summary="with c AS (SELECT …" db.statement="\n\nwith c AS (\n  SELECT\n    *\n  FROM\n    customers c\n  WHERE\n    id = $2\n),\nu AS (\n  UPDATE\n    customers c2\n  SET\n    balance = balance + $1\n  WHERE\n    id = $2\n    AND (balance + $1) >= - \"limit\" RETURNING id,\n    \"limit\",\n    balance\n),\ncu AS (\n  SELECT\n    COUNT(*)\n  FROM\n    u\n)\nSELECT\n  c.limit,\n  c.balance,\n  cu.count as count_update\nFROM\n  c,\n  cu\n" rows_affected=0 rows_returned=1 elapsed=36.325596ms
rinha-server-2  | [2024-03-10T03:55:15Z DEBUG sqlx::query] summary="INSERT INTO transactions (value, …" db.statement="\n\nINSERT INTO\n  transactions (value, \"type\", description, customer_id)\nVALUES\n  ($1, $2, $3, $4)\n" rows_affected=1 rows_returned=0 elapsed=566.578µs
rinha-server-2  | [2024-03-10T03:55:15Z DEBUG sqlx::query] summary="COMMIT" db.statement="" rows_affected=0 rows_returned=0 elapsed=1.275988ms
rinha-server-2  | [2024-03-10T03:55:15Z INFO  actix_web::middleware::logger] 172.28.0.5 "POST /clientes/1/transacoes HTTP/1.0" 200 29 "-" "Agente do Caos - 2024/Q1" 0.085039
nginx-1         | 172.28.0.1 - - [10/Mar/2024:03:55:15 +0000] "POST /clientes/1/transacoes HTTP/1.1" 200 29 "-" "Agente do Caos - 2024/Q1"
rinha-server-1  | [2024-03-10T03:55:15Z DEBUG sqlx::query] summary="with c AS (SELECT …" db.statement="\n\nwith c AS (\n  SELECT\n    *\n  FROM\n    customers c\n  WHERE\n    id = $2\n),\nu AS (\n  UPDATE\n    customers c2\n  SET\n    balance = balance + $1\n  WHERE\n    id = $2\n    AND (balance + $1) >= - \"limit\" RETURNING id,\n    \"limit\",\n    balance\n),\ncu AS (\n  SELECT\n    COUNT(*)\n  FROM\n    u\n)\nSELECT\n  c.limit,\n  c.balance,\n  cu.count as count_update\nFROM\n  c,\n  cu\n" rows_affected=0 rows_returned=1 elapsed=14.594092ms
rinha-server-1  | [2024-03-10T03:55:15Z DEBUG sqlx::query] summary="INSERT INTO transactions (value, …" db.statement="\n\nINSERT INTO\n  transactions (value, \"type\", description, customer_id)\nVALUES\n  ($1, $2, $3, $4)\n" rows_affected=1 rows_returned=0 elapsed=174.03µs
rinha-server-1  | [2024-03-10T03:55:15Z DEBUG sqlx::query] summary="COMMIT" db.statement="" rows_affected=0 rows_returned=0 elapsed=2.413069ms
rinha-server-1  | [2024-03-10T03:55:15Z INFO  actix_web::middleware::logger] 172.28.0.5 "POST /clientes/1/transacoes HTTP/1.0" 200 29 "-" "Agente do Caos - 2024/Q1" 0.078263
nginx-1         | 172.28.0.1 - - [10/Mar/2024:03:55:15 +0000] "POST /clientes/1/transacoes HTTP/1.1" 200 29 "-" "Agente do Caos - 2024/Q1"
rinha-server-1  | [2024-03-10T03:55:15Z DEBUG sqlx::query] summary="with c AS (SELECT …" db.statement="\n\nwith c AS (\n  SELECT\n    *\n  FROM\n    customers c\n  WHERE\n    id = $2\n),\nu AS (\n  UPDATE\n    customers c2\n  SET\n    balance = balance + $1\n  WHERE\n    id = $2\n    AND (balance + $1) >= - \"limit\" RETURNING id,\n    \"limit\",\n    balance\n),\ncu AS (\n  SELECT\n    COUNT(*)\n  FROM\n    u\n)\nSELECT\n  c.limit,\n  c.balance,\n  cu.count as count_update\nFROM\n  c,\n  cu\n" rows_affected=0 rows_returned=1 elapsed=66.394626ms
rinha-server-1  | [2024-03-10T03:55:15Z DEBUG sqlx::query] summary="INSERT INTO transactions (value, …" db.statement="\n\nINSERT INTO\n  transactions (value, \"type\", description, customer_id)\nVALUES\n  ($1, $2, $3, $4)\n" rows_affected=1 rows_returned=0 elapsed=753.706µs
rinha-server-1  | [2024-03-10T03:55:15Z DEBUG sqlx::query] summary="COMMIT" db.statement="" rows_affected=0 rows_returned=0 elapsed=1.263194ms
rinha-server-1  | [2024-03-10T03:55:15Z INFO  actix_web::middleware::logger] 172.28.0.5 "POST /clientes/1/transacoes HTTP/1.0" 200 28 "-" "Agente do Caos - 2024/Q1" 0.099727
nginx-1         | 172.28.0.1 - - [10/Mar/2024:03:55:15 +0000] "POST /clientes/1/transacoes HTTP/1.1" 200 28 "-" "Agente do Caos - 2024/Q1"
rinha-server-1  | [2024-03-10T03:55:15Z DEBUG sqlx::query] summary="with c AS (SELECT …" db.statement="\n\nwith c AS (\n  SELECT\n    *\n  FROM\n    customers c\n  WHERE\n    id = $2\n),\nu AS (\n  UPDATE\n    customers c2\n  SET\n    balance = balance + $1\n  WHERE\n    id = $2\n    AND (balance + $1) >= - \"limit\" RETURNING id,\n    \"limit\",\n    balance\n),\ncu AS (\n  SELECT\n    COUNT(*)\n  FROM\n    u\n)\nSELECT\n  c.limit,\n  c.balance,\n  cu.count as count_update\nFROM\n  c,\n  cu\n" rows_affected=0 rows_returned=1 elapsed=68.757308ms
rinha-server-1  | [2024-03-10T03:55:15Z DEBUG sqlx::query] summary="INSERT INTO transactions (value, …" db.statement="\n\nINSERT INTO\n  transactions (value, \"type\", description, customer_id)\nVALUES\n  ($1, $2, $3, $4)\n" rows_affected=1 rows_returned=0 elapsed=224.792µs
rinha-server-1  | [2024-03-10T03:55:15Z DEBUG sqlx::query] summary="COMMIT" db.statement="" rows_affected=0 rows_returned=0 elapsed=1.250873ms
rinha-server-1  | [2024-03-10T03:55:15Z INFO  actix_web::middleware::logger] 172.28.0.5 "POST /clientes/1/transacoes HTTP/1.0" 200 28 "-" "Agente do Caos - 2024/Q1" 0.093874
nginx-1         | 172.28.0.1 - - [10/Mar/2024:03:55:15 +0000] "POST /clientes/1/transacoes HTTP/1.1" 200 28 "-" "Agente do Caos - 2024/Q1"
rinha-server-2  | [2024-03-10T03:55:16Z DEBUG sqlx::query] summary="SELECT c.id as customer_id, …" db.statement="\n\nSELECT\n  c.id as customer_id,\n  c.limit as customer_limit,\n  c.balance as customer_balance,\n  c.created_at as customer_created_at,\n  t.id as transaction_id,\n  t.value as transaction_value,\n  t.type as transaction_type,\n  t.description as transaction_description,\n  t.customer_id as transaction_customer_id,\n  t.created_at as transaction_created_at\nFROM\n  customers c\n  LEFT JOIN transactions t ON c.id = t.customer_id\nWHERE\n  c.id = $1\nORDER BY\n  t.created_at DESC\nLIMIT\n  10\n" rows_affected=10 rows_returned=10 elapsed=1.07213ms
rinha-server-2  | [2024-03-10T03:55:16Z INFO  actix_web::middleware::logger] 172.28.0.5 "GET /clientes/1/extrato HTTP/1.0" 200 1019 "-" "Agente do Caos - 2024/Q1" 0.001490
nginx-1         | 172.28.0.1 - - [10/Mar/2024:03:55:16 +0000] "GET /clientes/1/extrato HTTP/1.1" 200 1019 "-" "Agente do Caos - 2024/Q1"
rinha-server-2  | [2024-03-10T03:55:17Z DEBUG sqlx::query] summary="with c AS (SELECT …" db.statement="\n\nwith c AS (\n  SELECT\n    *\n  FROM\n    customers c\n  WHERE\n    id = $2\n),\nu AS (\n  UPDATE\n    customers c2\n  SET\n    balance = balance + $1\n  WHERE\n    id = $2\n    AND (balance + $1) >= - \"limit\" RETURNING id,\n    \"limit\",\n    balance\n),\ncu AS (\n  SELECT\n    COUNT(*)\n  FROM\n    u\n)\nSELECT\n  c.limit,\n  c.balance,\n  cu.count as count_update\nFROM\n  c,\n  cu\n" rows_affected=0 rows_returned=1 elapsed=492.445µs
rinha-server-2  | [2024-03-10T03:55:17Z DEBUG sqlx::query] summary="INSERT INTO transactions (value, …" db.statement="\n\nINSERT INTO\n  transactions (value, \"type\", description, customer_id)\nVALUES\n  ($1, $2, $3, $4)\n" rows_affected=1 rows_returned=0 elapsed=511.495µs
rinha-server-2  | [2024-03-10T03:55:17Z DEBUG sqlx::query] summary="COMMIT" db.statement="" rows_affected=0 rows_returned=0 elapsed=1.796265ms
rinha-server-2  | [2024-03-10T03:55:17Z INFO  actix_web::middleware::logger] 172.28.0.5 "POST /clientes/1/transacoes HTTP/1.0" 200 29 "-" "Agente do Caos - 2024/Q1" 0.003446
nginx-1         | 172.28.0.1 - - [10/Mar/2024:03:55:17 +0000] "POST /clientes/1/transacoes HTTP/1.1" 200 29 "-" "Agente do Caos - 2024/Q1"
rinha-server-1  | [2024-03-10T03:55:17Z DEBUG sqlx::query] summary="with c AS (SELECT …" db.statement="\n\nwith c AS (\n  SELECT\n    *\n  FROM\n    customers c\n  WHERE\n    id = $2\n),\nu AS (\n  UPDATE\n    customers c2\n  SET\n    balance = balance + $1\n  WHERE\n    id = $2\n    AND (balance + $1) >= - \"limit\" RETURNING id,\n    \"limit\",\n    balance\n),\ncu AS (\n  SELECT\n    COUNT(*)\n  FROM\n    u\n)\nSELECT\n  c.limit,\n  c.balance,\n  cu.count as count_update\nFROM\n  c,\n  cu\n" rows_affected=0 rows_returned=1 elapsed=2.412482ms
rinha-server-1  | [2024-03-10T03:55:17Z DEBUG sqlx::query] summary="INSERT INTO transactions (value, …" db.statement="\n\nINSERT INTO\n  transactions (value, \"type\", description, customer_id)\nVALUES\n  ($1, $2, $3, $4)\n" rows_affected=1 rows_returned=0 elapsed=321.225µs
nginx-1         | 172.28.0.1 - - [10/Mar/2024:03:55:17 +0000] "POST /clientes/1/transacoes HTTP/1.1" 200 29 "-" "Agente do Caos - 2024/Q1"
rinha-server-2  | [2024-03-10T03:55:17Z DEBUG sqlx::query] summary="with c AS (SELECT …" db.statement="\n\nwith c AS (\n  SELECT\n    *\n  FROM\n    customers c\n  WHERE\n    id = $2\n),\nu AS (\n  UPDATE\n    customers c2\n  SET\n    balance = balance + $1\n  WHERE\n    id = $2\n    AND (balance + $1) >= - \"limit\" RETURNING id,\n    \"limit\",\n    balance\n),\ncu AS (\n  SELECT\n    COUNT(*)\n  FROM\n    u\n)\nSELECT\n  c.limit,\n  c.balance,\n  cu.count as count_update\nFROM\n  c,\n  cu\n" rows_affected=0 rows_returned=1 elapsed=3.856758ms
rinha-server-2  | [2024-03-10T03:55:17Z DEBUG sqlx::query] summary="INSERT INTO transactions (value, …" db.statement="\n\nINSERT INTO\n  transactions (value, \"type\", description, customer_id)\nVALUES\n  ($1, $2, $3, $4)\n" rows_affected=1 rows_returned=0 elapsed=440.413µs
rinha-server-1  | [2024-03-10T03:55:17Z DEBUG sqlx::query] summary="COMMIT" db.statement="" rows_affected=0 rows_returned=0 elapsed=1.464801ms
rinha-server-1  | [2024-03-10T03:55:17Z INFO  actix_web::middleware::logger] 172.28.0.5 "POST /clientes/1/transacoes HTTP/1.0" 200 29 "-" "Agente do Caos - 2024/Q1" 0.004884
nginx-1         | 172.28.0.1 - - [10/Mar/2024:03:55:17 +0000] "POST /clientes/1/transacoes HTTP/1.1" 200 29 "-" "Agente do Caos - 2024/Q1"
rinha-server-2  | [2024-03-10T03:55:17Z DEBUG sqlx::query] summary="COMMIT" db.statement="" rows_affected=0 rows_returned=0 elapsed=2.128588ms
rinha-server-2  | [2024-03-10T03:55:17Z INFO  actix_web::middleware::logger] 172.28.0.5 "POST /clientes/1/transacoes HTTP/1.0" 200 29 "-" "Agente do Caos - 2024/Q1" 0.008098
rinha-server-1  | [2024-03-10T03:55:17Z DEBUG sqlx::query] summary="with c AS (SELECT …" db.statement="\n\nwith c AS (\n  SELECT\n    *\n  FROM\n    customers c\n  WHERE\n    id = $2\n),\nu AS (\n  UPDATE\n    customers c2\n  SET\n    balance = balance + $1\n  WHERE\n    id = $2\n    AND (balance + $1) >= - \"limit\" RETURNING id,\n    \"limit\",\n    balance\n),\ncu AS (\n  SELECT\n    COUNT(*)\n  FROM\n    u\n)\nSELECT\n  c.limit,\n  c.balance,\n  cu.count as count_update\nFROM\n  c,\n  cu\n" rows_affected=0 rows_returned=1 elapsed=4.450994ms
rinha-server-1  | [2024-03-10T03:55:17Z DEBUG sqlx::query] summary="INSERT INTO transactions (value, …" db.statement="\n\nINSERT INTO\n  transactions (value, \"type\", description, customer_id)\nVALUES\n  ($1, $2, $3, $4)\n" rows_affected=1 rows_returned=0 elapsed=560.694µs
rinha-server-1  | [2024-03-10T03:55:17Z DEBUG sqlx::query] summary="COMMIT" db.statement="" rows_affected=0 rows_returned=0 elapsed=1.923148ms
rinha-server-1  | [2024-03-10T03:55:17Z INFO  actix_web::middleware::logger] 172.28.0.5 "POST /clientes/1/transacoes HTTP/1.0" 200 29 "-" "Agente do Caos - 2024/Q1" 0.007709
nginx-1         | 172.28.0.1 - - [10/Mar/2024:03:55:17 +0000] "POST /clientes/1/transacoes HTTP/1.1" 200 29 "-" "Agente do Caos - 2024/Q1"
rinha-server-1  | [2024-03-10T03:55:17Z DEBUG sqlx::query] summary="with c AS (SELECT …" db.statement="\n\nwith c AS (\n  SELECT\n    *\n  FROM\n    customers c\n  WHERE\n    id = $2\n),\nu AS (\n  UPDATE\n    customers c2\n  SET\n    balance = balance + $1\n  WHERE\n    id = $2\n    AND (balance + $1) >= - \"limit\" RETURNING id,\n    \"limit\",\n    balance\n),\ncu AS (\n  SELECT\n    COUNT(*)\n  FROM\n    u\n)\nSELECT\n  c.limit,\n  c.balance,\n  cu.count as count_update\nFROM\n  c,\n  cu\n" rows_affected=0 rows_returned=1 elapsed=10.154561ms
rinha-server-1  | [2024-03-10T03:55:17Z DEBUG sqlx::query] summary="INSERT INTO transactions (value, …" db.statement="\n\nINSERT INTO\n  transactions (value, \"type\", description, customer_id)\nVALUES\n  ($1, $2, $3, $4)\n" rows_affected=1 rows_returned=0 elapsed=242.375µs
rinha-server-1  | [2024-03-10T03:55:17Z DEBUG sqlx::query] summary="COMMIT" db.statement="" rows_affected=0 rows_returned=0 elapsed=1.792356ms
rinha-server-1  | [2024-03-10T03:55:17Z INFO  actix_web::middleware::logger] 172.28.0.5 "POST /clientes/1/transacoes HTTP/1.0" 200 29 "-" "Agente do Caos - 2024/Q1" 0.014153
nginx-1         | 172.28.0.1 - - [10/Mar/2024:03:55:17 +0000] "POST /clientes/1/transacoes HTTP/1.1" 200 29 "-" "Agente do Caos - 2024/Q1"
rinha-server-1  | [2024-03-10T03:55:17Z DEBUG sqlx::query] summary="with c AS (SELECT …" db.statement="\n\nwith c AS (\n  SELECT\n    *\n  FROM\n    customers c\n  WHERE\n    id = $2\n),\nu AS (\n  UPDATE\n    customers c2\n  SET\n    balance = balance + $1\n  WHERE\n    id = $2\n    AND (balance + $1) >= - \"limit\" RETURNING id,\n    \"limit\",\n    balance\n),\ncu AS (\n  SELECT\n    COUNT(*)\n  FROM\n    u\n)\nSELECT\n  c.limit,\n  c.balance,\n  cu.count as count_update\nFROM\n  c,\n  cu\n" rows_affected=0 rows_returned=1 elapsed=8.203042ms
rinha-server-1  | [2024-03-10T03:55:17Z DEBUG sqlx::query] summary="INSERT INTO transactions (value, …" db.statement="\n\nINSERT INTO\n  transactions (value, \"type\", description, customer_id)\nVALUES\n  ($1, $2, $3, $4)\n" rows_affected=1 rows_returned=0 elapsed=185.15µs
rinha-server-1  | [2024-03-10T03:55:17Z DEBUG sqlx::query] summary="COMMIT" db.statement="" rows_affected=0 rows_returned=0 elapsed=1.67396ms
rinha-server-1  | [2024-03-10T03:55:17Z INFO  actix_web::middleware::logger] 172.28.0.5 "POST /clientes/1/transacoes HTTP/1.0" 200 29 "-" "Agente do Caos - 2024/Q1" 0.011236
nginx-1         | 172.28.0.1 - - [10/Mar/2024:03:55:17 +0000] "POST /clientes/1/transacoes HTTP/1.1" 200 29 "-" "Agente do Caos - 2024/Q1"
rinha-server-2  | [2024-03-10T03:55:17Z DEBUG sqlx::query] summary="with c AS (SELECT …" db.statement="\n\nwith c AS (\n  SELECT\n    *\n  FROM\n    customers c\n  WHERE\n    id = $2\n),\nu AS (\n  UPDATE\n    customers c2\n  SET\n    balance = balance + $1\n  WHERE\n    id = $2\n    AND (balance + $1) >= - \"limit\" RETURNING id,\n    \"limit\",\n    balance\n),\ncu AS (\n  SELECT\n    COUNT(*)\n  FROM\n    u\n)\nSELECT\n  c.limit,\n  c.balance,\n  cu.count as count_update\nFROM\n  c,\n  cu\n" rows_affected=0 rows_returned=1 elapsed=12.136859ms
rinha-server-2  | [2024-03-10T03:55:17Z DEBUG sqlx::query] summary="INSERT INTO transactions (value, …" db.statement="\n\nINSERT INTO\n  transactions (value, \"type\", description, customer_id)\nVALUES\n  ($1, $2, $3, $4)\n" rows_affected=1 rows_returned=0 elapsed=245.159µs
rinha-server-2  | [2024-03-10T03:55:17Z DEBUG sqlx::query] summary="COMMIT" db.statement="" rows_affected=0 rows_returned=0 elapsed=1.593327ms
rinha-server-2  | [2024-03-10T03:55:17Z INFO  actix_web::middleware::logger] 172.28.0.5 "POST /clientes/1/transacoes HTTP/1.0" 200 29 "-" "Agente do Caos - 2024/Q1" 0.014508
nginx-1         | 172.28.0.1 - - [10/Mar/2024:03:55:17 +0000] "POST /clientes/1/transacoes HTTP/1.1" 200 29 "-" "Agente do Caos - 2024/Q1"
rinha-server-1  | [2024-03-10T03:55:17Z DEBUG sqlx::query] summary="with c AS (SELECT …" db.statement="\n\nwith c AS (\n  SELECT\n    *\n  FROM\n    customers c\n  WHERE\n    id = $2\n),\nu AS (\n  UPDATE\n    customers c2\n  SET\n    balance = balance + $1\n  WHERE\n    id = $2\n    AND (balance + $1) >= - \"limit\" RETURNING id,\n    \"limit\",\n    balance\n),\ncu AS (\n  SELECT\n    COUNT(*)\n  FROM\n    u\n)\nSELECT\n  c.limit,\n  c.balance,\n  cu.count as count_update\nFROM\n  c,\n  cu\n" rows_affected=0 rows_returned=1 elapsed=18.164856ms
rinha-server-1  | [2024-03-10T03:55:17Z DEBUG sqlx::query] summary="INSERT INTO transactions (value, …" db.statement="\n\nINSERT INTO\n  transactions (value, \"type\", description, customer_id)\nVALUES\n  ($1, $2, $3, $4)\n" rows_affected=1 rows_returned=0 elapsed=312.568µs
rinha-server-1  | [2024-03-10T03:55:17Z DEBUG sqlx::query] summary="COMMIT" db.statement="" rows_affected=0 rows_returned=0 elapsed=1.704083ms
rinha-server-1  | [2024-03-10T03:55:17Z INFO  actix_web::middleware::logger] 172.28.0.5 "POST /clientes/1/transacoes HTTP/1.0" 200 29 "-" "Agente do Caos - 2024/Q1" 0.020773
nginx-1         | 172.28.0.1 - - [10/Mar/2024:03:55:17 +0000] "POST /clientes/1/transacoes HTTP/1.1" 200 29 "-" "Agente do Caos - 2024/Q1"
rinha-server-1  | [2024-03-10T03:55:17Z DEBUG sqlx::query] summary="with c AS (SELECT …" db.statement="\n\nwith c AS (\n  SELECT\n    *\n  FROM\n    customers c\n  WHERE\n    id = $2\n),\nu AS (\n  UPDATE\n    customers c2\n  SET\n    balance = balance + $1\n  WHERE\n    id = $2\n    AND (balance + $1) >= - \"limit\" RETURNING id,\n    \"limit\",\n    balance\n),\ncu AS (\n  SELECT\n    COUNT(*)\n  FROM\n    u\n)\nSELECT\n  c.limit,\n  c.balance,\n  cu.count as count_update\nFROM\n  c,\n  cu\n" rows_affected=0 rows_returned=1 elapsed=18.706822ms
rinha-server-1  | [2024-03-10T03:55:17Z DEBUG sqlx::query] summary="INSERT INTO transactions (value, …" db.statement="\n\nINSERT INTO\n  transactions (value, \"type\", description, customer_id)\nVALUES\n  ($1, $2, $3, $4)\n" rows_affected=1 rows_returned=0 elapsed=302.507µs
nginx-1         | 172.28.0.1 - - [10/Mar/2024:03:55:17 +0000] "POST /clientes/1/transacoes HTTP/1.1" 200 29 "-" "Agente do Caos - 2024/Q1"
rinha-server-1  | [2024-03-10T03:55:17Z DEBUG sqlx::query] summary="COMMIT" db.statement="" rows_affected=0 rows_returned=0 elapsed=1.441229ms
rinha-server-1  | [2024-03-10T03:55:17Z INFO  actix_web::middleware::logger] 172.28.0.5 "POST /clientes/1/transacoes HTTP/1.0" 200 29 "-" "Agente do Caos - 2024/Q1" 0.021018
rinha-server-2  | [2024-03-10T03:55:17Z DEBUG sqlx::query] summary="with c AS (SELECT …" db.statement="\n\nwith c AS (\n  SELECT\n    *\n  FROM\n    customers c\n  WHERE\n    id = $2\n),\nu AS (\n  UPDATE\n    customers c2\n  SET\n    balance = balance + $1\n  WHERE\n    id = $2\n    AND (balance + $1) >= - \"limit\" RETURNING id,\n    \"limit\",\n    balance\n),\ncu AS (\n  SELECT\n    COUNT(*)\n  FROM\n    u\n)\nSELECT\n  c.limit,\n  c.balance,\n  cu.count as count_update\nFROM\n  c,\n  cu\n" rows_affected=0 rows_returned=1 elapsed=17.94429ms
rinha-server-2  | [2024-03-10T03:55:17Z DEBUG sqlx::query] summary="INSERT INTO transactions (value, …" db.statement="\n\nINSERT INTO\n  transactions (value, \"type\", description, customer_id)\nVALUES\n  ($1, $2, $3, $4)\n" rows_affected=1 rows_returned=0 elapsed=350.036µs
rinha-server-2  | [2024-03-10T03:55:17Z DEBUG sqlx::query] summary="COMMIT" db.statement="" rows_affected=0 rows_returned=0 elapsed=1.478878ms
rinha-server-2  | [2024-03-10T03:55:17Z INFO  actix_web::middleware::logger] 172.28.0.5 "POST /clientes/1/transacoes HTTP/1.0" 200 29 "-" "Agente do Caos - 2024/Q1" 0.020273
nginx-1         | 172.28.0.1 - - [10/Mar/2024:03:55:17 +0000] "POST /clientes/1/transacoes HTTP/1.1" 200 29 "-" "Agente do Caos - 2024/Q1"
rinha-server-1  | [2024-03-10T03:55:17Z DEBUG sqlx::query] summary="with c AS (SELECT …" db.statement="\n\nwith c AS (\n  SELECT\n    *\n  FROM\n    customers c\n  WHERE\n    id = $2\n),\nu AS (\n  UPDATE\n    customers c2\n  SET\n    balance = balance + $1\n  WHERE\n    id = $2\n    AND (balance + $1) >= - \"limit\" RETURNING id,\n    \"limit\",\n    balance\n),\ncu AS (\n  SELECT\n    COUNT(*)\n  FROM\n    u\n)\nSELECT\n  c.limit,\n  c.balance,\n  cu.count as count_update\nFROM\n  c,\n  cu\n" rows_affected=0 rows_returned=1 elapsed=13.653211ms
rinha-server-1  | [2024-03-10T03:55:17Z DEBUG sqlx::query] summary="INSERT INTO transactions (value, …" db.statement="\n\nINSERT INTO\n  transactions (value, \"type\", description, customer_id)\nVALUES\n  ($1, $2, $3, $4)\n" rows_affected=1 rows_returned=0 elapsed=444.098µs
rinha-server-1  | [2024-03-10T03:55:17Z DEBUG sqlx::query] summary="COMMIT" db.statement="" rows_affected=0 rows_returned=0 elapsed=1.417156ms
rinha-server-1  | [2024-03-10T03:55:17Z INFO  actix_web::middleware::logger] 172.28.0.5 "POST /clientes/1/transacoes HTTP/1.0" 200 29 "-" "Agente do Caos - 2024/Q1" 0.022631
nginx-1         | 172.28.0.1 - - [10/Mar/2024:03:55:17 +0000] "POST /clientes/1/transacoes HTTP/1.1" 200 29 "-" "Agente do Caos - 2024/Q1"
rinha-server-2  | [2024-03-10T03:55:17Z DEBUG sqlx::query] summary="with c AS (SELECT …" db.statement="\n\nwith c AS (\n  SELECT\n    *\n  FROM\n    customers c\n  WHERE\n    id = $2\n),\nu AS (\n  UPDATE\n    customers c2\n  SET\n    balance = balance + $1\n  WHERE\n    id = $2\n    AND (balance + $1) >= - \"limit\" RETURNING id,\n    \"limit\",\n    balance\n),\ncu AS (\n  SELECT\n    COUNT(*)\n  FROM\n    u\n)\nSELECT\n  c.limit,\n  c.balance,\n  cu.count as count_update\nFROM\n  c,\n  cu\n" rows_affected=0 rows_returned=1 elapsed=26.754357ms
rinha-server-2  | [2024-03-10T03:55:17Z DEBUG sqlx::query] summary="INSERT INTO transactions (value, …" db.statement="\n\nINSERT INTO\n  transactions (value, \"type\", description, customer_id)\nVALUES\n  ($1, $2, $3, $4)\n" rows_affected=1 rows_returned=0 elapsed=343.134µs
rinha-server-2  | [2024-03-10T03:55:17Z DEBUG sqlx::query] summary="COMMIT" db.statement="" rows_affected=0 rows_returned=0 elapsed=1.311357ms
rinha-server-2  | [2024-03-10T03:55:17Z INFO  actix_web::middleware::logger] 172.28.0.5 "POST /clientes/1/transacoes HTTP/1.0" 200 29 "-" "Agente do Caos - 2024/Q1" 0.028995
nginx-1         | 172.28.0.1 - - [10/Mar/2024:03:55:17 +0000] "POST /clientes/1/transacoes HTTP/1.1" 200 29 "-" "Agente do Caos - 2024/Q1"
rinha-server-2  | [2024-03-10T03:55:17Z DEBUG sqlx::query] summary="with c AS (SELECT …" db.statement="\n\nwith c AS (\n  SELECT\n    *\n  FROM\n    customers c\n  WHERE\n    id = $2\n),\nu AS (\n  UPDATE\n    customers c2\n  SET\n    balance = balance + $1\n  WHERE\n    id = $2\n    AND (balance + $1) >= - \"limit\" RETURNING id,\n    \"limit\",\n    balance\n),\ncu AS (\n  SELECT\n    COUNT(*)\n  FROM\n    u\n)\nSELECT\n  c.limit,\n  c.balance,\n  cu.count as count_update\nFROM\n  c,\n  cu\n" rows_affected=0 rows_returned=1 elapsed=27.160177ms
rinha-server-2  | [2024-03-10T03:55:17Z DEBUG sqlx::query] summary="INSERT INTO transactions (value, …" db.statement="\n\nINSERT INTO\n  transactions (value, \"type\", description, customer_id)\nVALUES\n  ($1, $2, $3, $4)\n" rows_affected=1 rows_returned=0 elapsed=269.774µs
rinha-server-2  | [2024-03-10T03:55:17Z DEBUG sqlx::query] summary="COMMIT" db.statement="" rows_affected=0 rows_returned=0 elapsed=1.31117ms
rinha-server-2  | [2024-03-10T03:55:17Z INFO  actix_web::middleware::logger] 172.28.0.5 "POST /clientes/1/transacoes HTTP/1.0" 200 29 "-" "Agente do Caos - 2024/Q1" 0.029278
nginx-1         | 172.28.0.1 - - [10/Mar/2024:03:55:17 +0000] "POST /clientes/1/transacoes HTTP/1.1" 200 29 "-" "Agente do Caos - 2024/Q1"
rinha-server-2  | [2024-03-10T03:55:17Z DEBUG sqlx::query] summary="with c AS (SELECT …" db.statement="\n\nwith c AS (\n  SELECT\n    *\n  FROM\n    customers c\n  WHERE\n    id = $2\n),\nu AS (\n  UPDATE\n    customers c2\n  SET\n    balance = balance + $1\n  WHERE\n    id = $2\n    AND (balance + $1) >= - \"limit\" RETURNING id,\n    \"limit\",\n    balance\n),\ncu AS (\n  SELECT\n    COUNT(*)\n  FROM\n    u\n)\nSELECT\n  c.limit,\n  c.balance,\n  cu.count as count_update\nFROM\n  c,\n  cu\n" rows_affected=0 rows_returned=1 elapsed=6.159925ms
rinha-server-2  | [2024-03-10T03:55:17Z DEBUG sqlx::query] summary="INSERT INTO transactions (value, …" db.statement="\n\nINSERT INTO\n  transactions (value, \"type\", description, customer_id)\nVALUES\n  ($1, $2, $3, $4)\n" rows_affected=1 rows_returned=0 elapsed=293.766µs
nginx-1         | 172.28.0.1 - - [10/Mar/2024:03:55:17 +0000] "POST /clientes/1/transacoes HTTP/1.1" 200 29 "-" "Agente do Caos - 2024/Q1"
rinha-server-2  | [2024-03-10T03:55:17Z DEBUG sqlx::query] summary="COMMIT" db.statement="" rows_affected=0 rows_returned=0 elapsed=1.217815ms
rinha-server-2  | [2024-03-10T03:55:17Z INFO  actix_web::middleware::logger] 172.28.0.5 "POST /clientes/1/transacoes HTTP/1.0" 200 29 "-" "Agente do Caos - 2024/Q1" 0.027240
rinha-server-1  | [2024-03-10T03:55:17Z DEBUG sqlx::query] summary="with c AS (SELECT …" db.statement="\n\nwith c AS (\n  SELECT\n    *\n  FROM\n    customers c\n  WHERE\n    id = $2\n),\nu AS (\n  UPDATE\n    customers c2\n  SET\n    balance = balance + $1\n  WHERE\n    id = $2\n    AND (balance + $1) >= - \"limit\" RETURNING id,\n    \"limit\",\n    balance\n),\ncu AS (\n  SELECT\n    COUNT(*)\n  FROM\n    u\n)\nSELECT\n  c.limit,\n  c.balance,\n  cu.count as count_update\nFROM\n  c,\n  cu\n" rows_affected=0 rows_returned=1 elapsed=5.831777ms
rinha-server-1  | [2024-03-10T03:55:17Z DEBUG sqlx::query] summary="INSERT INTO transactions (value, …" db.statement="\n\nINSERT INTO\n  transactions (value, \"type\", description, customer_id)\nVALUES\n  ($1, $2, $3, $4)\n" rows_affected=1 rows_returned=0 elapsed=272.157µs
rinha-server-1  | [2024-03-10T03:55:17Z DEBUG sqlx::query] summary="COMMIT" db.statement="" rows_affected=0 rows_returned=0 elapsed=1.691759ms
rinha-server-1  | [2024-03-10T03:55:17Z INFO  actix_web::middleware::logger] 172.28.0.5 "POST /clientes/1/transacoes HTTP/1.0" 200 29 "-" "Agente do Caos - 2024/Q1" 0.026826
nginx-1         | 172.28.0.1 - - [10/Mar/2024:03:55:17 +0000] "POST /clientes/1/transacoes HTTP/1.1" 200 29 "-" "Agente do Caos - 2024/Q1"
rinha-server-1  | [2024-03-10T03:55:17Z DEBUG sqlx::query] summary="with c AS (SELECT …" db.statement="\n\nwith c AS (\n  SELECT\n    *\n  FROM\n    customers c\n  WHERE\n    id = $2\n),\nu AS (\n  UPDATE\n    customers c2\n  SET\n    balance = balance + $1\n  WHERE\n    id = $2\n    AND (balance + $1) >= - \"limit\" RETURNING id,\n    \"limit\",\n    balance\n),\ncu AS (\n  SELECT\n    COUNT(*)\n  FROM\n    u\n)\nSELECT\n  c.limit,\n  c.balance,\n  cu.count as count_update\nFROM\n  c,\n  cu\n" rows_affected=0 rows_returned=1 elapsed=20.221972ms
rinha-server-1  | [2024-03-10T03:55:17Z DEBUG sqlx::query] summary="INSERT INTO transactions (value, …" db.statement="\n\nINSERT INTO\n  transactions (value, \"type\", description, customer_id)\nVALUES\n  ($1, $2, $3, $4)\n" rows_affected=1 rows_returned=0 elapsed=266.012µs
rinha-server-1  | [2024-03-10T03:55:17Z DEBUG sqlx::query] summary="COMMIT" db.statement="" rows_affected=0 rows_returned=0 elapsed=1.609953ms
rinha-server-1  | [2024-03-10T03:55:17Z INFO  actix_web::middleware::logger] 172.28.0.5 "POST /clientes/1/transacoes HTTP/1.0" 200 29 "-" "Agente do Caos - 2024/Q1" 0.033084
nginx-1         | 172.28.0.1 - - [10/Mar/2024:03:55:17 +0000] "POST /clientes/1/transacoes HTTP/1.1" 200 29 "-" "Agente do Caos - 2024/Q1"
rinha-server-2  | [2024-03-10T03:55:17Z DEBUG sqlx::query] summary="with c AS (SELECT …" db.statement="\n\nwith c AS (\n  SELECT\n    *\n  FROM\n    customers c\n  WHERE\n    id = $2\n),\nu AS (\n  UPDATE\n    customers c2\n  SET\n    balance = balance + $1\n  WHERE\n    id = $2\n    AND (balance + $1) >= - \"limit\" RETURNING id,\n    \"limit\",\n    balance\n),\ncu AS (\n  SELECT\n    COUNT(*)\n  FROM\n    u\n)\nSELECT\n  c.limit,\n  c.balance,\n  cu.count as count_update\nFROM\n  c,\n  cu\n" rows_affected=0 rows_returned=1 elapsed=20.572173ms
rinha-server-2  | [2024-03-10T03:55:17Z DEBUG sqlx::query] summary="INSERT INTO transactions (value, …" db.statement="\n\nINSERT INTO\n  transactions (value, \"type\", description, customer_id)\nVALUES\n  ($1, $2, $3, $4)\n" rows_affected=1 rows_returned=0 elapsed=211.832µs
rinha-server-2  | [2024-03-10T03:55:17Z DEBUG sqlx::query] summary="COMMIT" db.statement="" rows_affected=0 rows_returned=0 elapsed=1.261036ms
rinha-server-2  | [2024-03-10T03:55:17Z INFO  actix_web::middleware::logger] 172.28.0.5 "POST /clientes/1/transacoes HTTP/1.0" 200 29 "-" "Agente do Caos - 2024/Q1" 0.035390
nginx-1         | 172.28.0.1 - - [10/Mar/2024:03:55:17 +0000] "POST /clientes/1/transacoes HTTP/1.1" 200 29 "-" "Agente do Caos - 2024/Q1"
rinha-server-1  | [2024-03-10T03:55:17Z DEBUG sqlx::query] summary="with c AS (SELECT …" db.statement="\n\nwith c AS (\n  SELECT\n    *\n  FROM\n    customers c\n  WHERE\n    id = $2\n),\nu AS (\n  UPDATE\n    customers c2\n  SET\n    balance = balance + $1\n  WHERE\n    id = $2\n    AND (balance + $1) >= - \"limit\" RETURNING id,\n    \"limit\",\n    balance\n),\ncu AS (\n  SELECT\n    COUNT(*)\n  FROM\n    u\n)\nSELECT\n  c.limit,\n  c.balance,\n  cu.count as count_update\nFROM\n  c,\n  cu\n" rows_affected=0 rows_returned=1 elapsed=19.196843ms
rinha-server-1  | [2024-03-10T03:55:17Z DEBUG sqlx::query] summary="INSERT INTO transactions (value, …" db.statement="\n\nINSERT INTO\n  transactions (value, \"type\", description, customer_id)\nVALUES\n  ($1, $2, $3, $4)\n" rows_affected=1 rows_returned=0 elapsed=231.012µs
rinha-server-1  | [2024-03-10T03:55:17Z DEBUG sqlx::query] summary="COMMIT" db.statement="" rows_affected=0 rows_returned=0 elapsed=2.306701ms
rinha-server-1  | [2024-03-10T03:55:17Z INFO  actix_web::middleware::logger] 172.28.0.5 "POST /clientes/1/transacoes HTTP/1.0" 200 29 "-" "Agente do Caos - 2024/Q1" 0.037408
nginx-1         | 172.28.0.1 - - [10/Mar/2024:03:55:17 +0000] "POST /clientes/1/transacoes HTTP/1.1" 200 29 "-" "Agente do Caos - 2024/Q1"
rinha-server-1  | [2024-03-10T03:55:17Z DEBUG sqlx::query] summary="with c AS (SELECT …" db.statement="\n\nwith c AS (\n  SELECT\n    *\n  FROM\n    customers c\n  WHERE\n    id = $2\n),\nu AS (\n  UPDATE\n    customers c2\n  SET\n    balance = balance + $1\n  WHERE\n    id = $2\n    AND (balance + $1) >= - \"limit\" RETURNING id,\n    \"limit\",\n    balance\n),\ncu AS (\n  SELECT\n    COUNT(*)\n  FROM\n    u\n)\nSELECT\n  c.limit,\n  c.balance,\n  cu.count as count_update\nFROM\n  c,\n  cu\n" rows_affected=0 rows_returned=1 elapsed=20.560024ms
rinha-server-1  | [2024-03-10T03:55:17Z DEBUG sqlx::query] summary="INSERT INTO transactions (value, …" db.statement="\n\nINSERT INTO\n  transactions (value, \"type\", description, customer_id)\nVALUES\n  ($1, $2, $3, $4)\n" rows_affected=1 rows_returned=0 elapsed=300.98µs
rinha-server-1  | [2024-03-10T03:55:17Z DEBUG sqlx::query] summary="COMMIT" db.statement="" rows_affected=0 rows_returned=0 elapsed=2.654341ms
rinha-server-1  | [2024-03-10T03:55:17Z INFO  actix_web::middleware::logger] 172.28.0.5 "POST /clientes/1/transacoes HTTP/1.0" 200 29 "-" "Agente do Caos - 2024/Q1" 0.039882
nginx-1         | 172.28.0.1 - - [10/Mar/2024:03:55:17 +0000] "POST /clientes/1/transacoes HTTP/1.1" 200 29 "-" "Agente do Caos - 2024/Q1"
rinha-server-1  | [2024-03-10T03:55:17Z DEBUG sqlx::query] summary="with c AS (SELECT …" db.statement="\n\nwith c AS (\n  SELECT\n    *\n  FROM\n    customers c\n  WHERE\n    id = $2\n),\nu AS (\n  UPDATE\n    customers c2\n  SET\n    balance = balance + $1\n  WHERE\n    id = $2\n    AND (balance + $1) >= - \"limit\" RETURNING id,\n    \"limit\",\n    balance\n),\ncu AS (\n  SELECT\n    COUNT(*)\n  FROM\n    u\n)\nSELECT\n  c.limit,\n  c.balance,\n  cu.count as count_update\nFROM\n  c,\n  cu\n" rows_affected=0 rows_returned=1 elapsed=10.206892ms
rinha-server-1  | [2024-03-10T03:55:17Z DEBUG sqlx::query] summary="INSERT INTO transactions (value, …" db.statement="\n\nINSERT INTO\n  transactions (value, \"type\", description, customer_id)\nVALUES\n  ($1, $2, $3, $4)\n" rows_affected=1 rows_returned=0 elapsed=306.944µs
rinha-server-1  | [2024-03-10T03:55:17Z DEBUG sqlx::query] summary="COMMIT" db.statement="" rows_affected=0 rows_returned=0 elapsed=1.568372ms
rinha-server-1  | [2024-03-10T03:55:17Z INFO  actix_web::middleware::logger] 172.28.0.5 "POST /clientes/1/transacoes HTTP/1.0" 200 28 "-" "Agente do Caos - 2024/Q1" 0.039737
nginx-1         | 172.28.0.1 - - [10/Mar/2024:03:55:17 +0000] "POST /clientes/1/transacoes HTTP/1.1" 200 28 "-" "Agente do Caos - 2024/Q1"
rinha-server-2  | [2024-03-10T03:55:17Z DEBUG sqlx::query] summary="with c AS (SELECT …" db.statement="\n\nwith c AS (\n  SELECT\n    *\n  FROM\n    customers c\n  WHERE\n    id = $2\n),\nu AS (\n  UPDATE\n    customers c2\n  SET\n    balance = balance + $1\n  WHERE\n    id = $2\n    AND (balance + $1) >= - \"limit\" RETURNING id,\n    \"limit\",\n    balance\n),\ncu AS (\n  SELECT\n    COUNT(*)\n  FROM\n    u\n)\nSELECT\n  c.limit,\n  c.balance,\n  cu.count as count_update\nFROM\n  c,\n  cu\n" rows_affected=0 rows_returned=1 elapsed=16.112675ms
rinha-server-2  | [2024-03-10T03:55:17Z DEBUG sqlx::query] summary="INSERT INTO transactions (value, …" db.statement="\n\nINSERT INTO\n  transactions (value, \"type\", description, customer_id)\nVALUES\n  ($1, $2, $3, $4)\n" rows_affected=1 rows_returned=0 elapsed=230.537µs
rinha-server-2  | [2024-03-10T03:55:17Z DEBUG sqlx::query] summary="COMMIT" db.statement="" rows_affected=0 rows_returned=0 elapsed=1.285913ms
rinha-server-2  | [2024-03-10T03:55:17Z INFO  actix_web::middleware::logger] 172.28.0.5 "POST /clientes/1/transacoes HTTP/1.0" 200 29 "-" "Agente do Caos - 2024/Q1" 0.041994
nginx-1         | 172.28.0.1 - - [10/Mar/2024:03:55:17 +0000] "POST /clientes/1/transacoes HTTP/1.1" 200 29 "-" "Agente do Caos - 2024/Q1"
rinha-server-2  | [2024-03-10T03:55:17Z DEBUG sqlx::query] summary="with c AS (SELECT …" db.statement="\n\nwith c AS (\n  SELECT\n    *\n  FROM\n    customers c\n  WHERE\n    id = $2\n),\nu AS (\n  UPDATE\n    customers c2\n  SET\n    balance = balance + $1\n  WHERE\n    id = $2\n    AND (balance + $1) >= - \"limit\" RETURNING id,\n    \"limit\",\n    balance\n),\ncu AS (\n  SELECT\n    COUNT(*)\n  FROM\n    u\n)\nSELECT\n  c.limit,\n  c.balance,\n  cu.count as count_update\nFROM\n  c,\n  cu\n" rows_affected=0 rows_returned=1 elapsed=43.376324ms
rinha-server-2  | [2024-03-10T03:55:17Z DEBUG sqlx::query] summary="INSERT INTO transactions (value, …" db.statement="\n\nINSERT INTO\n  transactions (value, \"type\", description, customer_id)\nVALUES\n  ($1, $2, $3, $4)\n" rows_affected=1 rows_returned=0 elapsed=209.696µs
rinha-server-2  | [2024-03-10T03:55:17Z DEBUG sqlx::query] summary="COMMIT" db.statement="" rows_affected=0 rows_returned=0 elapsed=1.672779ms
rinha-server-2  | [2024-03-10T03:55:17Z INFO  actix_web::middleware::logger] 172.28.0.5 "POST /clientes/1/transacoes HTTP/1.0" 200 29 "-" "Agente do Caos - 2024/Q1" 0.048979
nginx-1         | 172.28.0.1 - - [10/Mar/2024:03:55:17 +0000] "POST /clientes/1/transacoes HTTP/1.1" 200 29 "-" "Agente do Caos - 2024/Q1"
rinha-server-2  | [2024-03-10T03:55:17Z DEBUG sqlx::query] summary="with c AS (SELECT …" db.statement="\n\nwith c AS (\n  SELECT\n    *\n  FROM\n    customers c\n  WHERE\n    id = $2\n),\nu AS (\n  UPDATE\n    customers c2\n  SET\n    balance = balance + $1\n  WHERE\n    id = $2\n    AND (balance + $1) >= - \"limit\" RETURNING id,\n    \"limit\",\n    balance\n),\ncu AS (\n  SELECT\n    COUNT(*)\n  FROM\n    u\n)\nSELECT\n  c.limit,\n  c.balance,\n  cu.count as count_update\nFROM\n  c,\n  cu\n" rows_affected=0 rows_returned=1 elapsed=21.969775ms
rinha-server-2  | [2024-03-10T03:55:17Z DEBUG sqlx::query] summary="INSERT INTO transactions (value, …" db.statement="\n\nINSERT INTO\n  transactions (value, \"type\", description, customer_id)\nVALUES\n  ($1, $2, $3, $4)\n" rows_affected=1 rows_returned=0 elapsed=275.695µs
rinha-server-2  | [2024-03-10T03:55:17Z DEBUG sqlx::query] summary="COMMIT" db.statement="" rows_affected=0 rows_returned=0 elapsed=1.262599ms
rinha-server-2  | [2024-03-10T03:55:17Z INFO  actix_web::middleware::logger] 172.28.0.5 "POST /clientes/1/transacoes HTTP/1.0" 200 29 "-" "Agente do Caos - 2024/Q1" 0.048222
nginx-1         | 172.28.0.1 - - [10/Mar/2024:03:55:17 +0000] "POST /clientes/1/transacoes HTTP/1.1" 200 29 "-" "Agente do Caos - 2024/Q1"
rinha-server-1  | [2024-03-10T03:55:17Z DEBUG sqlx::query] summary="with c AS (SELECT …" db.statement="\n\nwith c AS (\n  SELECT\n    *\n  FROM\n    customers c\n  WHERE\n    id = $2\n),\nu AS (\n  UPDATE\n    customers c2\n  SET\n    balance = balance + $1\n  WHERE\n    id = $2\n    AND (balance + $1) >= - \"limit\" RETURNING id,\n    \"limit\",\n    balance\n),\ncu AS (\n  SELECT\n    COUNT(*)\n  FROM\n    u\n)\nSELECT\n  c.limit,\n  c.balance,\n  cu.count as count_update\nFROM\n  c,\n  cu\n" rows_affected=0 rows_returned=1 elapsed=41.985328ms
rinha-server-1  | [2024-03-10T03:55:17Z DEBUG sqlx::query] summary="INSERT INTO transactions (value, …" db.statement="\n\nINSERT INTO\n  transactions (value, \"type\", description, customer_id)\nVALUES\n  ($1, $2, $3, $4)\n" rows_affected=1 rows_returned=0 elapsed=254.657µs
rinha-server-1  | [2024-03-10T03:55:17Z DEBUG sqlx::query] summary="COMMIT" db.statement="" rows_affected=0 rows_returned=0 elapsed=1.764213ms
rinha-server-1  | [2024-03-10T03:55:17Z INFO  actix_web::middleware::logger] 172.28.0.5 "POST /clientes/1/transacoes HTTP/1.0" 200 29 "-" "Agente do Caos - 2024/Q1" 0.053252
nginx-1         | 172.28.0.1 - - [10/Mar/2024:03:55:17 +0000] "POST /clientes/1/transacoes HTTP/1.1" 200 29 "-" "Agente do Caos - 2024/Q1"
rinha-server-2  | [2024-03-10T03:55:17Z DEBUG sqlx::query] summary="with c AS (SELECT …" db.statement="\n\nwith c AS (\n  SELECT\n    *\n  FROM\n    customers c\n  WHERE\n    id = $2\n),\nu AS (\n  UPDATE\n    customers c2\n  SET\n    balance = balance + $1\n  WHERE\n    id = $2\n    AND (balance + $1) >= - \"limit\" RETURNING id,\n    \"limit\",\n    balance\n),\ncu AS (\n  SELECT\n    COUNT(*)\n  FROM\n    u\n)\nSELECT\n  c.limit,\n  c.balance,\n  cu.count as count_update\nFROM\n  c,\n  cu\n" rows_affected=0 rows_returned=1 elapsed=28.552957ms
rinha-server-2  | [2024-03-10T03:55:17Z DEBUG sqlx::query] summary="INSERT INTO transactions (value, …" db.statement="\n\nINSERT INTO\n  transactions (value, \"type\", description, customer_id)\nVALUES\n  ($1, $2, $3, $4)\n" rows_affected=1 rows_returned=0 elapsed=223.308µs
rinha-server-2  | [2024-03-10T03:55:17Z DEBUG sqlx::query] summary="COMMIT" db.statement="" rows_affected=0 rows_returned=0 elapsed=1.831118ms
rinha-server-2  | [2024-03-10T03:55:17Z INFO  actix_web::middleware::logger] 172.28.0.5 "POST /clientes/1/transacoes HTTP/1.0" 200 29 "-" "Agente do Caos - 2024/Q1" 0.054588
nginx-1         | 172.28.0.1 - - [10/Mar/2024:03:55:17 +0000] "POST /clientes/1/transacoes HTTP/1.1" 200 29 "-" "Agente do Caos - 2024/Q1"
rinha-server-2  | [2024-03-10T03:55:18Z DEBUG sqlx::query] summary="SELECT c.id as customer_id, …" db.statement="\n\nSELECT\n  c.id as customer_id,\n  c.limit as customer_limit,\n  c.balance as customer_balance,\n  c.created_at as customer_created_at,\n  t.id as transaction_id,\n  t.value as transaction_value,\n  t.type as transaction_type,\n  t.description as transaction_description,\n  t.customer_id as transaction_customer_id,\n  t.created_at as transaction_created_at\nFROM\n  customers c\n  LEFT JOIN transactions t ON c.id = t.customer_id\nWHERE\n  c.id = $1\nORDER BY\n  t.created_at DESC\nLIMIT\n  10\n" rows_affected=10 rows_returned=10 elapsed=321.402µs
rinha-server-2  | [2024-03-10T03:55:18Z INFO  actix_web::middleware::logger] 172.28.0.5 "GET /clientes/1/extrato HTTP/1.0" 200 1014 "-" "Agente do Caos - 2024/Q1" 0.000716
nginx-1         | 172.28.0.1 - - [10/Mar/2024:03:55:18 +0000] "GET /clientes/1/extrato HTTP/1.1" 200 1014 "-" "Agente do Caos - 2024/Q1"
rinha-server-1  | FMT! !
rinha-server-1  | [2024-03-10T03:55:19Z DEBUG sqlx::query] summary="SELECT c.id as customer_id, …" db.statement="\n\nSELECT\n  c.id as customer_id,\n  c.limit as customer_limit,\n  c.balance as customer_balance,\n  c.created_at as customer_created_at,\n  t.id as transaction_id,\n  t.value as transaction_value,\n  t.type as transaction_type,\n  t.description as transaction_description,\n  t.customer_id as transaction_customer_id,\n  t.created_at as transaction_created_at\nFROM\n  customers c\n  LEFT JOIN transactions t ON c.id = t.customer_id\nWHERE\n  c.id = $1\nORDER BY\n  t.created_at DESC\nLIMIT\n  10\n" rows_affected=0 rows_returned=0 elapsed=1.185411ms
rinha-server-1  | [2024-03-10T03:55:19Z DEBUG actix_web::middleware::logger] Error in response: ErrCustomerNotFound
rinha-server-1  | [2024-03-10T03:55:19Z INFO  actix_web::middleware::logger] 172.28.0.5 "GET /clientes/6/extrato HTTP/1.0" 404 18 "-" "Agente do Caos - 2024/Q1" 0.001674
nginx-1         | 172.28.0.1 - - [10/Mar/2024:03:55:19 +0000] "GET /clientes/6/extrato HTTP/1.1" 404 18 "-" "Agente do Caos - 2024/Q1"
nginx-1         | 172.28.0.1 - - [10/Mar/2024:03:55:19 +0000] "GET /clientes/4/extrato HTTP/1.1" 200 110 "-" "Agente do Caos - 2024/Q1"
nginx-1         | 172.28.0.1 - - [10/Mar/2024:03:55:19 +0000] "GET /clientes/1/extrato HTTP/1.1" 200 1014 "-" "Agente do Caos - 2024/Q1"
rinha-server-1  | [2024-03-10T03:55:19Z DEBUG sqlx::query] summary="SELECT c.id as customer_id, …" db.statement="\n\nSELECT\n  c.id as customer_id,\n  c.limit as customer_limit,\n  c.balance as customer_balance,\n  c.created_at as customer_created_at,\n  t.id as transaction_id,\n  t.value as transaction_value,\n  t.type as transaction_type,\n  t.description as transaction_description,\n  t.customer_id as transaction_customer_id,\n  t.created_at as transaction_created_at\nFROM\n  customers c\n  LEFT JOIN transactions t ON c.id = t.customer_id\nWHERE\n  c.id = $1\nORDER BY\n  t.created_at DESC\nLIMIT\n  10\n" rows_affected=10 rows_returned=10 elapsed=890.522µs
rinha-server-1  | [2024-03-10T03:55:19Z INFO  actix_web::middleware::logger] 172.28.0.5 "GET /clientes/1/extrato HTTP/1.0" 200 1014 "-" "Agente do Caos - 2024/Q1" 0.001441
rinha-server-2  | [2024-03-10T03:55:19Z DEBUG sqlx::query] summary="SELECT c.id as customer_id, …" db.statement="\n\nSELECT\n  c.id as customer_id,\n  c.limit as customer_limit,\n  c.balance as customer_balance,\n  c.created_at as customer_created_at,\n  t.id as transaction_id,\n  t.value as transaction_value,\n  t.type as transaction_type,\n  t.description as transaction_description,\n  t.customer_id as transaction_customer_id,\n  t.created_at as transaction_created_at\nFROM\n  customers c\n  LEFT JOIN transactions t ON c.id = t.customer_id\nWHERE\n  c.id = $1\nORDER BY\n  t.created_at DESC\nLIMIT\n  10\n" rows_affected=1 rows_returned=1 elapsed=1.062459ms
rinha-server-2  | [2024-03-10T03:55:19Z INFO  actix_web::middleware::logger] 172.28.0.5 "GET /clientes/4/extrato HTTP/1.0" 200 110 "-" "Agente do Caos - 2024/Q1" 0.001577
rinha-server-2  | [2024-03-10T03:55:19Z DEBUG sqlx::query] summary="SELECT c.id as customer_id, …" db.statement="\n\nSELECT\n  c.id as customer_id,\n  c.limit as customer_limit,\n  c.balance as customer_balance,\n  c.created_at as customer_created_at,\n  t.id as transaction_id,\n  t.value as transaction_value,\n  t.type as transaction_type,\n  t.description as transaction_description,\n  t.customer_id as transaction_customer_id,\n  t.created_at as transaction_created_at\nFROM\n  customers c\n  LEFT JOIN transactions t ON c.id = t.customer_id\nWHERE\n  c.id = $1\nORDER BY\n  t.created_at DESC\nLIMIT\n  10\n" rows_affected=1 rows_returned=1 elapsed=1.081728ms
rinha-server-2  | [2024-03-10T03:55:19Z INFO  actix_web::middleware::logger] 172.28.0.5 "GET /clientes/5/extrato HTTP/1.0" 200 108 "-" "Agente do Caos - 2024/Q1" 0.001505
nginx-1         | 172.28.0.1 - - [10/Mar/2024:03:55:19 +0000] "GET /clientes/5/extrato HTTP/1.1" 200 108 "-" "Agente do Caos - 2024/Q1"
rinha-server-2  | [2024-03-10T03:55:19Z DEBUG sqlx::query] summary="with c AS (SELECT …" db.statement="\n\nwith c AS (\n  SELECT\n    *\n  FROM\n    customers c\n  WHERE\n    id = $2\n),\nu AS (\n  UPDATE\n    customers c2\n  SET\n    balance = balance + $1\n  WHERE\n    id = $2\n    AND (balance + $1) >= - \"limit\" RETURNING id,\n    \"limit\",\n    balance\n),\ncu AS (\n  SELECT\n    COUNT(*)\n  FROM\n    u\n)\nSELECT\n  c.limit,\n  c.balance,\n  cu.count as count_update\nFROM\n  c,\n  cu\n" rows_affected=0 rows_returned=1 elapsed=182.451µs
rinha-server-2  | [2024-03-10T03:55:19Z DEBUG sqlx::query] summary="INSERT INTO transactions (value, …" db.statement="\n\nINSERT INTO\n  transactions (value, \"type\", description, customer_id)\nVALUES\n  ($1, $2, $3, $4)\n" rows_affected=1 rows_returned=0 elapsed=188.692µs
rinha-server-2  | [2024-03-10T03:55:19Z DEBUG sqlx::query] summary="SELECT c.id as customer_id, …" db.statement="\n\nSELECT\n  c.id as customer_id,\n  c.limit as customer_limit,\n  c.balance as customer_balance,\n  c.created_at as customer_created_at,\n  t.id as transaction_id,\n  t.value as transaction_value,\n  t.type as transaction_type,\n  t.description as transaction_description,\n  t.customer_id as transaction_customer_id,\n  t.created_at as transaction_created_at\nFROM\n  customers c\n  LEFT JOIN transactions t ON c.id = t.customer_id\nWHERE\n  c.id = $1\nORDER BY\n  t.created_at DESC\nLIMIT\n  10\n" rows_affected=1 rows_returned=1 elapsed=1.248807ms
rinha-server-2  | [2024-03-10T03:55:19Z INFO  actix_web::middleware::logger] 172.28.0.5 "GET /clientes/2/extrato HTTP/1.0" 200 107 "-" "Agente do Caos - 2024/Q1" 0.001707
nginx-1         | 172.28.0.1 - - [10/Mar/2024:03:55:19 +0000] "GET /clientes/3/extrato HTTP/1.1" 200 109 "-" "Agente do Caos - 2024/Q1"
nginx-1         | 172.28.0.1 - - [10/Mar/2024:03:55:19 +0000] "GET /clientes/2/extrato HTTP/1.1" 200 107 "-" "Agente do Caos - 2024/Q1"
rinha-server-1  | [2024-03-10T03:55:19Z DEBUG sqlx::query] summary="SELECT c.id as customer_id, …" db.statement="\n\nSELECT\n  c.id as customer_id,\n  c.limit as customer_limit,\n  c.balance as customer_balance,\n  c.created_at as customer_created_at,\n  t.id as transaction_id,\n  t.value as transaction_value,\n  t.type as transaction_type,\n  t.description as transaction_description,\n  t.customer_id as transaction_customer_id,\n  t.created_at as transaction_created_at\nFROM\n  customers c\n  LEFT JOIN transactions t ON c.id = t.customer_id\nWHERE\n  c.id = $1\nORDER BY\n  t.created_at DESC\nLIMIT\n  10\n" rows_affected=1 rows_returned=1 elapsed=334.551µs
rinha-server-1  | [2024-03-10T03:55:19Z INFO  actix_web::middleware::logger] 172.28.0.5 "GET /clientes/3/extrato HTTP/1.0" 200 109 "-" "Agente do Caos - 2024/Q1" 0.000753
rinha-server-1  | [2024-03-10T03:55:19Z DEBUG sqlx::query] summary="with c AS (SELECT …" db.statement="\n\nwith c AS (\n  SELECT\n    *\n  FROM\n    customers c\n  WHERE\n    id = $2\n),\nu AS (\n  UPDATE\n    customers c2\n  SET\n    balance = balance + $1\n  WHERE\n    id = $2\n    AND (balance + $1) >= - \"limit\" RETURNING id,\n    \"limit\",\n    balance\n),\ncu AS (\n  SELECT\n    COUNT(*)\n  FROM\n    u\n)\nSELECT\n  c.limit,\n  c.balance,\n  cu.count as count_update\nFROM\n  c,\n  cu\n" rows_affected=0 rows_returned=1 elapsed=1.038382ms
rinha-server-1  | [2024-03-10T03:55:19Z DEBUG sqlx::query] summary="INSERT INTO transactions (value, …" db.statement="\n\nINSERT INTO\n  transactions (value, \"type\", description, customer_id)\nVALUES\n  ($1, $2, $3, $4)\n" rows_affected=1 rows_returned=0 elapsed=475.254µs
rinha-server-1  | [2024-03-10T03:55:19Z DEBUG sqlx::query] summary="with c AS (SELECT …" db.statement="\n\nwith c AS (\n  SELECT\n    *\n  FROM\n    customers c\n  WHERE\n    id = $2\n),\nu AS (\n  UPDATE\n    customers c2\n  SET\n    balance = balance + $1\n  WHERE\n    id = $2\n    AND (balance + $1) >= - \"limit\" RETURNING id,\n    \"limit\",\n    balance\n),\ncu AS (\n  SELECT\n    COUNT(*)\n  FROM\n    u\n)\nSELECT\n  c.limit,\n  c.balance,\n  cu.count as count_update\nFROM\n  c,\n  cu\n" rows_affected=0 rows_returned=1 elapsed=562.013µs
rinha-server-1  | [2024-03-10T03:55:19Z DEBUG sqlx::query] summary="INSERT INTO transactions (value, …" db.statement="\n\nINSERT INTO\n  transactions (value, \"type\", description, customer_id)\nVALUES\n  ($1, $2, $3, $4)\n" rows_affected=1 rows_returned=0 elapsed=270.328µs
rinha-server-2  | [2024-03-10T03:55:19Z DEBUG sqlx::query] summary="COMMIT" db.statement="" rows_affected=0 rows_returned=0 elapsed=2.297715ms
rinha-server-2  | [2024-03-10T03:55:19Z INFO  actix_web::middleware::logger] 172.28.0.5 "POST /clientes/1/transacoes HTTP/1.0" 200 27 "-" "Agente do Caos - 2024/Q1" 0.003410
nginx-1         | 172.28.0.1 - - [10/Mar/2024:03:55:19 +0000] "POST /clientes/1/transacoes HTTP/1.1" 200 27 "-" "Agente do Caos - 2024/Q1"
rinha-server-2  | [2024-03-10T03:55:19Z DEBUG sqlx::query] summary="with c AS (SELECT …" db.statement="\n\nwith c AS (\n  SELECT\n    *\n  FROM\n    customers c\n  WHERE\n    id = $2\n),\nu AS (\n  UPDATE\n    customers c2\n  SET\n    balance = balance + $1\n  WHERE\n    id = $2\n    AND (balance + $1) >= - \"limit\" RETURNING id,\n    \"limit\",\n    balance\n),\ncu AS (\n  SELECT\n    COUNT(*)\n  FROM\n    u\n)\nSELECT\n  c.limit,\n  c.balance,\n  cu.count as count_update\nFROM\n  c,\n  cu\n" rows_affected=0 rows_returned=1 elapsed=545.059µs
rinha-server-1  | [2024-03-10T03:55:19Z DEBUG sqlx::query] summary="COMMIT" db.statement="" rows_affected=0 rows_returned=0 elapsed=2.873599ms
rinha-server-1  | [2024-03-10T03:55:19Z INFO  actix_web::middleware::logger] 172.28.0.5 "POST /clientes/5/transacoes HTTP/1.0" 200 27 "-" "Agente do Caos - 2024/Q1" 0.004956
nginx-1         | 172.28.0.1 - - [10/Mar/2024:03:55:19 +0000] "POST /clientes/5/transacoes HTTP/1.1" 200 27 "-" "Agente do Caos - 2024/Q1"
rinha-server-2  | [2024-03-10T03:55:19Z DEBUG sqlx::query] summary="INSERT INTO transactions (value, …" db.statement="\n\nINSERT INTO\n  transactions (value, \"type\", description, customer_id)\nVALUES\n  ($1, $2, $3, $4)\n" rows_affected=1 rows_returned=0 elapsed=339.652µs
rinha-server-1  | [2024-03-10T03:55:19Z DEBUG sqlx::query] summary="COMMIT" db.statement="" rows_affected=0 rows_returned=0 elapsed=2.232009ms
rinha-server-1  | [2024-03-10T03:55:19Z INFO  actix_web::middleware::logger] 172.28.0.5 "POST /clientes/4/transacoes HTTP/1.0" 200 29 "-" "Agente do Caos - 2024/Q1" 0.004814
nginx-1         | 172.28.0.1 - - [10/Mar/2024:03:55:19 +0000] "POST /clientes/4/transacoes HTTP/1.1" 200 29 "-" "Agente do Caos - 2024/Q1"
rinha-server-1  | [2024-03-10T03:55:19Z DEBUG sqlx::query] summary="with c AS (SELECT …" db.statement="\n\nwith c AS (\n  SELECT\n    *\n  FROM\n    customers c\n  WHERE\n    id = $2\n),\nu AS (\n  UPDATE\n    customers c2\n  SET\n    balance = balance + $1\n  WHERE\n    id = $2\n    AND (balance + $1) >= - \"limit\" RETURNING id,\n    \"limit\",\n    balance\n),\ncu AS (\n  SELECT\n    COUNT(*)\n  FROM\n    u\n)\nSELECT\n  c.limit,\n  c.balance,\n  cu.count as count_update\nFROM\n  c,\n  cu\n" rows_affected=0 rows_returned=1 elapsed=361.892µs
rinha-server-1  | [2024-03-10T03:55:19Z DEBUG sqlx::query] summary="INSERT INTO transactions (value, …" db.statement="\n\nINSERT INTO\n  transactions (value, \"type\", description, customer_id)\nVALUES\n  ($1, $2, $3, $4)\n" rows_affected=1 rows_returned=0 elapsed=164.889µs
rinha-server-2  | [2024-03-10T03:55:19Z DEBUG sqlx::query] summary="COMMIT" db.statement="" rows_affected=0 rows_returned=0 elapsed=1.343227ms
rinha-server-2  | [2024-03-10T03:55:19Z INFO  actix_web::middleware::logger] 172.28.0.5 "POST /clientes/3/transacoes HTTP/1.0" 200 28 "-" "Agente do Caos - 2024/Q1" 0.003109
nginx-1         | 172.28.0.1 - - [10/Mar/2024:03:55:19 +0000] "POST /clientes/3/transacoes HTTP/1.1" 200 28 "-" "Agente do Caos - 2024/Q1"
rinha-server-2  | [2024-03-10T03:55:19Z DEBUG sqlx::query] summary="with c AS (SELECT …" db.statement="\n\nwith c AS (\n  SELECT\n    *\n  FROM\n    customers c\n  WHERE\n    id = $2\n),\nu AS (\n  UPDATE\n    customers c2\n  SET\n    balance = balance + $1\n  WHERE\n    id = $2\n    AND (balance + $1) >= - \"limit\" RETURNING id,\n    \"limit\",\n    balance\n),\ncu AS (\n  SELECT\n    COUNT(*)\n  FROM\n    u\n)\nSELECT\n  c.limit,\n  c.balance,\n  cu.count as count_update\nFROM\n  c,\n  cu\n" rows_affected=0 rows_returned=1 elapsed=148.827µs
rinha-server-2  | [2024-03-10T03:55:19Z DEBUG sqlx::query] summary="INSERT INTO transactions (value, …" db.statement="\n\nINSERT INTO\n  transactions (value, \"type\", description, customer_id)\nVALUES\n  ($1, $2, $3, $4)\n" rows_affected=1 rows_returned=0 elapsed=224.207µs
rinha-server-2  | [2024-03-10T03:55:19Z DEBUG sqlx::query] summary="with c AS (SELECT …" db.statement="\n\nwith c AS (\n  SELECT\n    *\n  FROM\n    customers c\n  WHERE\n    id = $2\n),\nu AS (\n  UPDATE\n    customers c2\n  SET\n    balance = balance + $1\n  WHERE\n    id = $2\n    AND (balance + $1) >= - \"limit\" RETURNING id,\n    \"limit\",\n    balance\n),\ncu AS (\n  SELECT\n    COUNT(*)\n  FROM\n    u\n)\nSELECT\n  c.limit,\n  c.balance,\n  cu.count as count_update\nFROM\n  c,\n  cu\n" rows_affected=0 rows_returned=1 elapsed=241.54µs
rinha-server-2  | [2024-03-10T03:55:19Z DEBUG sqlx::query] summary="INSERT INTO transactions (value, …" db.statement="\n\nINSERT INTO\n  transactions (value, \"type\", description, customer_id)\nVALUES\n  ($1, $2, $3, $4)\n" rows_affected=1 rows_returned=0 elapsed=332.756µs
rinha-server-1  | [2024-03-10T03:55:19Z DEBUG sqlx::query] summary="COMMIT" db.statement="" rows_affected=0 rows_returned=0 elapsed=2.571898ms
rinha-server-1  | [2024-03-10T03:55:19Z INFO  actix_web::middleware::logger] 172.28.0.5 "POST /clientes/2/transacoes HTTP/1.0" 200 26 "-" "Agente do Caos - 2024/Q1" 0.003673
nginx-1         | 172.28.0.1 - - [10/Mar/2024:03:55:19 +0000] "POST /clientes/2/transacoes HTTP/1.1" 200 26 "-" "Agente do Caos - 2024/Q1"
rinha-server-1  | [2024-03-10T03:55:19Z DEBUG sqlx::query] summary="with c AS (SELECT …" db.statement="\n\nwith c AS (\n  SELECT\n    *\n  FROM\n    customers c\n  WHERE\n    id = $2\n),\nu AS (\n  UPDATE\n    customers c2\n  SET\n    balance = balance + $1\n  WHERE\n    id = $2\n    AND (balance + $1) >= - \"limit\" RETURNING id,\n    \"limit\",\n    balance\n),\ncu AS (\n  SELECT\n    COUNT(*)\n  FROM\n    u\n)\nSELECT\n  c.limit,\n  c.balance,\n  cu.count as count_update\nFROM\n  c,\n  cu\n" rows_affected=0 rows_returned=1 elapsed=587.254µs
rinha-server-1  | [2024-03-10T03:55:19Z DEBUG sqlx::query] summary="with c AS (SELECT …" db.statement="\n\nwith c AS (\n  SELECT\n    *\n  FROM\n    customers c\n  WHERE\n    id = $2\n),\nu AS (\n  UPDATE\n    customers c2\n  SET\n    balance = balance + $1\n  WHERE\n    id = $2\n    AND (balance + $1) >= - \"limit\" RETURNING id,\n    \"limit\",\n    balance\n),\ncu AS (\n  SELECT\n    COUNT(*)\n  FROM\n    u\n)\nSELECT\n  c.limit,\n  c.balance,\n  cu.count as count_update\nFROM\n  c,\n  cu\n" rows_affected=0 rows_returned=1 elapsed=371.081µs
rinha-server-1  | [2024-03-10T03:55:19Z DEBUG sqlx::query] summary="INSERT INTO transactions (value, …" db.statement="\n\nINSERT INTO\n  transactions (value, \"type\", description, customer_id)\nVALUES\n  ($1, $2, $3, $4)\n" rows_affected=1 rows_returned=0 elapsed=187.689µs
rinha-server-1  | [2024-03-10T03:55:19Z DEBUG sqlx::query] summary="INSERT INTO transactions (value, …" db.statement="\n\nINSERT INTO\n  transactions (value, \"type\", description, customer_id)\nVALUES\n  ($1, $2, $3, $4)\n" rows_affected=1 rows_returned=0 elapsed=653.328µs
rinha-server-2  | [2024-03-10T03:55:19Z DEBUG sqlx::query] summary="COMMIT" db.statement="" rows_affected=0 rows_returned=0 elapsed=1.995038ms
rinha-server-2  | [2024-03-10T03:55:19Z INFO  actix_web::middleware::logger] 172.28.0.5 "POST /clientes/3/transacoes HTTP/1.0" 200 28 "-" "Agente do Caos - 2024/Q1" 0.002881
nginx-1         | 172.28.0.1 - - [10/Mar/2024:03:55:19 +0000] "POST /clientes/3/transacoes HTTP/1.1" 200 28 "-" "Agente do Caos - 2024/Q1"
rinha-server-2  | [2024-03-10T03:55:19Z DEBUG sqlx::query] summary="with c AS (SELECT …" db.statement="\n\nwith c AS (\n  SELECT\n    *\n  FROM\n    customers c\n  WHERE\n    id = $2\n),\nu AS (\n  UPDATE\n    customers c2\n  SET\n    balance = balance + $1\n  WHERE\n    id = $2\n    AND (balance + $1) >= - \"limit\" RETURNING id,\n    \"limit\",\n    balance\n),\ncu AS (\n  SELECT\n    COUNT(*)\n  FROM\n    u\n)\nSELECT\n  c.limit,\n  c.balance,\n  cu.count as count_update\nFROM\n  c,\n  cu\n" rows_affected=0 rows_returned=1 elapsed=271.059µs
rinha-server-2  | [2024-03-10T03:55:19Z DEBUG sqlx::query] summary="INSERT INTO transactions (value, …" db.statement="\n\nINSERT INTO\n  transactions (value, \"type\", description, customer_id)\nVALUES\n  ($1, $2, $3, $4)\n" rows_affected=1 rows_returned=0 elapsed=235.101µs
nginx-1         | 172.28.0.1 - - [10/Mar/2024:03:55:19 +0000] "POST /clientes/5/transacoes HTTP/1.1" 200 27 "-" "Agente do Caos - 2024/Q1"
nginx-1         | 172.28.0.1 - - [10/Mar/2024:03:55:19 +0000] "POST /clientes/1/transacoes HTTP/1.1" 200 27 "-" "Agente do Caos - 2024/Q1"
nginx-1         | 172.28.0.1 - - [10/Mar/2024:03:55:19 +0000] "POST /clientes/4/transacoes HTTP/1.1" 200 29 "-" "Agente do Caos - 2024/Q1"
rinha-server-1  | [2024-03-10T03:55:19Z DEBUG sqlx::query] summary="COMMIT" db.statement="" rows_affected=0 rows_returned=0 elapsed=2.310945ms
rinha-server-1  | [2024-03-10T03:55:19Z INFO  actix_web::middleware::logger] 172.28.0.5 "POST /clientes/5/transacoes HTTP/1.0" 200 27 "-" "Agente do Caos - 2024/Q1" 0.004322
rinha-server-1  | [2024-03-10T03:55:19Z DEBUG sqlx::query] summary="COMMIT" db.statement="" rows_affected=0 rows_returned=0 elapsed=2.591854ms
rinha-server-1  | [2024-03-10T03:55:19Z INFO  actix_web::middleware::logger] 172.28.0.5 "POST /clientes/4/transacoes HTTP/1.0" 200 29 "-" "Agente do Caos - 2024/Q1" 0.003672
rinha-server-2  | [2024-03-10T03:55:19Z DEBUG sqlx::query] summary="COMMIT" db.statement="" rows_affected=0 rows_returned=0 elapsed=2.440509ms
rinha-server-2  | [2024-03-10T03:55:19Z INFO  actix_web::middleware::logger] 172.28.0.5 "POST /clientes/1/transacoes HTTP/1.0" 200 27 "-" "Agente do Caos - 2024/Q1" 0.004509
rinha-server-2  | [2024-03-10T03:55:19Z DEBUG sqlx::query] summary="COMMIT" db.statement="" rows_affected=0 rows_returned=0 elapsed=2.358058ms
rinha-server-2  | [2024-03-10T03:55:19Z INFO  actix_web::middleware::logger] 172.28.0.5 "POST /clientes/2/transacoes HTTP/1.0" 200 26 "-" "Agente do Caos - 2024/Q1" 0.003421
nginx-1         | 172.28.0.1 - - [10/Mar/2024:03:55:19 +0000] "POST /clientes/2/transacoes HTTP/1.1" 200 26 "-" "Agente do Caos - 2024/Q1"
rinha-server-2  | [2024-03-10T03:55:19Z DEBUG sqlx::query] summary="SELECT c.id as customer_id, …" db.statement="\n\nSELECT\n  c.id as customer_id,\n  c.limit as customer_limit,\n  c.balance as customer_balance,\n  c.created_at as customer_created_at,\n  t.id as transaction_id,\n  t.value as transaction_value,\n  t.type as transaction_type,\n  t.description as transaction_description,\n  t.customer_id as transaction_customer_id,\n  t.created_at as transaction_created_at\nFROM\n  customers c\n  LEFT JOIN transactions t ON c.id = t.customer_id\nWHERE\n  c.id = $1\nORDER BY\n  t.created_at DESC\nLIMIT\n  10\n" rows_affected=2 rows_returned=2 elapsed=273.004µs
rinha-server-2  | [2024-03-10T03:55:19Z INFO  actix_web::middleware::logger] 172.28.0.5 "GET /clientes/4/extrato HTTP/1.0" 200 284 "-" "Agente do Caos - 2024/Q1" 0.001055
nginx-1         | 172.28.0.1 - - [10/Mar/2024:03:55:19 +0000] "GET /clientes/4/extrato HTTP/1.1" 200 284 "-" "Agente do Caos - 2024/Q1"
nginx-1         | 172.28.0.1 - - [10/Mar/2024:03:55:19 +0000] "GET /clientes/5/extrato HTTP/1.1" 200 282 "-" "Agente do Caos - 2024/Q1"
nginx-1         | 172.28.0.1 - - [10/Mar/2024:03:55:19 +0000] "GET /clientes/3/extrato HTTP/1.1" 200 283 "-" "Agente do Caos - 2024/Q1"
rinha-server-1  | [2024-03-10T03:55:19Z DEBUG sqlx::query] summary="SELECT c.id as customer_id, …" db.statement="\n\nSELECT\n  c.id as customer_id,\n  c.limit as customer_limit,\n  c.balance as customer_balance,\n  c.created_at as customer_created_at,\n  t.id as transaction_id,\n  t.value as transaction_value,\n  t.type as transaction_type,\n  t.description as transaction_description,\n  t.customer_id as transaction_customer_id,\n  t.created_at as transaction_created_at\nFROM\n  customers c\n  LEFT JOIN transactions t ON c.id = t.customer_id\nWHERE\n  c.id = $1\nORDER BY\n  t.created_at DESC\nLIMIT\n  10\n" rows_affected=2 rows_returned=2 elapsed=936.106µs
rinha-server-1  | [2024-03-10T03:55:19Z INFO  actix_web::middleware::logger] 172.28.0.5 "GET /clientes/5/extrato HTTP/1.0" 200 282 "-" "Agente do Caos - 2024/Q1" 0.001387
rinha-server-2  | [2024-03-10T03:55:19Z DEBUG sqlx::query] summary="SELECT c.id as customer_id, …" db.statement="\n\nSELECT\n  c.id as customer_id,\n  c.limit as customer_limit,\n  c.balance as customer_balance,\n  c.created_at as customer_created_at,\n  t.id as transaction_id,\n  t.value as transaction_value,\n  t.type as transaction_type,\n  t.description as transaction_description,\n  t.customer_id as transaction_customer_id,\n  t.created_at as transaction_created_at\nFROM\n  customers c\n  LEFT JOIN transactions t ON c.id = t.customer_id\nWHERE\n  c.id = $1\nORDER BY\n  t.created_at DESC\nLIMIT\n  10\n" rows_affected=2 rows_returned=2 elapsed=411.616µs
rinha-server-2  | [2024-03-10T03:55:19Z INFO  actix_web::middleware::logger] 172.28.0.5 "GET /clientes/3/extrato HTTP/1.0" 200 283 "-" "Agente do Caos - 2024/Q1" 0.001854
nginx-1         | 172.28.0.1 - - [10/Mar/2024:03:55:19 +0000] "GET /clientes/1/extrato HTTP/1.1" 200 1010 "-" "Agente do Caos - 2024/Q1"
rinha-server-1  | [2024-03-10T03:55:19Z DEBUG sqlx::query] summary="SELECT c.id as customer_id, …" db.statement="\n\nSELECT\n  c.id as customer_id,\n  c.limit as customer_limit,\n  c.balance as customer_balance,\n  c.created_at as customer_created_at,\n  t.id as transaction_id,\n  t.value as transaction_value,\n  t.type as transaction_type,\n  t.description as transaction_description,\n  t.customer_id as transaction_customer_id,\n  t.created_at as transaction_created_at\nFROM\n  customers c\n  LEFT JOIN transactions t ON c.id = t.customer_id\nWHERE\n  c.id = $1\nORDER BY\n  t.created_at DESC\nLIMIT\n  10\n" rows_affected=10 rows_returned=10 elapsed=2.617616ms
rinha-server-1  | [2024-03-10T03:55:19Z INFO  actix_web::middleware::logger] 172.28.0.5 "GET /clientes/1/extrato HTTP/1.0" 200 1010 "-" "Agente do Caos - 2024/Q1" 0.003028
rinha-server-1  | [2024-03-10T03:55:19Z DEBUG sqlx::query] summary="SELECT c.id as customer_id, …" db.statement="\n\nSELECT\n  c.id as customer_id,\n  c.limit as customer_limit,\n  c.balance as customer_balance,\n  c.created_at as customer_created_at,\n  t.id as transaction_id,\n  t.value as transaction_value,\n  t.type as transaction_type,\n  t.description as transaction_description,\n  t.customer_id as transaction_customer_id,\n  t.created_at as transaction_created_at\nFROM\n  customers c\n  LEFT JOIN transactions t ON c.id = t.customer_id\nWHERE\n  c.id = $1\nORDER BY\n  t.created_at DESC\nLIMIT\n  10\n" rows_affected=2 rows_returned=2 elapsed=261.747µs
rinha-server-1  | [2024-03-10T03:55:19Z INFO  actix_web::middleware::logger] 172.28.0.5 "GET /clientes/2/extrato HTTP/1.0" 200 281 "-" "Agente do Caos - 2024/Q1" 0.000673
nginx-1         | 172.28.0.1 - - [10/Mar/2024:03:55:19 +0000] "GET /clientes/2/extrato HTTP/1.1" 200 281 "-" "Agente do Caos - 2024/Q1"
rinha-server-2  | [2024-03-10T03:55:19Z DEBUG sqlx::query] summary="with c AS (SELECT …" db.statement="\n\nwith c AS (\n  SELECT\n    *\n  FROM\n    customers c\n  WHERE\n    id = $2\n),\nu AS (\n  UPDATE\n    customers c2\n  SET\n    balance = balance + $1\n  WHERE\n    id = $2\n    AND (balance + $1) >= - \"limit\" RETURNING id,\n    \"limit\",\n    balance\n),\ncu AS (\n  SELECT\n    COUNT(*)\n  FROM\n    u\n)\nSELECT\n  c.limit,\n  c.balance,\n  cu.count as count_update\nFROM\n  c,\n  cu\n" rows_affected=0 rows_returned=1 elapsed=135.957µs
rinha-server-1  | [2024-03-10T03:55:19Z DEBUG sqlx::query] summary="with c AS (SELECT …" db.statement="\n\nwith c AS (\n  SELECT\n    *\n  FROM\n    customers c\n  WHERE\n    id = $2\n),\nu AS (\n  UPDATE\n    customers c2\n  SET\n    balance = balance + $1\n  WHERE\n    id = $2\n    AND (balance + $1) >= - \"limit\" RETURNING id,\n    \"limit\",\n    balance\n),\ncu AS (\n  SELECT\n    COUNT(*)\n  FROM\n    u\n)\nSELECT\n  c.limit,\n  c.balance,\n  cu.count as count_update\nFROM\n  c,\n  cu\n" rows_affected=0 rows_returned=1 elapsed=268.493µs
rinha-server-2  | [2024-03-10T03:55:19Z DEBUG sqlx::query] summary="INSERT INTO transactions (value, …" db.statement="\n\nINSERT INTO\n  transactions (value, \"type\", description, customer_id)\nVALUES\n  ($1, $2, $3, $4)\n" rows_affected=1 rows_returned=0 elapsed=205.714µs
rinha-server-1  | [2024-03-10T03:55:19Z DEBUG sqlx::query] summary="INSERT INTO transactions (value, …" db.statement="\n\nINSERT INTO\n  transactions (value, \"type\", description, customer_id)\nVALUES\n  ($1, $2, $3, $4)\n" rows_affected=1 rows_returned=0 elapsed=332.015µs
rinha-server-2  | [2024-03-10T03:55:19Z DEBUG sqlx::query] summary="with c AS (SELECT …" db.statement="\n\nwith c AS (\n  SELECT\n    *\n  FROM\n    customers c\n  WHERE\n    id = $2\n),\nu AS (\n  UPDATE\n    customers c2\n  SET\n    balance = balance + $1\n  WHERE\n    id = $2\n    AND (balance + $1) >= - \"limit\" RETURNING id,\n    \"limit\",\n    balance\n),\ncu AS (\n  SELECT\n    COUNT(*)\n  FROM\n    u\n)\nSELECT\n  c.limit,\n  c.balance,\n  cu.count as count_update\nFROM\n  c,\n  cu\n" rows_affected=0 rows_returned=1 elapsed=255.301µs
nginx-1         | 172.28.0.1 - - [10/Mar/2024:03:55:19 +0000] "POST /clientes/5/transacoes HTTP/1.1" 200 27 "-" "Agente do Caos - 2024/Q1"
rinha-server-2  | [2024-03-10T03:55:19Z DEBUG sqlx::query] summary="COMMIT" db.statement="" rows_affected=0 rows_returned=0 elapsed=1.634243ms
rinha-server-2  | [2024-03-10T03:55:19Z INFO  actix_web::middleware::logger] 172.28.0.5 "POST /clientes/5/transacoes HTTP/1.0" 200 27 "-" "Agente do Caos - 2024/Q1" 0.002526
rinha-server-2  | [2024-03-10T03:55:19Z DEBUG sqlx::query] summary="INSERT INTO transactions (value, …" db.statement="\n\nINSERT INTO\n  transactions (value, \"type\", description, customer_id)\nVALUES\n  ($1, $2, $3, $4)\n" rows_affected=1 rows_returned=0 elapsed=401.125µs
nginx-1         | 172.28.0.1 - - [10/Mar/2024:03:55:19 +0000] "POST /clientes/2/transacoes HTTP/1.1" 200 26 "-" "Agente do Caos - 2024/Q1"
rinha-server-2  | [2024-03-10T03:55:19Z DEBUG sqlx::query] summary="with c AS (SELECT …" db.statement="\n\nwith c AS (\n  SELECT\n    *\n  FROM\n    customers c\n  WHERE\n    id = $2\n),\nu AS (\n  UPDATE\n    customers c2\n  SET\n    balance = balance + $1\n  WHERE\n    id = $2\n    AND (balance + $1) >= - \"limit\" RETURNING id,\n    \"limit\",\n    balance\n),\ncu AS (\n  SELECT\n    COUNT(*)\n  FROM\n    u\n)\nSELECT\n  c.limit,\n  c.balance,\n  cu.count as count_update\nFROM\n  c,\n  cu\n" rows_affected=0 rows_returned=1 elapsed=263.654µs
rinha-server-1  | [2024-03-10T03:55:19Z DEBUG sqlx::query] summary="with c AS (SELECT …" db.statement="\n\nwith c AS (\n  SELECT\n    *\n  FROM\n    customers c\n  WHERE\n    id = $2\n),\nu AS (\n  UPDATE\n    customers c2\n  SET\n    balance = balance + $1\n  WHERE\n    id = $2\n    AND (balance + $1) >= - \"limit\" RETURNING id,\n    \"limit\",\n    balance\n),\ncu AS (\n  SELECT\n    COUNT(*)\n  FROM\n    u\n)\nSELECT\n  c.limit,\n  c.balance,\n  cu.count as count_update\nFROM\n  c,\n  cu\n" rows_affected=0 rows_returned=1 elapsed=160.643µs
rinha-server-1  | [2024-03-10T03:55:19Z DEBUG sqlx::query] summary="COMMIT" db.statement="" rows_affected=0 rows_returned=0 elapsed=3.251808ms
rinha-server-1  | [2024-03-10T03:55:19Z INFO  actix_web::middleware::logger] 172.28.0.5 "POST /clientes/2/transacoes HTTP/1.0" 200 26 "-" "Agente do Caos - 2024/Q1" 0.004350
rinha-server-1  | [2024-03-10T03:55:19Z DEBUG sqlx::query] summary="INSERT INTO transactions (value, …" db.statement="\n\nINSERT INTO\n  transactions (value, \"type\", description, customer_id)\nVALUES\n  ($1, $2, $3, $4)\n" rows_affected=1 rows_returned=0 elapsed=1.330154ms
rinha-server-2  | [2024-03-10T03:55:19Z DEBUG sqlx::query] summary="INSERT INTO transactions (value, …" db.statement="\n\nINSERT INTO\n  transactions (value, \"type\", description, customer_id)\nVALUES\n  ($1, $2, $3, $4)\n" rows_affected=1 rows_returned=0 elapsed=784.63µs
rinha-server-2  | [2024-03-10T03:55:19Z DEBUG sqlx::query] summary="COMMIT" db.statement="" rows_affected=0 rows_returned=0 elapsed=3.066712ms
rinha-server-2  | [2024-03-10T03:55:19Z INFO  actix_web::middleware::logger] 172.28.0.5 "POST /clientes/4/transacoes HTTP/1.0" 200 29 "-" "Agente do Caos - 2024/Q1" 0.004256
nginx-1         | 172.28.0.1 - - [10/Mar/2024:03:55:19 +0000] "POST /clientes/4/transacoes HTTP/1.1" 200 29 "-" "Agente do Caos - 2024/Q1"
rinha-server-2  | [2024-03-10T03:55:19Z DEBUG sqlx::query] summary="COMMIT" db.statement="" rows_affected=0 rows_returned=0 elapsed=2.383204ms
rinha-server-2  | [2024-03-10T03:55:19Z INFO  actix_web::middleware::logger] 172.28.0.5 "POST /clientes/3/transacoes HTTP/1.0" 200 28 "-" "Agente do Caos - 2024/Q1" 0.004330
nginx-1         | 172.28.0.1 - - [10/Mar/2024:03:55:19 +0000] "POST /clientes/3/transacoes HTTP/1.1" 200 28 "-" "Agente do Caos - 2024/Q1"
nginx-1         | 172.28.0.1 - - [10/Mar/2024:03:55:19 +0000] "POST /clientes/1/transacoes HTTP/1.1" 200 27 "-" "Agente do Caos - 2024/Q1"
rinha-server-1  | [2024-03-10T03:55:19Z DEBUG sqlx::query] summary="COMMIT" db.statement="" rows_affected=0 rows_returned=0 elapsed=2.984993ms
rinha-server-1  | [2024-03-10T03:55:19Z INFO  actix_web::middleware::logger] 172.28.0.5 "POST /clientes/1/transacoes HTTP/1.0" 200 27 "-" "Agente do Caos - 2024/Q1" 0.005035
rinha-server-1  | [2024-03-10T03:55:19Z DEBUG sqlx::query] summary="SELECT c.id as customer_id, …" db.statement="\n\nSELECT\n  c.id as customer_id,\n  c.limit as customer_limit,\n  c.balance as customer_balance,\n  c.created_at as customer_created_at,\n  t.id as transaction_id,\n  t.value as transaction_value,\n  t.type as transaction_type,\n  t.description as transaction_description,\n  t.customer_id as transaction_customer_id,\n  t.created_at as transaction_created_at\nFROM\n  customers c\n  LEFT JOIN transactions t ON c.id = t.customer_id\nWHERE\n  c.id = $1\nORDER BY\n  t.created_at DESC\nLIMIT\n  10\n" rows_affected=3 rows_returned=3 elapsed=415.149µs
rinha-server-1  | [2024-03-10T03:55:19Z INFO  actix_web::middleware::logger] 172.28.0.5 "GET /clientes/2/extrato HTTP/1.0" 200 369 "-" "Agente do Caos - 2024/Q1" 0.000871
rinha-server-2  | [2024-03-10T03:55:19Z DEBUG sqlx::query] summary="SELECT c.id as customer_id, …" db.statement="\n\nSELECT\n  c.id as customer_id,\n  c.limit as customer_limit,\n  c.balance as customer_balance,\n  c.created_at as customer_created_at,\n  t.id as transaction_id,\n  t.value as transaction_value,\n  t.type as transaction_type,\n  t.description as transaction_description,\n  t.customer_id as transaction_customer_id,\n  t.created_at as transaction_created_at\nFROM\n  customers c\n  LEFT JOIN transactions t ON c.id = t.customer_id\nWHERE\n  c.id = $1\nORDER BY\n  t.created_at DESC\nLIMIT\n  10\n" rows_affected=3 rows_returned=3 elapsed=863.659µs
rinha-server-2  | [2024-03-10T03:55:19Z INFO  actix_web::middleware::logger] 172.28.0.5 "GET /clientes/3/extrato HTTP/1.0" 200 371 "-" "Agente do Caos - 2024/Q1" 0.001492
rinha-server-2  | [2024-03-10T03:55:19Z DEBUG sqlx::query] summary="SELECT c.id as customer_id, …" db.statement="\n\nSELECT\n  c.id as customer_id,\n  c.limit as customer_limit,\n  c.balance as customer_balance,\n  c.created_at as customer_created_at,\n  t.id as transaction_id,\n  t.value as transaction_value,\n  t.type as transaction_type,\n  t.description as transaction_description,\n  t.customer_id as transaction_customer_id,\n  t.created_at as transaction_created_at\nFROM\n  customers c\n  LEFT JOIN transactions t ON c.id = t.customer_id\nWHERE\n  c.id = $1\nORDER BY\n  t.created_at DESC\nLIMIT\n  10\n" rows_affected=3 rows_returned=3 elapsed=812.864µs
rinha-server-2  | [2024-03-10T03:55:19Z INFO  actix_web::middleware::logger] 172.28.0.5 "GET /clientes/4/extrato HTTP/1.0" 200 372 "-" "Agente do Caos - 2024/Q1" 0.002111
nginx-1         | 172.28.0.1 - - [10/Mar/2024:03:55:19 +0000] "GET /clientes/2/extrato HTTP/1.1" 200 369 "-" "Agente do Caos - 2024/Q1"
nginx-1         | 172.28.0.1 - - [10/Mar/2024:03:55:19 +0000] "GET /clientes/3/extrato HTTP/1.1" 200 371 "-" "Agente do Caos - 2024/Q1"
nginx-1         | 172.28.0.1 - - [10/Mar/2024:03:55:19 +0000] "GET /clientes/1/extrato HTTP/1.1" 200 1007 "-" "Agente do Caos - 2024/Q1"
rinha-server-1  | [2024-03-10T03:55:19Z DEBUG sqlx::query] summary="SELECT c.id as customer_id, …" db.statement="\n\nSELECT\n  c.id as customer_id,\n  c.limit as customer_limit,\n  c.balance as customer_balance,\n  c.created_at as customer_created_at,\n  t.id as transaction_id,\n  t.value as transaction_value,\n  t.type as transaction_type,\n  t.description as transaction_description,\n  t.customer_id as transaction_customer_id,\n  t.created_at as transaction_created_at\nFROM\n  customers c\n  LEFT JOIN transactions t ON c.id = t.customer_id\nWHERE\n  c.id = $1\nORDER BY\n  t.created_at DESC\nLIMIT\n  10\n" rows_affected=10 rows_returned=10 elapsed=324.822µs
rinha-server-1  | [2024-03-10T03:55:19Z INFO  actix_web::middleware::logger] 172.28.0.5 "GET /clientes/1/extrato HTTP/1.0" 200 1007 "-" "Agente do Caos - 2024/Q1" 0.001592
nginx-1         | 172.28.0.1 - - [10/Mar/2024:03:55:19 +0000] "GET /clientes/4/extrato HTTP/1.1" 200 372 "-" "Agente do Caos - 2024/Q1"
rinha-server-2  | [2024-03-10T03:55:19Z DEBUG sqlx::query] summary="SELECT c.id as customer_id, …" db.statement="\n\nSELECT\n  c.id as customer_id,\n  c.limit as customer_limit,\n  c.balance as customer_balance,\n  c.created_at as customer_created_at,\n  t.id as transaction_id,\n  t.value as transaction_value,\n  t.type as transaction_type,\n  t.description as transaction_description,\n  t.customer_id as transaction_customer_id,\n  t.created_at as transaction_created_at\nFROM\n  customers c\n  LEFT JOIN transactions t ON c.id = t.customer_id\nWHERE\n  c.id = $1\nORDER BY\n  t.created_at DESC\nLIMIT\n  10\n" rows_affected=10 rows_returned=10 elapsed=308.068µs
rinha-server-2  | [2024-03-10T03:55:19Z INFO  actix_web::middleware::logger] 172.28.0.5 "GET /clientes/1/extrato HTTP/1.0" 200 1007 "-" "Agente do Caos - 2024/Q1" 0.000739
nginx-1         | 172.28.0.1 - - [10/Mar/2024:03:55:19 +0000] "GET /clientes/1/extrato HTTP/1.1" 200 1007 "-" "Agente do Caos - 2024/Q1"
rinha-server-1  | [2024-03-10T03:55:19Z DEBUG sqlx::query] summary="SELECT c.id as customer_id, …" db.statement="\n\nSELECT\n  c.id as customer_id,\n  c.limit as customer_limit,\n  c.balance as customer_balance,\n  c.created_at as customer_created_at,\n  t.id as transaction_id,\n  t.value as transaction_value,\n  t.type as transaction_type,\n  t.description as transaction_description,\n  t.customer_id as transaction_customer_id,\n  t.created_at as transaction_created_at\nFROM\n  customers c\n  LEFT JOIN transactions t ON c.id = t.customer_id\nWHERE\n  c.id = $1\nORDER BY\n  t.created_at DESC\nLIMIT\n  10\n" rows_affected=3 rows_returned=3 elapsed=2.726089ms
rinha-server-1  | [2024-03-10T03:55:19Z INFO  actix_web::middleware::logger] 172.28.0.5 "GET /clientes/5/extrato HTTP/1.0" 200 370 "-" "Agente do Caos - 2024/Q1" 0.004055
nginx-1         | 172.28.0.1 - - [10/Mar/2024:03:55:19 +0000] "GET /clientes/5/extrato HTTP/1.1" 200 370 "-" "Agente do Caos - 2024/Q1"
rinha-server-2  | [2024-03-10T03:55:19Z DEBUG sqlx::query] summary="SELECT c.id as customer_id, …" db.statement="\n\nSELECT\n  c.id as customer_id,\n  c.limit as customer_limit,\n  c.balance as customer_balance,\n  c.created_at as customer_created_at,\n  t.id as transaction_id,\n  t.value as transaction_value,\n  t.type as transaction_type,\n  t.description as transaction_description,\n  t.customer_id as transaction_customer_id,\n  t.created_at as transaction_created_at\nFROM\n  customers c\n  LEFT JOIN transactions t ON c.id = t.customer_id\nWHERE\n  c.id = $1\nORDER BY\n  t.created_at DESC\nLIMIT\n  10\n" rows_affected=3 rows_returned=3 elapsed=248.449µs
rinha-server-2  | [2024-03-10T03:55:19Z INFO  actix_web::middleware::logger] 172.28.0.5 "GET /clientes/5/extrato HTTP/1.0" 200 370 "-" "Agente do Caos - 2024/Q1" 0.000790
rinha-server-2  | [2024-03-10T03:55:19Z DEBUG sqlx::query] summary="SELECT c.id as customer_id, …" db.statement="\n\nSELECT\n  c.id as customer_id,\n  c.limit as customer_limit,\n  c.balance as customer_balance,\n  c.created_at as customer_created_at,\n  t.id as transaction_id,\n  t.value as transaction_value,\n  t.type as transaction_type,\n  t.description as transaction_description,\n  t.customer_id as transaction_customer_id,\n  t.created_at as transaction_created_at\nFROM\n  customers c\n  LEFT JOIN transactions t ON c.id = t.customer_id\nWHERE\n  c.id = $1\nORDER BY\n  t.created_at DESC\nLIMIT\n  10\n" rows_affected=10 rows_returned=10 elapsed=739.358µs
rinha-server-2  | [2024-03-10T03:55:19Z INFO  actix_web::middleware::logger] 172.28.0.5 "GET /clientes/1/extrato HTTP/1.0" 200 1007 "-" "Agente do Caos - 2024/Q1" 0.001222
rinha-server-1  | [2024-03-10T03:55:19Z DEBUG sqlx::query] summary="SELECT c.id as customer_id, …" db.statement="\n\nSELECT\n  c.id as customer_id,\n  c.limit as customer_limit,\n  c.balance as customer_balance,\n  c.created_at as customer_created_at,\n  t.id as transaction_id,\n  t.value as transaction_value,\n  t.type as transaction_type,\n  t.description as transaction_description,\n  t.customer_id as transaction_customer_id,\n  t.created_at as transaction_created_at\nFROM\n  customers c\n  LEFT JOIN transactions t ON c.id = t.customer_id\nWHERE\n  c.id = $1\nORDER BY\n  t.created_at DESC\nLIMIT\n  10\n" rows_affected=3 rows_returned=3 elapsed=226.852µs
rinha-server-1  | [2024-03-10T03:55:19Z INFO  actix_web::middleware::logger] 172.28.0.5 "GET /clientes/5/extrato HTTP/1.0" 200 370 "-" "Agente do Caos - 2024/Q1" 0.000608
rinha-server-1  | [2024-03-10T03:55:19Z DEBUG sqlx::query] summary="SELECT c.id as customer_id, …" db.statement="\n\nSELECT\n  c.id as customer_id,\n  c.limit as customer_limit,\n  c.balance as customer_balance,\n  c.created_at as customer_created_at,\n  t.id as transaction_id,\n  t.value as transaction_value,\n  t.type as transaction_type,\n  t.description as transaction_description,\n  t.customer_id as transaction_customer_id,\n  t.created_at as transaction_created_at\nFROM\n  customers c\n  LEFT JOIN transactions t ON c.id = t.customer_id\nWHERE\n  c.id = $1\nORDER BY\n  t.created_at DESC\nLIMIT\n  10\n" rows_affected=3 rows_returned=3 elapsed=373.922µs
rinha-server-1  | [2024-03-10T03:55:19Z INFO  actix_web::middleware::logger] 172.28.0.5 "GET /clientes/5/extrato HTTP/1.0" 200 370 "-" "Agente do Caos - 2024/Q1" 0.001480
nginx-1         | 172.28.0.1 - - [10/Mar/2024:03:55:19 +0000] "GET /clientes/5/extrato HTTP/1.1" 200 370 "-" "Agente do Caos - 2024/Q1"
nginx-1         | 172.28.0.1 - - [10/Mar/2024:03:55:19 +0000] "GET /clientes/1/extrato HTTP/1.1" 200 1007 "-" "Agente do Caos - 2024/Q1"
nginx-1         | 172.28.0.1 - - [10/Mar/2024:03:55:19 +0000] "GET /clientes/5/extrato HTTP/1.1" 200 370 "-" "Agente do Caos - 2024/Q1"
nginx-1         | 172.28.0.1 - - [10/Mar/2024:03:55:19 +0000] "GET /clientes/5/extrato HTTP/1.1" 200 370 "-" "Agente do Caos - 2024/Q1"
rinha-server-1  | [2024-03-10T03:55:19Z DEBUG sqlx::query] summary="SELECT c.id as customer_id, …" db.statement="\n\nSELECT\n  c.id as customer_id,\n  c.limit as customer_limit,\n  c.balance as customer_balance,\n  c.created_at as customer_created_at,\n  t.id as transaction_id,\n  t.value as transaction_value,\n  t.type as transaction_type,\n  t.description as transaction_description,\n  t.customer_id as transaction_customer_id,\n  t.created_at as transaction_created_at\nFROM\n  customers c\n  LEFT JOIN transactions t ON c.id = t.customer_id\nWHERE\n  c.id = $1\nORDER BY\n  t.created_at DESC\nLIMIT\n  10\n" rows_affected=10 rows_returned=10 elapsed=28.007164ms
rinha-server-1  | [2024-03-10T03:55:19Z INFO  actix_web::middleware::logger] 172.28.0.5 "GET /clientes/1/extrato HTTP/1.0" 200 1007 "-" "Agente do Caos - 2024/Q1" 0.029378
rinha-server-1  | [2024-03-10T03:55:19Z DEBUG actix_web::types::json] Failed to deserialize Json from payload. Request path: /clientes/5/transacoes
rinha-server-1  | [2024-03-10T03:55:19Z DEBUG actix_web::middleware::logger] Error in response: Deserialize(Error("invalid type: floating point `1.2`, expected i32", line: 1, column: 13))
rinha-server-1  | [2024-03-10T03:55:19Z INFO  actix_web::middleware::logger] 172.28.0.5 "POST /clientes/5/transacoes HTTP/1.0" 400 92 "-" "Agente do Caos - 2024/Q1" 0.000087
nginx-1         | 172.28.0.1 - - [10/Mar/2024:03:55:19 +0000] "GET /clientes/1/extrato HTTP/1.1" 200 1007 "-" "Agente do Caos - 2024/Q1"
nginx-1         | 172.28.0.1 - - [10/Mar/2024:03:55:19 +0000] "POST /clientes/5/transacoes HTTP/1.1" 400 92 "-" "Agente do Caos - 2024/Q1"
rinha-server-2  | [2024-03-10T03:55:19Z DEBUG sqlx::query] summary="SELECT c.id as customer_id, …" db.statement="\n\nSELECT\n  c.id as customer_id,\n  c.limit as customer_limit,\n  c.balance as customer_balance,\n  c.created_at as customer_created_at,\n  t.id as transaction_id,\n  t.value as transaction_value,\n  t.type as transaction_type,\n  t.description as transaction_description,\n  t.customer_id as transaction_customer_id,\n  t.created_at as transaction_created_at\nFROM\n  customers c\n  LEFT JOIN transactions t ON c.id = t.customer_id\nWHERE\n  c.id = $1\nORDER BY\n  t.created_at DESC\nLIMIT\n  10\n" rows_affected=3 rows_returned=3 elapsed=313.024µs
